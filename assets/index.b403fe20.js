var hm=Object.defineProperty,gm=Object.defineProperties;var pm=Object.getOwnPropertyDescriptors;var y0=Object.getOwnPropertySymbols;var dm=Object.prototype.hasOwnProperty,mm=Object.prototype.propertyIsEnumerable;var w0=(n,r,e)=>r in n?hm(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e,zt=(n,r)=>{for(var e in r||(r={}))dm.call(r,e)&&w0(n,e,r[e]);if(y0)for(var e of y0(r))mm.call(r,e)&&w0(n,e,r[e]);return n},Wi=(n,r)=>gm(n,pm(r));import{j as $n,i as Ph,a as Xr,av as te,ax as xh,cl as ym,bA as Rh,aj as Vn,$ as wm,c6 as Em,r as qe,S as Sm,as as Ji,aA as _m,T as $m,l as Uu}from"./vendor.fa662155.js";/* empty css              */import{s as Tm,u as Mm}from"./index.2c1e2a90.js";import{l as Pm,C as hs,c as kh,I as xm,T as bh,A as Ch,r as Q,L as Rm,a as km,b as Lh,F as bm}from"./index.6f2ad6d9.js";import{C as Nh}from"./customer-tooltip.7117a58e.js";import{t as fn}from"./tslib.b399fce5.js";import{u as Cm}from"./useChartTheme.3cba91d6.js";import{l as Lm}from"./index.b0c339fc.js";import Nm from"./data-overview.dcb89cc7.js";import Am from"./card-list.39927f70.js";/* empty css               *//* empty css               */import"./index.1951bab6.js";function Im({data:n,loading:r,height:e}){return Pm.registerShape("interval","border-radius",{draw(t,i){const a=t.points;let o=[];o.push(["M",a[0].x,a[0].y]),o.push(["L",a[1].x,a[1].y]),o.push(["L",a[2].x,a[2].y]),o.push(["L",a[3].x,a[3].y]),o.push("Z"),o=this.parsePath(o);const f=i.addGroup(),u=(o[1][2]-o[2][2])/2;return f.addShape("rect",{attrs:{x:o[0][1],y:o[0][2]-u*2,width:o[1][1]-o[0][1],height:o[1][2]-o[2][2],fill:t.color,radius:u}}),f}}),$n(Ph,{loading:r,style:{width:"100%"},children:Xr(hs,{height:e||370,padding:"auto",data:n,autoFit:!0,className:"chart-wrapper",children:[$n(kh,{transpose:!0}),$n(xm,{color:"#4086FF",position:"name*count",size:10,shape:"border-radius"}),$n(bh,{children:(t,i)=>$n(Nh,{title:t,data:i})}),$n(Ch,{name:"count",label:{formatter(t){return`${Number(t)/1e3}k`}}})]})})}var Dm={};function Ae(){return new ja}function ja(){this.reset()}ja.prototype={constructor:ja,reset:function(){this.s=this.t=0},add:function(n){E0(Ki,n,this.t),E0(this,Ki.s,this.s),this.s?this.t+=Ki.t:this.s=Ki.t},valueOf:function(){return this.s}};var Ki=new ja;function E0(n,r,e){var t=n.s=r+e,i=t-r,a=t-i;n.t=r-a+(e-i)}var X=1e-6,S0=1e-12,hn=Math.PI,Un=hn/2,Xa=hn/4,vr=hn*2,kn=180/hn,J=hn/180,Tn=Math.abs,Nt=Math.atan,ur=Math.atan2,V=Math.cos,Zi=Math.ceil,Ah=Math.exp,Wa=Math.log,Hu=Math.pow,H=Math.sin,$i=Math.sign||function(n){return n>0?1:n<0?-1:0},Yn=Math.sqrt,gs=Math.tan;function Ih(n){return n>1?0:n<-1?hn:Math.acos(n)}function $r(n){return n>1?Un:n<-1?-Un:Math.asin(n)}function _0(n){return(n=H(n/2))*n}function In(){}function Ja(n,r){n&&T0.hasOwnProperty(n.type)&&T0[n.type](n,r)}var $0={Feature:function(n,r){Ja(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)Ja(e[t].geometry,r)}},T0={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n=e[t],r.point(n[0],n[1],n[2])},LineString:function(n,r){Xl(n.coordinates,r,0)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)Xl(e[t],r,0)},Polygon:function(n,r){M0(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)M0(e[t],r)},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)Ja(e[t],r)}};function Xl(n,r,e){var t=-1,i=n.length-e,a;for(r.lineStart();++t<i;)a=n[t],r.point(a[0],a[1],a[2]);r.lineEnd()}function M0(n,r){var e=-1,t=n.length;for(r.polygonStart();++e<t;)Xl(n[e],r,1);r.polygonEnd()}function Fr(n,r){n&&$0.hasOwnProperty(n.type)?$0[n.type](n,r):Ja(n,r)}var Ka=Ae(),Za=Ae(),Dh,Oh,Wl,Jl,Kl,re={point:In,lineStart:In,lineEnd:In,polygonStart:function(){Ka.reset(),re.lineStart=Om,re.lineEnd=qm},polygonEnd:function(){var n=+Ka;Za.add(n<0?vr+n:n),this.lineStart=this.lineEnd=this.point=In},sphere:function(){Za.add(vr)}};function Om(){re.point=Fm}function qm(){qh(Dh,Oh)}function Fm(n,r){re.point=qh,Dh=n,Oh=r,n*=J,r*=J,Wl=n,Jl=V(r=r/2+Xa),Kl=H(r)}function qh(n,r){n*=J,r*=J,r=r/2+Xa;var e=n-Wl,t=e>=0?1:-1,i=t*e,a=V(r),o=H(r),f=Kl*o,u=Jl*a+f*V(i),c=f*t*H(i);Ka.add(ur(c,u)),Wl=n,Jl=a,Kl=o}function zm(n){return Za.reset(),Fr(n,re),Za*2}function Qa(n){return[ur(n[1],n[0]),$r(n[2])]}function Ke(n){var r=n[0],e=n[1],t=V(e);return[t*V(r),t*H(r),H(e)]}function Qi(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function wt(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function Yu(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function na(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function no(n){var r=Yn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}var qn,Er,Gn,br,Ge,Fh,zh,gt,di=Ae(),Me,ce,oe={point:Zl,lineStart:P0,lineEnd:x0,polygonStart:function(){oe.point=Gh,oe.lineStart=Bm,oe.lineEnd=Gm,di.reset(),re.polygonStart()},polygonEnd:function(){re.polygonEnd(),oe.point=Zl,oe.lineStart=P0,oe.lineEnd=x0,Ka<0?(qn=-(Gn=180),Er=-(br=90)):di>X?br=90:di<-X&&(Er=-90),ce[0]=qn,ce[1]=Gn}};function Zl(n,r){Me.push(ce=[qn=n,Gn=n]),r<Er&&(Er=r),r>br&&(br=r)}function Bh(n,r){var e=Ke([n*J,r*J]);if(gt){var t=wt(gt,e),i=[t[1],-t[0],0],a=wt(i,t);no(a),a=Qa(a);var o=n-Ge,f=o>0?1:-1,u=a[0]*kn*f,c,l=Tn(o)>180;l^(f*Ge<u&&u<f*n)?(c=a[1]*kn,c>br&&(br=c)):(u=(u+360)%360-180,l^(f*Ge<u&&u<f*n)?(c=-a[1]*kn,c<Er&&(Er=c)):(r<Er&&(Er=r),r>br&&(br=r))),l?n<Ge?mr(qn,n)>mr(qn,Gn)&&(Gn=n):mr(n,Gn)>mr(qn,Gn)&&(qn=n):Gn>=qn?(n<qn&&(qn=n),n>Gn&&(Gn=n)):n>Ge?mr(qn,n)>mr(qn,Gn)&&(Gn=n):mr(n,Gn)>mr(qn,Gn)&&(qn=n)}else Me.push(ce=[qn=n,Gn=n]);r<Er&&(Er=r),r>br&&(br=r),gt=e,Ge=n}function P0(){oe.point=Bh}function x0(){ce[0]=qn,ce[1]=Gn,oe.point=Zl,gt=null}function Gh(n,r){if(gt){var e=n-Ge;di.add(Tn(e)>180?e+(e>0?360:-360):e)}else Fh=n,zh=r;re.point(n,r),Bh(n,r)}function Bm(){re.lineStart()}function Gm(){Gh(Fh,zh),re.lineEnd(),Tn(di)>X&&(qn=-(Gn=180)),ce[0]=qn,ce[1]=Gn,gt=null}function mr(n,r){return(r-=n)<0?r+360:r}function Um(n,r){return n[0]-r[0]}function R0(n,r){return n[0]<=n[1]?n[0]<=r&&r<=n[1]:r<n[0]||n[1]<r}function Hm(n){var r,e,t,i,a,o,f;if(br=Gn=-(qn=Er=1/0),Me=[],Fr(n,oe),e=Me.length){for(Me.sort(Um),r=1,t=Me[0],a=[t];r<e;++r)i=Me[r],R0(t,i[0])||R0(t,i[1])?(mr(t[0],i[1])>mr(t[0],t[1])&&(t[1]=i[1]),mr(i[0],t[1])>mr(t[0],t[1])&&(t[0]=i[0])):a.push(t=i);for(o=-1/0,e=a.length-1,r=0,t=a[e];r<=e;t=i,++r)i=a[r],(f=mr(t[1],i[0]))>o&&(o=f,qn=i[0],Gn=t[1])}return Me=ce=null,qn===1/0||Er===1/0?[[NaN,NaN],[NaN,NaN]]:[[qn,Er],[Gn,br]]}var Kt,ro,eo,to,io,ao,oo,uo,Ql,nf,rf,Uh,Hh,nr,rr,er,Br={sphere:In,point:ps,lineStart:k0,lineEnd:b0,polygonStart:function(){Br.lineStart=jm,Br.lineEnd=Xm},polygonEnd:function(){Br.lineStart=k0,Br.lineEnd=b0}};function ps(n,r){n*=J,r*=J;var e=V(r);Ii(e*V(n),e*H(n),H(r))}function Ii(n,r,e){++Kt,eo+=(n-eo)/Kt,to+=(r-to)/Kt,io+=(e-io)/Kt}function k0(){Br.point=Ym}function Ym(n,r){n*=J,r*=J;var e=V(r);nr=e*V(n),rr=e*H(n),er=H(r),Br.point=Vm,Ii(nr,rr,er)}function Vm(n,r){n*=J,r*=J;var e=V(r),t=e*V(n),i=e*H(n),a=H(r),o=ur(Yn((o=rr*a-er*i)*o+(o=er*t-nr*a)*o+(o=nr*i-rr*t)*o),nr*t+rr*i+er*a);ro+=o,ao+=o*(nr+(nr=t)),oo+=o*(rr+(rr=i)),uo+=o*(er+(er=a)),Ii(nr,rr,er)}function b0(){Br.point=ps}function jm(){Br.point=Wm}function Xm(){Yh(Uh,Hh),Br.point=ps}function Wm(n,r){Uh=n,Hh=r,n*=J,r*=J,Br.point=Yh;var e=V(r);nr=e*V(n),rr=e*H(n),er=H(r),Ii(nr,rr,er)}function Yh(n,r){n*=J,r*=J;var e=V(r),t=e*V(n),i=e*H(n),a=H(r),o=rr*a-er*i,f=er*t-nr*a,u=nr*i-rr*t,c=Yn(o*o+f*f+u*u),l=$r(c),v=c&&-l/c;Ql+=v*o,nf+=v*f,rf+=v*u,ro+=l,ao+=l*(nr+(nr=t)),oo+=l*(rr+(rr=i)),uo+=l*(er+(er=a)),Ii(nr,rr,er)}function Jm(n){Kt=ro=eo=to=io=ao=oo=uo=Ql=nf=rf=0,Fr(n,Br);var r=Ql,e=nf,t=rf,i=r*r+e*e+t*t;return i<S0&&(r=ao,e=oo,t=uo,ro<X&&(r=eo,e=to,t=io),i=r*r+e*e+t*t,i<S0)?[NaN,NaN]:[ur(e,r)*kn,$r(t/Yn(i))*kn]}function at(n){return function(){return n}}function Vh(n,r){function e(t,i){return t=n(t,i),r(t[0],t[1])}return n.invert&&r.invert&&(e.invert=function(t,i){return t=r.invert(t,i),t&&n.invert(t[0],t[1])}),e}function ef(n,r){return[n>hn?n-vr:n<-hn?n+vr:n,r]}ef.invert=ef;function ds(n,r,e){return(n%=vr)?r||e?Vh(L0(n),N0(r,e)):L0(n):r||e?N0(r,e):ef}function C0(n){return function(r,e){return r+=n,[r>hn?r-vr:r<-hn?r+vr:r,e]}}function L0(n){var r=C0(n);return r.invert=C0(-n),r}function N0(n,r){var e=V(n),t=H(n),i=V(r),a=H(r);function o(f,u){var c=V(u),l=V(f)*c,v=H(f)*c,s=H(u),h=s*e+l*t;return[ur(v*i-h*a,l*e-s*t),$r(h*i+v*a)]}return o.invert=function(f,u){var c=V(u),l=V(f)*c,v=H(f)*c,s=H(u),h=s*i-v*a;return[ur(v*i+s*a,l*e+h*t),$r(h*e-l*t)]},o}function jh(n){n=ds(n[0]*J,n[1]*J,n.length>2?n[2]*J:0);function r(e){return e=n(e[0]*J,e[1]*J),e[0]*=kn,e[1]*=kn,e}return r.invert=function(e){return e=n.invert(e[0]*J,e[1]*J),e[0]*=kn,e[1]*=kn,e},r}function Xh(n,r,e,t,i,a){if(!!e){var o=V(r),f=H(r),u=t*e;i==null?(i=r+t*vr,a=r-u/2):(i=A0(o,i),a=A0(o,a),(t>0?i<a:i>a)&&(i+=t*vr));for(var c,l=i;t>0?l>a:l<a;l-=u)c=Qa([o,-f*V(l),-f*H(l)]),n.point(c[0],c[1])}}function A0(n,r){r=Ke(r),r[0]-=n,no(r);var e=Ih(-r[1]);return((-r[2]<0?-e:e)+vr-X)%vr}function Km(){var n=at([0,0]),r=at(90),e=at(6),t,i,a={point:o};function o(u,c){t.push(u=i(u,c)),u[0]*=kn,u[1]*=kn}function f(){var u=n.apply(this,arguments),c=r.apply(this,arguments)*J,l=e.apply(this,arguments)*J;return t=[],i=ds(-u[0]*J,-u[1]*J,0).invert,Xh(a,c,l,1),u={type:"Polygon",coordinates:[t]},t=i=null,u}return f.center=function(u){return arguments.length?(n=typeof u=="function"?u:at([+u[0],+u[1]]),f):n},f.radius=function(u){return arguments.length?(r=typeof u=="function"?u:at(+u),f):r},f.precision=function(u){return arguments.length?(e=typeof u=="function"?u:at(+u),f):e},f}function Wh(){var n=[],r;return{point:function(e,t){r.push([e,t])},lineStart:function(){n.push(r=[])},lineEnd:In,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],r=null,e}}}function Zm(n,r,e,t,i,a){var o=n[0],f=n[1],u=r[0],c=r[1],l=0,v=1,s=u-o,h=c-f,g;if(g=e-o,!(!s&&g>0)){if(g/=s,s<0){if(g<l)return;g<v&&(v=g)}else if(s>0){if(g>v)return;g>l&&(l=g)}if(g=i-o,!(!s&&g<0)){if(g/=s,s<0){if(g>v)return;g>l&&(l=g)}else if(s>0){if(g<l)return;g<v&&(v=g)}if(g=t-f,!(!h&&g>0)){if(g/=h,h<0){if(g<l)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>l&&(l=g)}if(g=a-f,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>l&&(l=g)}else if(h>0){if(g<l)return;g<v&&(v=g)}return l>0&&(n[0]=o+l*s,n[1]=f+l*h),v<1&&(r[0]=o+v*s,r[1]=f+v*h),!0}}}}}function Na(n,r){return Tn(n[0]-r[0])<X&&Tn(n[1]-r[1])<X}function ra(n,r,e,t){this.x=n,this.z=r,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function Jh(n,r,e,t,i){var a=[],o=[],f,u;if(n.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],S=g[p],m;if(Na(d,S)){for(i.lineStart(),f=0;f<p;++f)i.point((d=g[f])[0],d[1]);i.lineEnd();return}a.push(m=new ra(d,g,null,!0)),o.push(m.o=new ra(d,null,m,!1)),a.push(m=new ra(S,g,null,!1)),o.push(m.o=new ra(S,null,m,!0))}}),!!a.length){for(o.sort(r),I0(a),I0(o),f=0,u=o.length;f<u;++f)o[f].e=e=!e;for(var c=a[0],l,v;;){for(var s=c,h=!0;s.v;)if((s=s.n)===c)return;l=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(f=0,u=l.length;f<u;++f)i.point((v=l[f])[0],v[1]);else t(s.x,s.n.x,1,i);s=s.n}else{if(h)for(l=s.p.z,f=l.length-1;f>=0;--f)i.point((v=l[f])[0],v[1]);else t(s.x,s.p.x,-1,i);s=s.p}s=s.o,l=s.z,h=!h}while(!s.v);i.lineEnd()}}}function I0(n){if(!!(r=n.length)){for(var r,e=0,t=n[0],i;++e<r;)t.n=i=n[e],i.p=t,t=i;t.n=i=n[0],i.p=t}}function ms(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function Qm(n){return n.length===1&&(n=ny(n)),{left:function(r,e,t,i){for(t==null&&(t=0),i==null&&(i=r.length);t<i;){var a=t+i>>>1;n(r[a],e)<0?t=a+1:i=a}return t},right:function(r,e,t,i){for(t==null&&(t=0),i==null&&(i=r.length);t<i;){var a=t+i>>>1;n(r[a],e)>0?i=a:t=a+1}return t}}}function ny(n){return function(r,e){return ms(n(r),e)}}Qm(ms);function Re(n,r,e){n=+n,r=+r,e=(i=arguments.length)<2?(r=n,n=0,1):i<3?1:+e;for(var t=-1,i=Math.max(0,Math.ceil((r-n)/e))|0,a=new Array(i);++t<i;)a[t]=n+t*e;return a}function Ce(n,r){var e=n.length,t=-1,i,a;if(r==null){for(;++t<e;)if((i=n[t])!=null&&i>=i)for(a=i;++t<e;)(i=n[t])!=null&&i>a&&(a=i)}else for(;++t<e;)if((i=r(n[t],t,n))!=null&&i>=i)for(a=i;++t<e;)(i=r(n[t],t,n))!=null&&i>a&&(a=i);return a}function Di(n){for(var r=n.length,e,t=-1,i=0,a,o;++t<r;)i+=n[t].length;for(a=new Array(i);--r>=0;)for(o=n[r],e=o.length;--e>=0;)a[--i]=o[e];return a}function Zn(n,r){var e=n.length,t=-1,i,a;if(r==null){for(;++t<e;)if((i=n[t])!=null&&i>=i)for(a=i;++t<e;)(i=n[t])!=null&&a>i&&(a=i)}else for(;++t<e;)if((i=r(n[t],t,n))!=null&&i>=i)for(a=i;++t<e;)(i=r(n[t],t,n))!=null&&a>i&&(a=i);return a}function Vu(n,r){var e=n.length,t=-1,i,a=0;if(r==null)for(;++t<e;)(i=+n[t])&&(a+=i);else for(;++t<e;)(i=+r(n[t],t,n))&&(a+=i);return a}var Zt=1e9,ea=-Zt;function ys(n,r,e,t){function i(c,l){return n<=c&&c<=e&&r<=l&&l<=t}function a(c,l,v,s){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(l,v))||u(c,l)<0^v>0)do s.point(h===0||h===3?n:e,h>1?t:r);while((h=(h+v+4)%4)!==g);else s.point(l[0],l[1])}function o(c,l){return Tn(c[0]-n)<X?l>0?0:3:Tn(c[0]-e)<X?l>0?2:1:Tn(c[1]-r)<X?l>0?1:0:l>0?3:2}function f(c,l){return u(c.x,l.x)}function u(c,l){var v=o(c,1),s=o(l,1);return v!==s?v-s:v===0?l[1]-c[1]:v===1?c[0]-l[0]:v===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,v=Wh(),s,h,g,p,d,S,m,y,E,$,T,k={point:P,lineStart:L,lineEnd:z,polygonStart:C,polygonEnd:b};function P(w,M){i(w,M)&&l.point(w,M)}function R(){for(var w=0,M=0,x=h.length;M<x;++M)for(var N=h[M],U=1,vn=N.length,K=N[0],an,ln,On=K[0],Nn=K[1];U<vn;++U)an=On,ln=Nn,K=N[U],On=K[0],Nn=K[1],ln<=t?Nn>t&&(On-an)*(t-ln)>(Nn-ln)*(n-an)&&++w:Nn<=t&&(On-an)*(t-ln)<(Nn-ln)*(n-an)&&--w;return w}function C(){l=v,s=[],h=[],T=!0}function b(){var w=R(),M=T&&w,x=(s=Di(s)).length;(M||x)&&(c.polygonStart(),M&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&Jh(s,f,w,a,c),c.polygonEnd()),l=c,s=h=g=null}function L(){k.point=_,h&&h.push(g=[]),$=!0,E=!1,m=y=NaN}function z(){s&&(_(p,d),S&&E&&v.rejoin(),s.push(v.result())),k.point=P,E&&l.lineEnd()}function _(w,M){var x=i(w,M);if(h&&g.push([w,M]),$)p=w,d=M,S=x,$=!1,x&&(l.lineStart(),l.point(w,M));else if(x&&E)l.point(w,M);else{var N=[m=Math.max(ea,Math.min(Zt,m)),y=Math.max(ea,Math.min(Zt,y))],U=[w=Math.max(ea,Math.min(Zt,w)),M=Math.max(ea,Math.min(Zt,M))];Zm(N,U,n,r,e,t)?(E||(l.lineStart(),l.point(N[0],N[1])),l.point(U[0],U[1]),x||l.lineEnd(),T=!1):x&&(l.lineStart(),l.point(w,M),T=!1)}m=w,y=M,E=x}return k}}function ry(){var n=0,r=0,e=960,t=500,i,a,o;return o={stream:function(f){return i&&a===f?i:i=ys(n,r,e,t)(a=f)},extent:function(f){return arguments.length?(n=+f[0][0],r=+f[0][1],e=+f[1][0],t=+f[1][1],i=a=null,o):[[n,r],[e,t]]}}}var ju=Ae();function Kh(n,r){var e=r[0],t=r[1],i=[H(e),-V(e),0],a=0,o=0;ju.reset();for(var f=0,u=n.length;f<u;++f)if(!!(l=(c=n[f]).length))for(var c,l,v=c[l-1],s=v[0],h=v[1]/2+Xa,g=H(h),p=V(h),d=0;d<l;++d,s=m,g=E,p=$,v=S){var S=c[d],m=S[0],y=S[1]/2+Xa,E=H(y),$=V(y),T=m-s,k=T>=0?1:-1,P=k*T,R=P>hn,C=g*E;if(ju.add(ur(C*k*H(P),p*$+C*V(P))),a+=R?T+k*vr:T,R^s>=e^m>=e){var b=wt(Ke(v),Ke(S));no(b);var L=wt(i,b);no(L);var z=(R^T>=0?-1:1)*$r(L[2]);(t>z||t===z&&(b[0]||b[1]))&&(o+=R^T>=0?1:-1)}}return(a<-X||a<X&&ju<-X)^o&1}var tf=Ae(),af,Aa,Ia,Et={sphere:In,point:In,lineStart:ey,lineEnd:In,polygonStart:In,polygonEnd:In};function ey(){Et.point=iy,Et.lineEnd=ty}function ty(){Et.point=Et.lineEnd=In}function iy(n,r){n*=J,r*=J,af=n,Aa=H(r),Ia=V(r),Et.point=ay}function ay(n,r){n*=J,r*=J;var e=H(r),t=V(r),i=Tn(n-af),a=V(i),o=H(i),f=t*o,u=Ia*e-Aa*t*a,c=Aa*e+Ia*t*a;tf.add(ur(Yn(f*f+u*u),c)),af=n,Aa=e,Ia=t}function Zh(n){return tf.reset(),Fr(n,Et),+tf}var of=[null,null],oy={type:"LineString",coordinates:of};function mi(n,r){return of[0]=n,of[1]=r,Zh(oy)}var D0={Feature:function(n,r){return lo(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)if(lo(e[t].geometry,r))return!0;return!1}},O0={Sphere:function(){return!0},Point:function(n,r){return q0(n.coordinates,r)},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)if(q0(e[t],r))return!0;return!1},LineString:function(n,r){return F0(n.coordinates,r)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)if(F0(e[t],r))return!0;return!1},Polygon:function(n,r){return z0(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)if(z0(e[t],r))return!0;return!1},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)if(lo(e[t],r))return!0;return!1}};function lo(n,r){return n&&O0.hasOwnProperty(n.type)?O0[n.type](n,r):!1}function q0(n,r){return mi(n,r)===0}function F0(n,r){var e=mi(n[0],n[1]),t=mi(n[0],r),i=mi(r,n[1]);return t+i<=e+X}function z0(n,r){return!!Kh(n.map(uy),Qh(r))}function uy(n){return n=n.map(Qh),n.pop(),n}function Qh(n){return[n[0]*J,n[1]*J]}function ly(n,r){return(n&&D0.hasOwnProperty(n.type)?D0[n.type]:lo)(n,r)}function B0(n,r,e){var t=Re(n,r-X,e).concat(r);return function(i){return t.map(function(a){return[i,a]})}}function G0(n,r,e){var t=Re(n,r-X,e).concat(r);return function(i){return t.map(function(a){return[a,i]})}}function ng(){var n,r,e,t,i,a,o,f,u=10,c=u,l=90,v=360,s,h,g,p,d=2.5;function S(){return{type:"MultiLineString",coordinates:m()}}function m(){return Re(Zi(t/l)*l,e,l).map(g).concat(Re(Zi(f/v)*v,o,v).map(p)).concat(Re(Zi(r/u)*u,n,u).filter(function(y){return Tn(y%l)>X}).map(s)).concat(Re(Zi(a/c)*c,i,c).filter(function(y){return Tn(y%v)>X}).map(h))}return S.lines=function(){return m().map(function(y){return{type:"LineString",coordinates:y}})},S.outline=function(){return{type:"Polygon",coordinates:[g(t).concat(p(o).slice(1),g(e).reverse().slice(1),p(f).reverse().slice(1))]}},S.extent=function(y){return arguments.length?S.extentMajor(y).extentMinor(y):S.extentMinor()},S.extentMajor=function(y){return arguments.length?(t=+y[0][0],e=+y[1][0],f=+y[0][1],o=+y[1][1],t>e&&(y=t,t=e,e=y),f>o&&(y=f,f=o,o=y),S.precision(d)):[[t,f],[e,o]]},S.extentMinor=function(y){return arguments.length?(r=+y[0][0],n=+y[1][0],a=+y[0][1],i=+y[1][1],r>n&&(y=r,r=n,n=y),a>i&&(y=a,a=i,i=y),S.precision(d)):[[r,a],[n,i]]},S.step=function(y){return arguments.length?S.stepMajor(y).stepMinor(y):S.stepMinor()},S.stepMajor=function(y){return arguments.length?(l=+y[0],v=+y[1],S):[l,v]},S.stepMinor=function(y){return arguments.length?(u=+y[0],c=+y[1],S):[u,c]},S.precision=function(y){return arguments.length?(d=+y,s=B0(a,i,90),h=G0(r,n,d),g=B0(f,o,90),p=G0(t,e,d),S):d},S.extentMajor([[-180,-90+X],[180,90-X]]).extentMinor([[-180,-80-X],[180,80+X]])}function fy(){return ng()()}function sy(n,r){var e=n[0]*J,t=n[1]*J,i=r[0]*J,a=r[1]*J,o=V(t),f=H(t),u=V(a),c=H(a),l=o*V(e),v=o*H(e),s=u*V(i),h=u*H(i),g=2*$r(Yn(_0(a-t)+o*u*_0(i-e))),p=H(g),d=g?function(S){var m=H(S*=g)/p,y=H(g-S)/p,E=y*l+m*s,$=y*v+m*h,T=y*f+m*c;return[ur($,E)*kn,ur(T,Yn(E*E+$*$))*kn]}:function(){return[e*kn,t*kn]};return d.distance=g,d}function We(n){return n}var Xu=Ae(),uf=Ae(),rg,eg,lf,ff,le={point:In,lineStart:In,lineEnd:In,polygonStart:function(){le.lineStart=cy,le.lineEnd=hy},polygonEnd:function(){le.lineStart=le.lineEnd=le.point=In,Xu.add(Tn(uf)),uf.reset()},result:function(){var n=Xu/2;return Xu.reset(),n}};function cy(){le.point=vy}function vy(n,r){le.point=tg,rg=lf=n,eg=ff=r}function tg(n,r){uf.add(ff*n-lf*r),lf=n,ff=r}function hy(){tg(rg,eg)}var St=1/0,fo=St,Ti=-St,so=Ti,co={point:gy,lineStart:In,lineEnd:In,polygonStart:In,polygonEnd:In,result:function(){var n=[[St,fo],[Ti,so]];return Ti=so=-(fo=St=1/0),n}};function gy(n,r){n<St&&(St=n),n>Ti&&(Ti=n),r<fo&&(fo=r),r>so&&(so=r)}var sf=0,cf=0,Qt=0,vo=0,ho=0,st=0,vf=0,hf=0,ni=0,ig,ag,Jr,Kr,Cr={point:Ze,lineStart:U0,lineEnd:H0,polygonStart:function(){Cr.lineStart=my,Cr.lineEnd=yy},polygonEnd:function(){Cr.point=Ze,Cr.lineStart=U0,Cr.lineEnd=H0},result:function(){var n=ni?[vf/ni,hf/ni]:st?[vo/st,ho/st]:Qt?[sf/Qt,cf/Qt]:[NaN,NaN];return sf=cf=Qt=vo=ho=st=vf=hf=ni=0,n}};function Ze(n,r){sf+=n,cf+=r,++Qt}function U0(){Cr.point=py}function py(n,r){Cr.point=dy,Ze(Jr=n,Kr=r)}function dy(n,r){var e=n-Jr,t=r-Kr,i=Yn(e*e+t*t);vo+=i*(Jr+n)/2,ho+=i*(Kr+r)/2,st+=i,Ze(Jr=n,Kr=r)}function H0(){Cr.point=Ze}function my(){Cr.point=wy}function yy(){og(ig,ag)}function wy(n,r){Cr.point=og,Ze(ig=Jr=n,ag=Kr=r)}function og(n,r){var e=n-Jr,t=r-Kr,i=Yn(e*e+t*t);vo+=i*(Jr+n)/2,ho+=i*(Kr+r)/2,st+=i,i=Kr*n-Jr*r,vf+=i*(Jr+n),hf+=i*(Kr+r),ni+=i*3,Ze(Jr=n,Kr=r)}function ug(n){this._context=n}ug.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,r){switch(this._point){case 0:{this._context.moveTo(n,r),this._point=1;break}case 1:{this._context.lineTo(n,r);break}default:{this._context.moveTo(n+this._radius,r),this._context.arc(n,r,this._radius,0,vr);break}}},result:In};var gf=Ae(),Wu,lg,fg,ri,ei,Mi={point:In,lineStart:function(){Mi.point=Ey},lineEnd:function(){Wu&&sg(lg,fg),Mi.point=In},polygonStart:function(){Wu=!0},polygonEnd:function(){Wu=null},result:function(){var n=+gf;return gf.reset(),n}};function Ey(n,r){Mi.point=sg,lg=ri=n,fg=ei=r}function sg(n,r){ri-=n,ei-=r,gf.add(Yn(ri*ri+ei*ei)),ri=n,ei=r}function cg(){this._string=[]}cg.prototype={_radius:4.5,_circle:Y0(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,r){switch(this._point){case 0:{this._string.push("M",n,",",r),this._point=1;break}case 1:{this._string.push("L",n,",",r);break}default:{this._circle==null&&(this._circle=Y0(this._radius)),this._string.push("M",n,",",r,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function Y0(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Sy(n,r){var e=4.5,t,i;function a(o){return o&&(typeof e=="function"&&i.pointRadius(+e.apply(this,arguments)),Fr(o,t(i))),i.result()}return a.area=function(o){return Fr(o,t(le)),le.result()},a.measure=function(o){return Fr(o,t(Mi)),Mi.result()},a.bounds=function(o){return Fr(o,t(co)),co.result()},a.centroid=function(o){return Fr(o,t(Cr)),Cr.result()},a.projection=function(o){return arguments.length?(t=o==null?(n=null,We):(n=o).stream,a):n},a.context=function(o){return arguments.length?(i=o==null?(r=null,new cg):new ug(r=o),typeof e!="function"&&i.pointRadius(e),a):r},a.pointRadius=function(o){return arguments.length?(e=typeof o=="function"?o:(i.pointRadius(+o),+o),a):e},a.projection(n).context(r)}function vg(n,r,e,t){return function(i,a){var o=r(a),f=i.invert(t[0],t[1]),u=Wh(),c=r(u),l=!1,v,s,h,g={point:p,lineStart:S,lineEnd:m,polygonStart:function(){g.point=y,g.lineStart=E,g.lineEnd=$,s=[],v=[]},polygonEnd:function(){g.point=p,g.lineStart=S,g.lineEnd=m,s=Di(s);var T=Kh(v,f);s.length?(l||(a.polygonStart(),l=!0),Jh(s,$y,T,e,a)):T&&(l||(a.polygonStart(),l=!0),a.lineStart(),e(null,null,1,a),a.lineEnd()),l&&(a.polygonEnd(),l=!1),s=v=null},sphere:function(){a.polygonStart(),a.lineStart(),e(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function p(T,k){var P=i(T,k);n(T=P[0],k=P[1])&&a.point(T,k)}function d(T,k){var P=i(T,k);o.point(P[0],P[1])}function S(){g.point=d,o.lineStart()}function m(){g.point=p,o.lineEnd()}function y(T,k){h.push([T,k]);var P=i(T,k);c.point(P[0],P[1])}function E(){c.lineStart(),h=[]}function $(){y(h[0][0],h[0][1]),c.lineEnd();var T=c.clean(),k=u.result(),P,R=k.length,C,b,L;if(h.pop(),v.push(h),h=null,!!R){if(T&1){if(b=k[0],(C=b.length-1)>0){for(l||(a.polygonStart(),l=!0),a.lineStart(),P=0;P<C;++P)a.point((L=b[P])[0],L[1]);a.lineEnd()}return}R>1&&T&2&&k.push(k.pop().concat(k.shift())),s.push(k.filter(_y))}}return g}}function _y(n){return n.length>1}function $y(n,r){return((n=n.x)[0]<0?n[1]-Un-X:Un-n[1])-((r=r.x)[0]<0?r[1]-Un-X:Un-r[1])}var V0=vg(function(){return!0},Ty,Py,[-hn,-Un]);function Ty(n){var r=NaN,e=NaN,t=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var f=a>0?hn:-hn,u=Tn(a-r);Tn(u-hn)<X?(n.point(r,e=(e+o)/2>0?Un:-Un),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(f,e),n.point(a,e),i=0):t!==f&&u>=hn&&(Tn(r-t)<X&&(r-=t*X),Tn(a-f)<X&&(a-=f*X),e=My(r,e,a,o),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(f,e),i=0),n.point(r=a,e=o),t=f},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-i}}}function My(n,r,e,t){var i,a,o=H(n-e);return Tn(o)>X?Nt((H(r)*(a=V(t))*H(e)-H(t)*(i=V(r))*H(n))/(i*a*o)):(r+t)/2}function Py(n,r,e,t){var i;if(n==null)i=e*Un,t.point(-hn,i),t.point(0,i),t.point(hn,i),t.point(hn,0),t.point(hn,-i),t.point(0,-i),t.point(-hn,-i),t.point(-hn,0),t.point(-hn,i);else if(Tn(n[0]-r[0])>X){var a=n[0]<r[0]?hn:-hn;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(r[0],r[1])}function xy(n,r){var e=V(n),t=e>0,i=Tn(e)>X;function a(l,v,s,h){Xh(h,n,r,s,l,v)}function o(l,v){return V(l)*V(v)>e}function f(l){var v,s,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,S){var m=[d,S],y,E=o(d,S),$=t?E?0:c(d,S):E?c(d+(d<0?hn:-hn),S):0;if(!v&&(g=h=E)&&l.lineStart(),E!==h&&(y=u(v,m),(!y||Na(v,y)||Na(m,y))&&(m[0]+=X,m[1]+=X,E=o(m[0],m[1]))),E!==h)p=0,E?(l.lineStart(),y=u(m,v),l.point(y[0],y[1])):(y=u(v,m),l.point(y[0],y[1]),l.lineEnd()),v=y;else if(i&&v&&t^E){var T;!($&s)&&(T=u(m,v,!0))&&(p=0,t?(l.lineStart(),l.point(T[0][0],T[0][1]),l.point(T[1][0],T[1][1]),l.lineEnd()):(l.point(T[1][0],T[1][1]),l.lineEnd(),l.lineStart(),l.point(T[0][0],T[0][1])))}E&&(!v||!Na(v,m))&&l.point(m[0],m[1]),v=m,h=E,s=$},lineEnd:function(){h&&l.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function u(l,v,s){var h=Ke(l),g=Ke(v),p=[1,0,0],d=wt(h,g),S=Qi(d,d),m=d[0],y=S-m*m;if(!y)return!s&&l;var E=e*S/y,$=-e*m/y,T=wt(p,d),k=na(p,E),P=na(d,$);Yu(k,P);var R=T,C=Qi(k,R),b=Qi(R,R),L=C*C-b*(Qi(k,k)-1);if(!(L<0)){var z=Yn(L),_=na(R,(-C-z)/b);if(Yu(_,k),_=Qa(_),!s)return _;var w=l[0],M=v[0],x=l[1],N=v[1],U;M<w&&(U=w,w=M,M=U);var vn=M-w,K=Tn(vn-hn)<X,an=K||vn<X;if(!K&&N<x&&(U=x,x=N,N=U),an?K?x+N>0^_[1]<(Tn(_[0]-w)<X?x:N):x<=_[1]&&_[1]<=N:vn>hn^(w<=_[0]&&_[0]<=M)){var ln=na(R,(-C+z)/b);return Yu(ln,k),[_,Qa(ln)]}}}function c(l,v){var s=t?n:hn-n,h=0;return l<-s?h|=1:l>s&&(h|=2),v<-s?h|=4:v>s&&(h|=8),h}return vg(o,f,a,t?[0,-n]:[-hn,n-hn])}function Ry(n){return{stream:vu(n)}}function vu(n){return function(r){var e=new pf;for(var t in n)e[t]=n[t];return e.stream=r,e}}function pf(){}pf.prototype={constructor:pf,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function hu(n,r,e){var t=r[1][0]-r[0][0],i=r[1][1]-r[0][1],a=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),a!=null&&n.clipExtent(null),Fr(e,n.stream(co));var o=co.result(),f=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+r[0][0]+(t-f*(o[1][0]+o[0][0]))/2,c=+r[0][1]+(i-f*(o[1][1]+o[0][1]))/2;return a!=null&&n.clipExtent(a),n.scale(f*150).translate([u,c])}function ws(n,r,e){return hu(n,[[0,0],r],e)}var j0=16,ky=V(30*J);function X0(n,r){return+r?Cy(n,r):by(n)}function by(n){return vu({point:function(r,e){r=n(r,e),this.stream.point(r[0],r[1])}})}function Cy(n,r){function e(t,i,a,o,f,u,c,l,v,s,h,g,p,d){var S=c-t,m=l-i,y=S*S+m*m;if(y>4*r&&p--){var E=o+s,$=f+h,T=u+g,k=Yn(E*E+$*$+T*T),P=$r(T/=k),R=Tn(Tn(T)-1)<X||Tn(a-v)<X?(a+v)/2:ur($,E),C=n(R,P),b=C[0],L=C[1],z=b-t,_=L-i,w=m*z-S*_;(w*w/y>r||Tn((S*z+m*_)/y-.5)>.3||o*s+f*h+u*g<ky)&&(e(t,i,a,o,f,u,b,L,R,E/=k,$/=k,T,p,d),d.point(b,L),e(b,L,R,E,$,T,c,l,v,s,h,g,p,d))}}return function(t){var i,a,o,f,u,c,l,v,s,h,g,p,d={point:S,lineStart:m,lineEnd:E,polygonStart:function(){t.polygonStart(),d.lineStart=$},polygonEnd:function(){t.polygonEnd(),d.lineStart=m}};function S(P,R){P=n(P,R),t.point(P[0],P[1])}function m(){v=NaN,d.point=y,t.lineStart()}function y(P,R){var C=Ke([P,R]),b=n(P,R);e(v,s,l,h,g,p,v=b[0],s=b[1],l=P,h=C[0],g=C[1],p=C[2],j0,t),t.point(v,s)}function E(){d.point=S,t.lineEnd()}function $(){m(),d.point=T,d.lineEnd=k}function T(P,R){y(i=P,R),a=v,o=s,f=h,u=g,c=p,d.point=y}function k(){e(v,s,l,h,g,p,a,o,i,f,u,c,j0,t),d.lineEnd=E,E()}return d}}var Ly=vu({point:function(n,r){this.stream.point(n*J,r*J)}});function Ie(n){return Es(function(){return n})()}function Es(n){var r,e=150,t=480,i=250,a,o,f=0,u=0,c=0,l=0,v=0,s,h,g=null,p=V0,d=null,S,m,y,E=We,$=.5,T=X0(b,$),k,P;function R(_){return _=h(_[0]*J,_[1]*J),[_[0]*e+a,o-_[1]*e]}function C(_){return _=h.invert((_[0]-a)/e,(o-_[1])/e),_&&[_[0]*kn,_[1]*kn]}function b(_,w){return _=r(_,w),[_[0]*e+a,o-_[1]*e]}R.stream=function(_){return k&&P===_?k:k=Ly(p(s,T(E(P=_))))},R.clipAngle=function(_){return arguments.length?(p=+_?xy(g=_*J,6*J):(g=null,V0),z()):g*kn},R.clipExtent=function(_){return arguments.length?(E=_==null?(d=S=m=y=null,We):ys(d=+_[0][0],S=+_[0][1],m=+_[1][0],y=+_[1][1]),z()):d==null?null:[[d,S],[m,y]]},R.scale=function(_){return arguments.length?(e=+_,L()):e},R.translate=function(_){return arguments.length?(t=+_[0],i=+_[1],L()):[t,i]},R.center=function(_){return arguments.length?(f=_[0]%360*J,u=_[1]%360*J,L()):[f*kn,u*kn]},R.rotate=function(_){return arguments.length?(c=_[0]%360*J,l=_[1]%360*J,v=_.length>2?_[2]%360*J:0,L()):[c*kn,l*kn,v*kn]},R.precision=function(_){return arguments.length?(T=X0(b,$=_*_),z()):Yn($)},R.fitExtent=function(_,w){return hu(R,_,w)},R.fitSize=function(_,w){return ws(R,_,w)};function L(){h=Vh(s=ds(c,l,v),r);var _=r(f,u);return a=t-_[0]*e,o=i+_[1]*e,z()}function z(){return k=P=null,R}return function(){return r=n.apply(this,arguments),R.invert=r.invert&&C,L()}}function Ss(n){var r=0,e=hn/3,t=Es(n),i=t(r,e);return i.parallels=function(a){return arguments.length?t(r=a[0]*J,e=a[1]*J):[r*kn,e*kn]},i}function Ny(n){var r=V(n);function e(t,i){return[t*r,H(i)/r]}return e.invert=function(t,i){return[t/r,$r(i*r)]},e}function hg(n,r){var e=H(n),t=(e+H(r))/2;if(Tn(t)<X)return Ny(n);var i=1+e*(2*t-e),a=Yn(i)/t;function o(f,u){var c=Yn(i-2*t*H(u))/t;return[c*H(f*=t),a-c*V(f)]}return o.invert=function(f,u){var c=a-u;return[ur(f,Tn(c))/t*$i(c),$r((i-(f*f+c*c)*t*t)/(2*t))]},o}function go(){return Ss(hg).scale(155.424).center([0,33.6442])}function gg(){return go().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ay(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function Iy(){var n,r,e=gg(),t,i=go().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=go().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(s,h){u=[s,h]}};function l(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(f.point(h,g),u)}l.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(s)},l.stream=function(s){return n&&r===s?n:n=Ay([e.stream(r=s),i.stream(s),o.stream(s)])},l.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},l.scale=function(s){return arguments.length?(e.scale(s),i.scale(s*.35),o.scale(s),l.translate(e.translate())):e.scale()},l.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+X,p+.12*h+X],[g-.214*h-X,p+.234*h-X]]).stream(c),f=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+X,p+.166*h+X],[g-.115*h-X,p+.234*h-X]]).stream(c),v()},l.fitExtent=function(s,h){return hu(l,s,h)},l.fitSize=function(s,h){return ws(l,s,h)};function v(){return n=r=null,l}return l.scale(1070)}function pg(n){return function(r,e){var t=V(r),i=V(e),a=n(t*i);return[a*i*H(r),a*H(e)]}}function Oi(n){return function(r,e){var t=Yn(r*r+e*e),i=n(t),a=H(i),o=V(i);return[ur(r*a,t*o),$r(t&&e*a/t)]}}var _s=pg(function(n){return Yn(2/(1+n))});_s.invert=Oi(function(n){return 2*$r(n/2)});function Dy(){return Ie(_s).scale(124.75).clipAngle(180-.001)}var $s=pg(function(n){return(n=Ih(n))&&n/H(n)});$s.invert=Oi(function(n){return n});function Oy(){return Ie($s).scale(79.4188).clipAngle(180-.001)}function qi(n,r){return[n,Wa(gs((Un+r)/2))]}qi.invert=function(n,r){return[n,2*Nt(Ah(r))-Un]};function qy(){return dg(qi).scale(961/vr)}function dg(n){var r=Ie(n),e=r.center,t=r.scale,i=r.translate,a=r.clipExtent,o=null,f,u,c;r.scale=function(v){return arguments.length?(t(v),l()):t()},r.translate=function(v){return arguments.length?(i(v),l()):i()},r.center=function(v){return arguments.length?(e(v),l()):e()},r.clipExtent=function(v){return arguments.length?(v==null?o=f=u=c=null:(o=+v[0][0],f=+v[0][1],u=+v[1][0],c=+v[1][1]),l()):o==null?null:[[o,f],[u,c]]};function l(){var v=hn*t(),s=r(jh(r.rotate()).invert([0,0]));return a(o==null?[[s[0]-v,s[1]-v],[s[0]+v,s[1]+v]]:n===qi?[[Math.max(s[0]-v,o),f],[Math.min(s[0]+v,u),c]]:[[o,Math.max(s[1]-v,f)],[u,Math.min(s[1]+v,c)]])}return l()}function ta(n){return gs((Un+n)/2)}function mg(n,r){var e=V(n),t=n===r?H(n):Wa(e/V(r))/Wa(ta(r)/ta(n)),i=e*Hu(ta(n),t)/t;if(!t)return qi;function a(o,f){i>0?f<-Un+X&&(f=-Un+X):f>Un-X&&(f=Un-X);var u=i/Hu(ta(f),t);return[u*H(t*o),i-u*V(t*o)]}return a.invert=function(o,f){var u=i-f,c=$i(t)*Yn(o*o+u*u);return[ur(o,Tn(u))/t*$i(u),2*Nt(Hu(i/c,1/t))-Un]},a}function Fy(){return Ss(mg).scale(109.5).parallels([30,30])}function Pi(n,r){return[n,r]}Pi.invert=Pi;function zy(){return Ie(Pi).scale(152.63)}function yg(n,r){var e=V(n),t=n===r?H(n):(e-V(r))/(r-n),i=e/t+n;if(Tn(t)<X)return Pi;function a(o,f){var u=i-f,c=t*o;return[u*H(c),i-u*V(c)]}return a.invert=function(o,f){var u=i-f;return[ur(o,Tn(u))/t*$i(u),i-$i(t)*Yn(o*o+u*u)]},a}function By(){return Ss(yg).scale(131.154).center([0,13.9389])}function Ts(n,r){var e=V(r),t=V(n)*e;return[e*H(n)/t,H(r)/t]}Ts.invert=Oi(Nt);function Gy(){return Ie(Ts).scale(144.049).clipAngle(60)}function ia(n,r,e,t){return n===1&&r===1&&e===0&&t===0?We:vu({point:function(i,a){this.stream.point(i*n+e,a*r+t)}})}function Uy(){var n=1,r=0,e=0,t=1,i=1,a=We,o=null,f,u,c,l=We,v,s,h;function g(){return v=s=null,h}return h={stream:function(p){return v&&s===p?v:v=a(l(s=p))},clipExtent:function(p){return arguments.length?(l=p==null?(o=f=u=c=null,We):ys(o=+p[0][0],f=+p[0][1],u=+p[1][0],c=+p[1][1]),g()):o==null?null:[[o,f],[u,c]]},scale:function(p){return arguments.length?(a=ia((n=+p)*t,n*i,r,e),g()):n},translate:function(p){return arguments.length?(a=ia(n*t,n*i,r=+p[0],e=+p[1]),g()):[r,e]},reflectX:function(p){return arguments.length?(a=ia(n*(t=p?-1:1),n*i,r,e),g()):t<0},reflectY:function(p){return arguments.length?(a=ia(n*t,n*(i=p?-1:1),r,e),g()):i<0},fitExtent:function(p,d){return hu(h,p,d)},fitSize:function(p,d){return ws(h,p,d)}}}function Ms(n,r){return[V(r)*H(n),H(r)]}Ms.invert=Oi($r);function Hy(){return Ie(Ms).scale(249.5).clipAngle(90+X)}function Ps(n,r){var e=V(r),t=1+V(n)*e;return[e*H(n)/t,H(r)/t]}Ps.invert=Oi(function(n){return 2*Nt(n)});function Yy(){return Ie(Ps).scale(250).clipAngle(142)}function xs(n,r){return[Wa(gs((Un+r)/2)),-n]}xs.invert=function(n,r){return[-r,2*Nt(Ah(n))-Un]};function Vy(){var n=dg(xs),r=n.center,e=n.rotate;return n.center=function(t){return arguments.length?r([-t[1],t[0]]):(t=r(),[t[1],-t[0]])},n.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}var jy=Object.freeze(Object.defineProperty({__proto__:null,geoArea:zm,geoBounds:Hm,geoCentroid:Jm,geoCircle:Km,geoClipExtent:ry,geoContains:ly,geoDistance:mi,geoGraticule:ng,geoGraticule10:fy,geoInterpolate:sy,geoLength:Zh,geoPath:Sy,geoAlbers:gg,geoAlbersUsa:Iy,geoAzimuthalEqualArea:Dy,geoAzimuthalEqualAreaRaw:_s,geoAzimuthalEquidistant:Oy,geoAzimuthalEquidistantRaw:$s,geoConicConformal:Fy,geoConicConformalRaw:mg,geoConicEqualArea:go,geoConicEqualAreaRaw:hg,geoConicEquidistant:By,geoConicEquidistantRaw:yg,geoEquirectangular:zy,geoEquirectangularRaw:Pi,geoGnomonic:Gy,geoGnomonicRaw:Ts,geoIdentity:Uy,geoProjection:Ie,geoProjectionMutator:Es,geoMercator:qy,geoMercatorRaw:qi,geoOrthographic:Hy,geoOrthographicRaw:Ms,geoStereographic:Yy,geoStereographicRaw:Ps,geoTransverseMercator:Vy,geoTransverseMercatorRaw:xs,geoRotation:jh,geoStream:Fr,geoTransform:Ry},Symbol.toStringTag,{value:"Module"})),Fi=te(jy);function gu(){return new po}function po(){this.reset()}po.prototype={constructor:po,reset:function(){this.s=this.t=0},add:function(n){W0(aa,n,this.t),W0(this,aa.s,this.s),this.s?this.t+=aa.t:this.s=aa.t},valueOf:function(){return this.s}};var aa=new po;function W0(n,r,e){var t=n.s=r+e,i=t-r,a=t-i;n.t=r-a+(e-i)}var yn=1e-6,J0=1e-12,gn=Math.PI,Lr=gn/2,mo=gn/4,Tr=gn*2,bn=180/gn,nn=gn/180,Cn=Math.abs,wg=Math.atan,Ur=Math.atan2,en=Math.cos,Z=Math.sin,Xy=Math.sign||function(n){return n>0?1:n<0?-1:0},Hr=Math.sqrt;function Eg(n){return n>1?0:n<-1?gn:Math.acos(n)}function Yr(n){return n>1?Lr:n<-1?-Lr:Math.asin(n)}function K0(n){return(n=Z(n/2))*n}function Qr(){}function yo(n,r){n&&Q0.hasOwnProperty(n.type)&&Q0[n.type](n,r)}var Z0={Feature:function(n,r){yo(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)yo(e[t].geometry,r)}},Q0={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n=e[t],r.point(n[0],n[1],n[2])},LineString:function(n,r){df(n.coordinates,r,0)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)df(e[t],r,0)},Polygon:function(n,r){n1(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n1(e[t],r)},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)yo(e[t],r)}};function df(n,r,e){var t=-1,i=n.length-e,a;for(r.lineStart();++t<i;)a=n[t],r.point(a[0],a[1],a[2]);r.lineEnd()}function n1(n,r){var e=-1,t=n.length;for(r.polygonStart();++e<t;)df(n[e],r,1);r.polygonEnd()}function At(n,r){n&&Z0.hasOwnProperty(n.type)?Z0[n.type](n,r):yo(n,r)}var wo=gu(),r1=gu(),Sg,_g,mf,yf,wf,ve={point:Qr,lineStart:Qr,lineEnd:Qr,polygonStart:function(){wo.reset(),ve.lineStart=Wy,ve.lineEnd=Jy},polygonEnd:function(){var n=+wo;r1.add(n<0?Tr+n:n),this.lineStart=this.lineEnd=this.point=Qr},sphere:function(){r1.add(Tr)}};function Wy(){ve.point=Ky}function Jy(){$g(Sg,_g)}function Ky(n,r){ve.point=$g,Sg=n,_g=r,n*=nn,r*=nn,mf=n,yf=en(r=r/2+mo),wf=Z(r)}function $g(n,r){n*=nn,r*=nn,r=r/2+mo;var e=n-mf,t=e>=0?1:-1,i=t*e,a=en(r),o=Z(r),f=wf*o,u=yf*a+f*en(i),c=f*t*Z(i);wo.add(Ur(c,u)),mf=n,yf=a,wf=o}function Eo(n){return[Ur(n[1],n[0]),Yr(n[2])]}function Qe(n){var r=n[0],e=n[1],t=en(e);return[t*en(r),t*Z(r),Z(e)]}function oa(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function _t(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function Ju(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function ua(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function So(n){var r=Hr(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}var An,sr,Fn,Sr,Ue,Tg,Mg,pt,yi=gu(),Pe,he,ue={point:Ef,lineStart:e1,lineEnd:t1,polygonStart:function(){ue.point=xg,ue.lineStart=Zy,ue.lineEnd=Qy,yi.reset(),ve.polygonStart()},polygonEnd:function(){ve.polygonEnd(),ue.point=Ef,ue.lineStart=e1,ue.lineEnd=t1,wo<0?(An=-(Fn=180),sr=-(Sr=90)):yi>yn?Sr=90:yi<-yn&&(sr=-90),he[0]=An,he[1]=Fn},sphere:function(){An=-(Fn=180),sr=-(Sr=90)}};function Ef(n,r){Pe.push(he=[An=n,Fn=n]),r<sr&&(sr=r),r>Sr&&(Sr=r)}function Pg(n,r){var e=Qe([n*nn,r*nn]);if(pt){var t=_t(pt,e),i=[t[1],-t[0],0],a=_t(i,t);So(a),a=Eo(a);var o=n-Ue,f=o>0?1:-1,u=a[0]*bn*f,c,l=Cn(o)>180;l^(f*Ue<u&&u<f*n)?(c=a[1]*bn,c>Sr&&(Sr=c)):(u=(u+360)%360-180,l^(f*Ue<u&&u<f*n)?(c=-a[1]*bn,c<sr&&(sr=c)):(r<sr&&(sr=r),r>Sr&&(Sr=r))),l?n<Ue?yr(An,n)>yr(An,Fn)&&(Fn=n):yr(n,Fn)>yr(An,Fn)&&(An=n):Fn>=An?(n<An&&(An=n),n>Fn&&(Fn=n)):n>Ue?yr(An,n)>yr(An,Fn)&&(Fn=n):yr(n,Fn)>yr(An,Fn)&&(An=n)}else Pe.push(he=[An=n,Fn=n]);r<sr&&(sr=r),r>Sr&&(Sr=r),pt=e,Ue=n}function e1(){ue.point=Pg}function t1(){he[0]=An,he[1]=Fn,ue.point=Ef,pt=null}function xg(n,r){if(pt){var e=n-Ue;yi.add(Cn(e)>180?e+(e>0?360:-360):e)}else Tg=n,Mg=r;ve.point(n,r),Pg(n,r)}function Zy(){ve.lineStart()}function Qy(){xg(Tg,Mg),ve.lineEnd(),Cn(yi)>yn&&(An=-(Fn=180)),he[0]=An,he[1]=Fn,pt=null}function yr(n,r){return(r-=n)<0?r+360:r}function n5(n,r){return n[0]-r[0]}function i1(n,r){return n[0]<=n[1]?n[0]<=r&&r<=n[1]:r<n[0]||n[1]<r}function r5(n){var r,e,t,i,a,o,f;if(Sr=Fn=-(An=sr=1/0),Pe=[],At(n,ue),e=Pe.length){for(Pe.sort(n5),r=1,t=Pe[0],a=[t];r<e;++r)i=Pe[r],i1(t,i[0])||i1(t,i[1])?(yr(t[0],i[1])>yr(t[0],t[1])&&(t[1]=i[1]),yr(i[0],t[1])>yr(t[0],t[1])&&(t[0]=i[0])):a.push(t=i);for(o=-1/0,e=a.length-1,r=0,t=a[e];r<=e;t=i,++r)i=a[r],(f=yr(t[1],i[0]))>o&&(o=f,An=i[0],Fn=t[1])}return Pe=he=null,An===1/0||sr===1/0?[[NaN,NaN],[NaN,NaN]]:[[An,sr],[Fn,Sr]]}var ti,_o,$o,To,Mo,Po,xo,Ro,Sf,_f,$f,Rg,kg,tr,ir,ar,Gr={sphere:Qr,point:Rs,lineStart:a1,lineEnd:o1,polygonStart:function(){Gr.lineStart=i5,Gr.lineEnd=a5},polygonEnd:function(){Gr.lineStart=a1,Gr.lineEnd=o1}};function Rs(n,r){n*=nn,r*=nn;var e=en(r);zi(e*en(n),e*Z(n),Z(r))}function zi(n,r,e){++ti,$o+=(n-$o)/ti,To+=(r-To)/ti,Mo+=(e-Mo)/ti}function a1(){Gr.point=e5}function e5(n,r){n*=nn,r*=nn;var e=en(r);tr=e*en(n),ir=e*Z(n),ar=Z(r),Gr.point=t5,zi(tr,ir,ar)}function t5(n,r){n*=nn,r*=nn;var e=en(r),t=e*en(n),i=e*Z(n),a=Z(r),o=Ur(Hr((o=ir*a-ar*i)*o+(o=ar*t-tr*a)*o+(o=tr*i-ir*t)*o),tr*t+ir*i+ar*a);_o+=o,Po+=o*(tr+(tr=t)),xo+=o*(ir+(ir=i)),Ro+=o*(ar+(ar=a)),zi(tr,ir,ar)}function o1(){Gr.point=Rs}function i5(){Gr.point=o5}function a5(){bg(Rg,kg),Gr.point=Rs}function o5(n,r){Rg=n,kg=r,n*=nn,r*=nn,Gr.point=bg;var e=en(r);tr=e*en(n),ir=e*Z(n),ar=Z(r),zi(tr,ir,ar)}function bg(n,r){n*=nn,r*=nn;var e=en(r),t=e*en(n),i=e*Z(n),a=Z(r),o=ir*a-ar*i,f=ar*t-tr*a,u=tr*i-ir*t,c=Hr(o*o+f*f+u*u),l=Yr(c),v=c&&-l/c;Sf+=v*o,_f+=v*f,$f+=v*u,_o+=l,Po+=l*(tr+(tr=t)),xo+=l*(ir+(ir=i)),Ro+=l*(ar+(ar=a)),zi(tr,ir,ar)}function Bi(n){ti=_o=$o=To=Mo=Po=xo=Ro=Sf=_f=$f=0,At(n,Gr);var r=Sf,e=_f,t=$f,i=r*r+e*e+t*t;return i<J0&&(r=Po,e=xo,t=Ro,_o<yn&&(r=$o,e=To,t=Mo),i=r*r+e*e+t*t,i<J0)?[NaN,NaN]:[Ur(e,r)*bn,Yr(t/Hr(i))*bn]}function ot(n){return function(){return n}}function Tf(n,r){function e(t,i){return t=n(t,i),r(t[0],t[1])}return n.invert&&r.invert&&(e.invert=function(t,i){return t=r.invert(t,i),t&&n.invert(t[0],t[1])}),e}function Mf(n,r){return[Cn(n)>gn?n+Math.round(-n/Tr)*Tr:n,r]}Mf.invert=Mf;function ks(n,r,e){return(n%=Tr)?r||e?Tf(l1(n),f1(r,e)):l1(n):r||e?f1(r,e):Mf}function u1(n){return function(r,e){return r+=n,[r>gn?r-Tr:r<-gn?r+Tr:r,e]}}function l1(n){var r=u1(n);return r.invert=u1(-n),r}function f1(n,r){var e=en(n),t=Z(n),i=en(r),a=Z(r);function o(f,u){var c=en(u),l=en(f)*c,v=Z(f)*c,s=Z(u),h=s*e+l*t;return[Ur(v*i-h*a,l*e-s*t),Yr(h*i+v*a)]}return o.invert=function(f,u){var c=en(u),l=en(f)*c,v=Z(f)*c,s=Z(u),h=s*i-v*a;return[Ur(v*i+s*a,l*e+h*t),Yr(h*e-l*t)]},o}function ko(n){n=ks(n[0]*nn,n[1]*nn,n.length>2?n[2]*nn:0);function r(e){return e=n(e[0]*nn,e[1]*nn),e[0]*=bn,e[1]*=bn,e}return r.invert=function(e){return e=n.invert(e[0]*nn,e[1]*nn),e[0]*=bn,e[1]*=bn,e},r}function Cg(n,r,e,t,i,a){if(!!e){var o=en(r),f=Z(r),u=t*e;i==null?(i=r+t*Tr,a=r-u/2):(i=s1(o,i),a=s1(o,a),(t>0?i<a:i>a)&&(i+=t*Tr));for(var c,l=i;t>0?l>a:l<a;l-=u)c=Eo([o,-f*en(l),-f*Z(l)]),n.point(c[0],c[1])}}function s1(n,r){r=Qe(r),r[0]-=n,So(r);var e=Eg(-r[1]);return((-r[2]<0?-e:e)+Tr-yn)%Tr}function u5(){var n=ot([0,0]),r=ot(90),e=ot(6),t,i,a={point:o};function o(u,c){t.push(u=i(u,c)),u[0]*=bn,u[1]*=bn}function f(){var u=n.apply(this,arguments),c=r.apply(this,arguments)*nn,l=e.apply(this,arguments)*nn;return t=[],i=ks(-u[0]*nn,-u[1]*nn,0).invert,Cg(a,c,l,1),u={type:"Polygon",coordinates:[t]},t=i=null,u}return f.center=function(u){return arguments.length?(n=typeof u=="function"?u:ot([+u[0],+u[1]]),f):n},f.radius=function(u){return arguments.length?(r=typeof u=="function"?u:ot(+u),f):r},f.precision=function(u){return arguments.length?(e=typeof u=="function"?u:ot(+u),f):e},f}function Lg(){var n=[],r;return{point:function(e,t,i){r.push([e,t,i])},lineStart:function(){n.push(r=[])},lineEnd:Qr,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],r=null,e}}}function Da(n,r){return Cn(n[0]-r[0])<yn&&Cn(n[1]-r[1])<yn}function la(n,r,e,t){this.x=n,this.z=r,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function Ng(n,r,e,t,i){var a=[],o=[],f,u;if(n.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],S=g[p],m;if(Da(d,S)){if(!d[2]&&!S[2]){for(i.lineStart(),f=0;f<p;++f)i.point((d=g[f])[0],d[1]);i.lineEnd();return}S[0]+=2*yn}a.push(m=new la(d,g,null,!0)),o.push(m.o=new la(d,null,m,!1)),a.push(m=new la(S,g,null,!1)),o.push(m.o=new la(S,null,m,!0))}}),!!a.length){for(o.sort(r),c1(a),c1(o),f=0,u=o.length;f<u;++f)o[f].e=e=!e;for(var c=a[0],l,v;;){for(var s=c,h=!0;s.v;)if((s=s.n)===c)return;l=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(f=0,u=l.length;f<u;++f)i.point((v=l[f])[0],v[1]);else t(s.x,s.n.x,1,i);s=s.n}else{if(h)for(l=s.p.z,f=l.length-1;f>=0;--f)i.point((v=l[f])[0],v[1]);else t(s.x,s.p.x,-1,i);s=s.p}s=s.o,l=s.z,h=!h}while(!s.v);i.lineEnd()}}}function c1(n){if(!!(r=n.length)){for(var r,e=0,t=n[0],i;++e<r;)t.n=i=n[e],i.p=t,t=i;t.n=i=n[0],i.p=t}}var Ku=gu();function Zu(n){return Cn(n[0])<=gn?n[0]:Xy(n[0])*((Cn(n[0])+gn)%Tr-gn)}function l5(n,r){var e=Zu(r),t=r[1],i=Z(t),a=[Z(e),-en(e),0],o=0,f=0;Ku.reset(),i===1?t=Lr+yn:i===-1&&(t=-Lr-yn);for(var u=0,c=n.length;u<c;++u)if(!!(v=(l=n[u]).length))for(var l,v,s=l[v-1],h=Zu(s),g=s[1]/2+mo,p=Z(g),d=en(g),S=0;S<v;++S,h=y,p=$,d=T,s=m){var m=l[S],y=Zu(m),E=m[1]/2+mo,$=Z(E),T=en(E),k=y-h,P=k>=0?1:-1,R=P*k,C=R>gn,b=p*$;if(Ku.add(Ur(b*P*Z(R),d*T+b*en(R))),o+=C?k+P*Tr:k,C^h>=e^y>=e){var L=_t(Qe(s),Qe(m));So(L);var z=_t(a,L);So(z);var _=(C^k>=0?-1:1)*Yr(z[2]);(t>_||t===_&&(L[0]||L[1]))&&(f+=C^k>=0?1:-1)}}return(o<-yn||o<yn&&Ku<-yn)^f&1}function Ag(n,r,e,t){return function(i){var a=r(i),o=Lg(),f=r(o),u=!1,c,l,v,s={point:h,lineStart:p,lineEnd:d,polygonStart:function(){s.point=S,s.lineStart=m,s.lineEnd=y,l=[],c=[]},polygonEnd:function(){s.point=h,s.lineStart=p,s.lineEnd=d,l=Di(l);var E=l5(c,t);l.length?(u||(i.polygonStart(),u=!0),Ng(l,s5,E,e,i)):E&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,$){n(E,$)&&i.point(E,$)}function g(E,$){a.point(E,$)}function p(){s.point=g,a.lineStart()}function d(){s.point=h,a.lineEnd()}function S(E,$){v.push([E,$]),f.point(E,$)}function m(){f.lineStart(),v=[]}function y(){S(v[0][0],v[0][1]),f.lineEnd();var E=f.clean(),$=o.result(),T,k=$.length,P,R,C;if(v.pop(),c.push(v),v=null,!!k){if(E&1){if(R=$[0],(P=R.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),T=0;T<P;++T)i.point((C=R[T])[0],C[1]);i.lineEnd()}return}k>1&&E&2&&$.push($.pop().concat($.shift())),l.push($.filter(f5))}}return s}}function f5(n){return n.length>1}function s5(n,r){return((n=n.x)[0]<0?n[1]-Lr-yn:Lr-n[1])-((r=r.x)[0]<0?r[1]-Lr-yn:Lr-r[1])}var v1=Ag(function(){return!0},c5,h5,[-gn,-Lr]);function c5(n){var r=NaN,e=NaN,t=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var f=a>0?gn:-gn,u=Cn(a-r);Cn(u-gn)<yn?(n.point(r,e=(e+o)/2>0?Lr:-Lr),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(f,e),n.point(a,e),i=0):t!==f&&u>=gn&&(Cn(r-t)<yn&&(r-=t*yn),Cn(a-f)<yn&&(a-=f*yn),e=v5(r,e,a,o),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(f,e),i=0),n.point(r=a,e=o),t=f},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-i}}}function v5(n,r,e,t){var i,a,o=Z(n-e);return Cn(o)>yn?wg((Z(r)*(a=en(t))*Z(e)-Z(t)*(i=en(r))*Z(n))/(i*a*o)):(r+t)/2}function h5(n,r,e,t){var i;if(n==null)i=e*Lr,t.point(-gn,i),t.point(0,i),t.point(gn,i),t.point(gn,0),t.point(gn,-i),t.point(0,-i),t.point(-gn,-i),t.point(-gn,0),t.point(-gn,i);else if(Cn(n[0]-r[0])>yn){var a=n[0]<r[0]?gn:-gn;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(r[0],r[1])}function g5(n){var r=en(n),e=6*nn,t=r>0,i=Cn(r)>yn;function a(l,v,s,h){Cg(h,n,e,s,l,v)}function o(l,v){return en(l)*en(v)>r}function f(l){var v,s,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,S){var m=[d,S],y,E=o(d,S),$=t?E?0:c(d,S):E?c(d+(d<0?gn:-gn),S):0;if(!v&&(g=h=E)&&l.lineStart(),E!==h&&(y=u(v,m),(!y||Da(v,y)||Da(m,y))&&(m[2]=1)),E!==h)p=0,E?(l.lineStart(),y=u(m,v),l.point(y[0],y[1])):(y=u(v,m),l.point(y[0],y[1],2),l.lineEnd()),v=y;else if(i&&v&&t^E){var T;!($&s)&&(T=u(m,v,!0))&&(p=0,t?(l.lineStart(),l.point(T[0][0],T[0][1]),l.point(T[1][0],T[1][1]),l.lineEnd()):(l.point(T[1][0],T[1][1]),l.lineEnd(),l.lineStart(),l.point(T[0][0],T[0][1],3)))}E&&(!v||!Da(v,m))&&l.point(m[0],m[1]),v=m,h=E,s=$},lineEnd:function(){h&&l.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function u(l,v,s){var h=Qe(l),g=Qe(v),p=[1,0,0],d=_t(h,g),S=oa(d,d),m=d[0],y=S-m*m;if(!y)return!s&&l;var E=r*S/y,$=-r*m/y,T=_t(p,d),k=ua(p,E),P=ua(d,$);Ju(k,P);var R=T,C=oa(k,R),b=oa(R,R),L=C*C-b*(oa(k,k)-1);if(!(L<0)){var z=Hr(L),_=ua(R,(-C-z)/b);if(Ju(_,k),_=Eo(_),!s)return _;var w=l[0],M=v[0],x=l[1],N=v[1],U;M<w&&(U=w,w=M,M=U);var vn=M-w,K=Cn(vn-gn)<yn,an=K||vn<yn;if(!K&&N<x&&(U=x,x=N,N=U),an?K?x+N>0^_[1]<(Cn(_[0]-w)<yn?x:N):x<=_[1]&&_[1]<=N:vn>gn^(w<=_[0]&&_[0]<=M)){var ln=ua(R,(-C+z)/b);return Ju(ln,k),[_,Eo(ln)]}}}function c(l,v){var s=t?n:gn-n,h=0;return l<-s?h|=1:l>s&&(h|=2),v<-s?h|=4:v>s&&(h|=8),h}return Ag(o,f,a,t?[0,-n]:[-gn,n-gn])}function p5(n,r,e,t,i,a){var o=n[0],f=n[1],u=r[0],c=r[1],l=0,v=1,s=u-o,h=c-f,g;if(g=e-o,!(!s&&g>0)){if(g/=s,s<0){if(g<l)return;g<v&&(v=g)}else if(s>0){if(g>v)return;g>l&&(l=g)}if(g=i-o,!(!s&&g<0)){if(g/=s,s<0){if(g>v)return;g>l&&(l=g)}else if(s>0){if(g<l)return;g<v&&(v=g)}if(g=t-f,!(!h&&g>0)){if(g/=h,h<0){if(g<l)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>l&&(l=g)}if(g=a-f,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>l&&(l=g)}else if(h>0){if(g<l)return;g<v&&(v=g)}return l>0&&(n[0]=o+l*s,n[1]=f+l*h),v<1&&(r[0]=o+v*s,r[1]=f+v*h),!0}}}}}var ii=1e9,fa=-ii;function d5(n,r,e,t){function i(c,l){return n<=c&&c<=e&&r<=l&&l<=t}function a(c,l,v,s){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(l,v))||u(c,l)<0^v>0)do s.point(h===0||h===3?n:e,h>1?t:r);while((h=(h+v+4)%4)!==g);else s.point(l[0],l[1])}function o(c,l){return Cn(c[0]-n)<yn?l>0?0:3:Cn(c[0]-e)<yn?l>0?2:1:Cn(c[1]-r)<yn?l>0?1:0:l>0?3:2}function f(c,l){return u(c.x,l.x)}function u(c,l){var v=o(c,1),s=o(l,1);return v!==s?v-s:v===0?l[1]-c[1]:v===1?c[0]-l[0]:v===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,v=Lg(),s,h,g,p,d,S,m,y,E,$,T,k={point:P,lineStart:L,lineEnd:z,polygonStart:C,polygonEnd:b};function P(w,M){i(w,M)&&l.point(w,M)}function R(){for(var w=0,M=0,x=h.length;M<x;++M)for(var N=h[M],U=1,vn=N.length,K=N[0],an,ln,On=K[0],Nn=K[1];U<vn;++U)an=On,ln=Nn,K=N[U],On=K[0],Nn=K[1],ln<=t?Nn>t&&(On-an)*(t-ln)>(Nn-ln)*(n-an)&&++w:Nn<=t&&(On-an)*(t-ln)<(Nn-ln)*(n-an)&&--w;return w}function C(){l=v,s=[],h=[],T=!0}function b(){var w=R(),M=T&&w,x=(s=Di(s)).length;(M||x)&&(c.polygonStart(),M&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&Ng(s,f,w,a,c),c.polygonEnd()),l=c,s=h=g=null}function L(){k.point=_,h&&h.push(g=[]),$=!0,E=!1,m=y=NaN}function z(){s&&(_(p,d),S&&E&&v.rejoin(),s.push(v.result())),k.point=P,E&&l.lineEnd()}function _(w,M){var x=i(w,M);if(h&&g.push([w,M]),$)p=w,d=M,S=x,$=!1,x&&(l.lineStart(),l.point(w,M));else if(x&&E)l.point(w,M);else{var N=[m=Math.max(fa,Math.min(ii,m)),y=Math.max(fa,Math.min(ii,y))],U=[w=Math.max(fa,Math.min(ii,w)),M=Math.max(fa,Math.min(ii,M))];p5(N,U,n,r,e,t)?(E||(l.lineStart(),l.point(N[0],N[1])),l.point(U[0],U[1]),x||l.lineEnd(),T=!1):x&&(l.lineStart(),l.point(w,M),T=!1)}m=w,y=M,E=x}return k}}function Pf(n,r){var e=n[0]*nn,t=n[1]*nn,i=r[0]*nn,a=r[1]*nn,o=en(t),f=Z(t),u=en(a),c=Z(a),l=o*en(e),v=o*Z(e),s=u*en(i),h=u*Z(i),g=2*Yr(Hr(K0(a-t)+o*u*K0(i-e))),p=Z(g),d=g?function(S){var m=Z(S*=g)/p,y=Z(g-S)/p,E=y*l+m*s,$=y*v+m*h,T=y*f+m*c;return[Ur($,E)*bn,Ur(T,Hr(E*E+$*$))*bn]}:function(){return[e*bn,t*bn]};return d.distance=g,d}function h1(n){return n}var $t=1/0,bo=$t,xi=-$t,Co=xi,m5={point:y5,lineStart:Qr,lineEnd:Qr,polygonStart:Qr,polygonEnd:Qr,result:function(){var n=[[$t,bo],[xi,Co]];return xi=Co=-(bo=$t=1/0),n}};function y5(n,r){n<$t&&($t=n),n>xi&&(xi=n),r<bo&&(bo=r),r>Co&&(Co=r)}var g1=m5;function bs(n){return function(r){var e=new xf;for(var t in n)e[t]=n[t];return e.stream=r,e}}function xf(){}xf.prototype={constructor:xf,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Cs(n,r,e){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),At(e,n.stream(g1)),r(g1.result()),t!=null&&n.clipExtent(t),n}function Ig(n,r,e){return Cs(n,function(t){var i=r[1][0]-r[0][0],a=r[1][1]-r[0][1],o=Math.min(i/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),f=+r[0][0]+(i-o*(t[1][0]+t[0][0]))/2,u=+r[0][1]+(a-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([f,u])},e)}function w5(n,r,e){return Ig(n,[[0,0],r],e)}function E5(n,r,e){return Cs(n,function(t){var i=+r,a=i/(t[1][0]-t[0][0]),o=(i-a*(t[1][0]+t[0][0]))/2,f=-a*t[0][1];n.scale(150*a).translate([o,f])},e)}function S5(n,r,e){return Cs(n,function(t){var i=+r,a=i/(t[1][1]-t[0][1]),o=-a*t[0][0],f=(i-a*(t[1][1]+t[0][1]))/2;n.scale(150*a).translate([o,f])},e)}var p1=16,_5=en(30*nn);function d1(n,r){return+r?T5(n,r):$5(n)}function $5(n){return bs({point:function(r,e){r=n(r,e),this.stream.point(r[0],r[1])}})}function T5(n,r){function e(t,i,a,o,f,u,c,l,v,s,h,g,p,d){var S=c-t,m=l-i,y=S*S+m*m;if(y>4*r&&p--){var E=o+s,$=f+h,T=u+g,k=Hr(E*E+$*$+T*T),P=Yr(T/=k),R=Cn(Cn(T)-1)<yn||Cn(a-v)<yn?(a+v)/2:Ur($,E),C=n(R,P),b=C[0],L=C[1],z=b-t,_=L-i,w=m*z-S*_;(w*w/y>r||Cn((S*z+m*_)/y-.5)>.3||o*s+f*h+u*g<_5)&&(e(t,i,a,o,f,u,b,L,R,E/=k,$/=k,T,p,d),d.point(b,L),e(b,L,R,E,$,T,c,l,v,s,h,g,p,d))}}return function(t){var i,a,o,f,u,c,l,v,s,h,g,p,d={point:S,lineStart:m,lineEnd:E,polygonStart:function(){t.polygonStart(),d.lineStart=$},polygonEnd:function(){t.polygonEnd(),d.lineStart=m}};function S(P,R){P=n(P,R),t.point(P[0],P[1])}function m(){v=NaN,d.point=y,t.lineStart()}function y(P,R){var C=Qe([P,R]),b=n(P,R);e(v,s,l,h,g,p,v=b[0],s=b[1],l=P,h=C[0],g=C[1],p=C[2],p1,t),t.point(v,s)}function E(){d.point=S,t.lineEnd()}function $(){m(),d.point=T,d.lineEnd=k}function T(P,R){y(i=P,R),a=v,o=s,f=h,u=g,c=p,d.point=y}function k(){e(v,s,l,h,g,p,a,o,i,f,u,c,p1,t),d.lineEnd=E,E()}return d}}var M5=bs({point:function(n,r){this.stream.point(n*nn,r*nn)}});function P5(n){return bs({point:function(r,e){var t=n(r,e);return this.stream.point(t[0],t[1])}})}function x5(n,r,e,t,i){function a(o,f){return o*=t,f*=i,[r+n*o,e-n*f]}return a.invert=function(o,f){return[(o-r)/n*t,(e-f)/n*i]},a}function m1(n,r,e,t,i,a){var o=en(a),f=Z(a),u=o*n,c=f*n,l=o/n,v=f/n,s=(f*e-o*r)/n,h=(f*r+o*e)/n;function g(p,d){return p*=t,d*=i,[u*p-c*d+r,e-c*p-u*d]}return g.invert=function(p,d){return[t*(l*p-v*d+s),i*(h-v*p-l*d)]},g}function Y(n){return Mr(function(){return n})()}function Mr(n){var r,e=150,t=480,i=250,a=0,o=0,f=0,u=0,c=0,l,v=0,s=1,h=1,g=null,p=v1,d=null,S,m,y,E=h1,$=.5,T,k,P,R,C;function b(w){return P(w[0]*nn,w[1]*nn)}function L(w){return w=P.invert(w[0],w[1]),w&&[w[0]*bn,w[1]*bn]}b.stream=function(w){return R&&C===w?R:R=M5(P5(l)(p(T(E(C=w)))))},b.preclip=function(w){return arguments.length?(p=w,g=void 0,_()):p},b.postclip=function(w){return arguments.length?(E=w,d=S=m=y=null,_()):E},b.clipAngle=function(w){return arguments.length?(p=+w?g5(g=w*nn):(g=null,v1),_()):g*bn},b.clipExtent=function(w){return arguments.length?(E=w==null?(d=S=m=y=null,h1):d5(d=+w[0][0],S=+w[0][1],m=+w[1][0],y=+w[1][1]),_()):d==null?null:[[d,S],[m,y]]},b.scale=function(w){return arguments.length?(e=+w,z()):e},b.translate=function(w){return arguments.length?(t=+w[0],i=+w[1],z()):[t,i]},b.center=function(w){return arguments.length?(a=w[0]%360*nn,o=w[1]%360*nn,z()):[a*bn,o*bn]},b.rotate=function(w){return arguments.length?(f=w[0]%360*nn,u=w[1]%360*nn,c=w.length>2?w[2]%360*nn:0,z()):[f*bn,u*bn,c*bn]},b.angle=function(w){return arguments.length?(v=w%360*nn,z()):v*bn},b.reflectX=function(w){return arguments.length?(s=w?-1:1,z()):s<0},b.reflectY=function(w){return arguments.length?(h=w?-1:1,z()):h<0},b.precision=function(w){return arguments.length?(T=d1(k,$=w*w),_()):Hr($)},b.fitExtent=function(w,M){return Ig(b,w,M)},b.fitSize=function(w,M){return w5(b,w,M)},b.fitWidth=function(w,M){return E5(b,w,M)},b.fitHeight=function(w,M){return S5(b,w,M)};function z(){var w=m1(e,0,0,s,h,v).apply(null,r(a,o)),M=(v?m1:x5)(e,t-w[0],i-w[1],s,h,v);return l=ks(f,u,c),k=Tf(r,M),P=Tf(l,k),T=d1(k,$),_()}function _(){return R=C=null,b}return function(){return r=n.apply(this,arguments),b.invert=r.invert&&L,z()}}function Dg(n){return function(r,e){var t=en(r),i=en(e),a=n(t*i);return[a*i*Z(r),a*Z(e)]}}function pu(n){return function(r,e){var t=Hr(r*r+e*e),i=n(t),a=Z(i),o=en(i);return[Ur(r*a,t*o),Yr(t&&e*a/t)]}}var Oa=Dg(function(n){return Hr(2/(1+n))});Oa.invert=pu(function(n){return 2*Yr(n/2)});var Tt=Dg(function(n){return(n=Eg(n))&&n/Z(n)});Tt.invert=pu(function(n){return n});function Rf(n,r){return[n,r]}Rf.invert=Rf;function R5(){return Y(Rf).scale(152.63)}function Lo(n,r){var e=en(r),t=en(n)*e;return[e*Z(n)/t,Z(r)/t]}Lo.invert=pu(wg);function Og(){return Y(Lo).scale(144.049).clipAngle(60)}function qg(n,r){return[en(r)*Z(n),Z(r)]}qg.invert=pu(Yr);function k5(){return Y(qg).scale(249.5).clipAngle(90+yn)}var F=Math.abs,Dn=Math.atan,cn=Math.atan2,I=Math.cos,ee=Math.exp,Mt=Math.floor,Hn=Math.log,Ri=Math.max,zr=Math.min,kf=Math.pow,No=Math.round,sn=Math.sign||function(n){return n>0?1:n<0?-1:0},D=Math.sin,tn=Math.tan,B=1e-6,It=1e-12,O=Math.PI,G=O/2,cr=O/4,kr=Math.SQRT1_2,En=q(2),Ar=q(O),Dr=O*2,xn=180/O,pn=O/180;function b5(n){return n?n/Math.sin(n):1}function j(n){return n>1?G:n<-1?-G:Math.asin(n)}function Xn(n){return n>1?0:n<-1?O:Math.acos(n)}function q(n){return n>0?Math.sqrt(n):0}function C5(n){return n=ee(2*n),(n-1)/(n+1)}function Ls(n){return(ee(n)-ee(-n))/2}function Fg(n){return(ee(n)+ee(-n))/2}function L5(n){return Hn(n+q(n*n+1))}function N5(n){return Hn(n+q(n*n-1))}function zg(n){var r=tn(n/2),e=2*Hn(I(n/2))/(r*r);function t(i,a){var o=I(i),f=I(a),u=D(a),c=f*o,l=-((1-c?Hn((1+c)/2)/(1-c):-.5)+e/(1+c));return[l*f*D(i),l*u]}return t.invert=function(i,a){var o=q(i*i+a*a),f=-n/2,u=50,c;if(!o)return[0,0];do{var l=f/2,v=I(l),s=D(l),h=tn(l),g=Hn(1/v);f-=c=(2/h*g-e*h-o)/(-g/(s*s)+1-e/(2*v*v))}while(F(c)>B&&--u>0);var p=D(f);return[cn(i*p,o*I(f)),j(a*p/o)]},t}function A5(){var n=G,r=Mr(zg),e=r(n);return e.radius=function(t){return arguments.length?r(n=t*pn):n*xn},e.scale(179.976).clipAngle(147)}function du(n,r){var e=I(r),t=b5(Xn(e*I(n/=2)));return[2*e*D(n)*t,D(r)*t]}du.invert=function(n,r){if(!(n*n+4*r*r>O*O+B)){var e=n,t=r,i=25;do{var a=D(e),o=D(e/2),f=I(e/2),u=D(t),c=I(t),l=D(2*t),v=u*u,s=c*c,h=o*o,g=1-s*f*f,p=g?Xn(c*f)*q(d=1/g):d=0,d,S=2*p*c*o-n,m=p*u-r,y=d*(s*h+p*c*f*v),E=d*(.5*a*l-p*2*u*o),$=d*.25*(l*o-p*u*s*a),T=d*(v*f+p*h*c),k=E*$-T*y;if(!k)break;var P=(m*E-S*T)/k,R=(S*$-m*y)/k;e-=P,t-=R}while((F(P)>B||F(R)>B)&&--i>0);return[e,t]}};function I5(){return Y(du).scale(152.63)}function Bg(n){var r=D(n),e=I(n),t=n>=0?1:-1,i=tn(t*n),a=(1+r-e)/2;function o(f,u){var c=I(u),l=I(f/=2);return[(1+c)*D(f),(t*u>-cn(l,i)-.001?0:-t*10)+a+D(u)*e-(1+c)*r*l]}return o.invert=function(f,u){var c=0,l=0,v=50;do{var s=I(c),h=D(c),g=I(l),p=D(l),d=1+g,S=d*h-f,m=a+p*e-d*r*s-u,y=d*s/2,E=-h*p,$=r*d*h/2,T=e*g+r*s*p,k=E*$-T*y,P=(m*E-S*T)/k/2,R=(S*$-m*y)/k;c-=P,l-=R}while((F(P)>B||F(R)>B)&&--v>0);return t*l>-cn(I(c),i)-.001?[c*2,l]:null},o}function D5(){var n=20*pn,r=n>=0?1:-1,e=tn(r*n),t=Mr(Bg),i=t(n),a=i.stream;return i.parallel=function(o){return arguments.length?(e=tn((r=(n=o*pn)>=0?1:-1)*n),t(n)):n*xn},i.stream=function(o){var f=i.rotate(),u=a(o),c=(i.rotate([0,0]),a(o));return i.rotate(f),u.sphere=function(){c.polygonStart(),c.lineStart();for(var l=r*-180;r*l<180;l+=r*90)c.point(l,r*90);for(;r*(l-=n)>=-180;)c.point(l,r*-cn(I(l*pn/2),e)*xn);c.lineEnd(),c.polygonEnd()},u},i.scale(218.695).center([0,28.0974])}function mu(n,r){var e=tn(r/2),t=q(1-e*e),i=1+t*I(n/=2),a=D(n)*t/i,o=e/i,f=a*a,u=o*o;return[4/3*a*(3+f-3*u),4/3*o*(3+3*f-u)]}mu.invert=function(n,r){if(n*=3/8,r*=3/8,!n&&F(r)>1)return null;var e=n*n,t=r*r,i=1+e+t,a=q((i-q(i*i-4*r*r))/2),o=j(a)/3,f=a?N5(F(r/a))/3:L5(F(n))/3,u=I(o),c=Fg(f),l=c*c-u*u;return[sn(n)*2*cn(Ls(f)*u,.25-l),sn(r)*2*cn(c*D(o),.25+l)]};function O5(){return Y(mu).scale(66.1603)}var Qu=q(8),q5=Hn(1+En);function Ns(n,r){var e=F(r);return e<cr?[n,Hn(tn(cr+r/2))]:[n*I(e)*(2*En-1/D(e)),sn(r)*(2*En*(e-cr)-Hn(tn(e/2)))]}Ns.invert=function(n,r){if((a=F(r))<q5)return[n,2*Dn(ee(r))-G];var e=cr,t=25,i,a;do{var o=I(e/2),f=tn(e/2);e-=i=(Qu*(e-cr)-Hn(f)-a)/(Qu-o*o/(2*f))}while(F(i)>It&&--t>0);return[n/(I(e)*(Qu-1/D(e))),sn(r)*e]};function F5(){return Y(Ns).scale(112.314)}function Gg(n){var r=2*O/n;function e(t,i){var a=Tt(t,i);if(F(t)>G){var o=cn(a[1],a[0]),f=q(a[0]*a[0]+a[1]*a[1]),u=r*No((o-G)/r)+G,c=cn(D(o-=u),2-I(o));o=u+j(O/f*D(c))-c,a[0]=f*I(o),a[1]=f*D(o)}return a}return e.invert=function(t,i){var a=q(t*t+i*i);if(a>G){var o=cn(i,t),f=r*No((o-G)/r)+G,u=o>f?-1:1,c=a*I(f-o),l=1/tn(u*Xn((c-O)/q(O*(O-2*c)+a*a)));o=f+2*Dn((l+u*q(l*l-3))/3),t=a*I(o),i=a*D(o)}return Tt.invert(t,i)},e}function z5(){var n=5,r=Mr(Gg),e=r(n),t=e.stream,i=.01,a=-I(i*pn),o=D(i*pn);return e.lobes=function(f){return arguments.length?r(n=+f):n},e.stream=function(f){var u=e.rotate(),c=t(f),l=(e.rotate([0,0]),t(f));return e.rotate(u),c.sphere=function(){l.polygonStart(),l.lineStart();for(var v=0,s=360/n,h=2*O/n,g=90-180/n,p=G;v<n;++v,g-=s,p-=h)l.point(cn(o*I(p),a)*xn,j(o*D(p))*xn),g<-90?(l.point(-90,-180-g-i),l.point(-90,-180-g+i)):(l.point(90,g+i),l.point(90,g-i));l.lineEnd(),l.polygonEnd()},c},e.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)}function Ug(n,r){var e=n*D(r),t=30,i;do r-=i=(r+D(r)-e)/(1+I(r));while(F(i)>B&&--t>0);return r/2}function As(n,r,e){function t(i,a){return[n*i*I(a=Ug(e,a)),r*D(a)]}return t.invert=function(i,a){return a=j(a/r),[i/(n*I(a)),j((2*a+D(2*a))/e)]},t}var De=As(En/G,En,O);function B5(){return Y(De).scale(169.529)}var Ao=2.00276,Hg=1.11072;function yu(n,r){var e=Ug(O,r);return[Ao*n/(1/I(r)+Hg/I(e)),(r+En*D(e))/Ao]}yu.invert=function(n,r){var e=Ao*r,t=r<0?-cr:cr,i=25,a,o;do o=e-En*D(t),t-=a=(D(2*t)+2*t-O*D(o))/(2*I(2*t)+2+O*I(o)*En*I(t));while(F(a)>B&&--i>0);return o=e-En*D(t),[n*(1/I(o)+Hg/I(t))/Ao,o]};function G5(){return Y(yu).scale(160.857)}function Dt(n){var r=0,e=Mr(n),t=e(r);return t.parallel=function(i){return arguments.length?e(r=i*pn):r*xn},t}function ye(n,r){return[n*I(r),r]}ye.invert=function(n,r){return[n/I(r),r]};function U5(){return Y(ye).scale(152.63)}function Yg(n){if(!n)return ye;var r=1/tn(n);function e(t,i){var a=r+n-i,o=a&&t*I(i)/a;return[a*D(o),r-a*I(o)]}return e.invert=function(t,i){var a=q(t*t+(i=r-i)*i),o=r+n-a;return[a/I(o)*cn(t,i),o]},e}function H5(){return Dt(Yg).scale(123.082).center([0,26.1441]).parallel(45)}function Vg(n){function r(e,t){var i=G-t,a=i&&e*n*D(i)/i;return[i*D(a)/n,G-i*I(a)]}return r.invert=function(e,t){var i=e*n,a=G-t,o=q(i*i+a*a),f=cn(i,a);return[(o?o/D(o):1)*f/n,G-o]},r}function Y5(){var n=.5,r=Mr(Vg),e=r(n);return e.fraction=function(t){return arguments.length?r(n=+t):n},e.scale(158.837)}var jg=As(1,4/O,O);function V5(){return Y(jg).scale(152.63)}function y1(n,r,e,t,i,a){var o=I(a),f;if(F(n)>1||F(a)>1)f=Xn(e*i+r*t*o);else{var u=D(n/2),c=D(a/2);f=2*j(q(u*u+r*t*c*c))}return F(f)>B?[f,cn(t*D(a),r*i-e*t*o)]:[0,0]}function nl(n,r,e){return Xn((n*n+r*r-e*e)/(2*n*r))}function j5(n){return n-2*O*Mt((n+O)/(2*O))}function Xg(n,r,e){for(var t=[[n[0],n[1],D(n[1]),I(n[1])],[r[0],r[1],D(r[1]),I(r[1])],[e[0],e[1],D(e[1]),I(e[1])]],i=t[2],a,o=0;o<3;++o,i=a)a=t[o],i.v=y1(a[1]-i[1],i[3],i[2],a[3],a[2],a[0]-i[0]),i.point=[0,0];var f=nl(t[0].v[0],t[2].v[0],t[1].v[0]),u=nl(t[0].v[0],t[1].v[0],t[2].v[0]),c=O-f;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=t[0].v[0]/2);var l=[t[2].point[0]=t[0].point[0]+t[2].v[0]*I(f),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*D(f))];function v(s,h){var g=D(h),p=I(h),d=new Array(3),S;for(S=0;S<3;++S){var m=t[S];if(d[S]=y1(h-m[1],m[3],m[2],p,g,s-m[0]),!d[S][0])return m.point;d[S][1]=j5(d[S][1]-m.v[1])}var y=l.slice();for(S=0;S<3;++S){var E=S==2?0:S+1,$=nl(t[S].v[0],d[S][0],d[E][0]);d[S][1]<0&&($=-$),S?S==1?($=u-$,y[0]-=d[S][0]*I($),y[1]-=d[S][0]*D($)):($=c-$,y[0]+=d[S][0]*I($),y[1]+=d[S][0]*D($)):(y[0]+=d[S][0]*I($),y[1]-=d[S][0]*D($))}return y[0]/=3,y[1]/=3,y}return v}function rl(n){return n[0]*=pn,n[1]*=pn,n}function X5(){return Wg([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Wg(n,r,e){var t=Bi({type:"MultiPoint",coordinates:[n,r,e]}),i=[-t[0],-t[1]],a=ko(i),o=Y(Xg(rl(a(n)),rl(a(r)),rl(a(e)))).rotate(i),f=o.center;return delete o.rotate,o.center=function(u){return arguments.length?f(a(u)):a.invert(f())},o.clipAngle(90)}function Zr(n,r){var e=q(1-D(r));return[2/Ar*n*e,Ar*(1-e)]}Zr.invert=function(n,r){var e=(e=r/Ar-1)*e;return[e>0?n*q(O/e)/2:0,j(1-e)]};function W5(){return Y(Zr).scale(95.6464).center([0,30])}function Jg(n){var r=tn(n);function e(t,i){return[t,(t?t/D(t):1)*(D(i)*I(t)-r*I(i))]}return e.invert=r?function(t,i){t&&(i*=D(t)/t);var a=I(t);return[t,2*cn(q(a*a+r*r-i*i)-a,r-i)]}:function(t,i){return[t,j(t?i*tn(t)/t:i)]},e}function J5(){return Dt(Jg).scale(249.828).clipAngle(90)}var Io=q(3);function Is(n,r){return[Io*n*(2*I(2*r/3)-1)/Ar,Io*Ar*D(r/3)]}Is.invert=function(n,r){var e=3*j(r/(Io*Ar));return[Ar*n/(Io*(2*I(2*e/3)-1)),e]};function K5(){return Y(Is).scale(156.19)}function Ds(n){var r=I(n);function e(t,i){return[t*r,D(i)/r]}return e.invert=function(t,i){return[t/r,j(i*r)]},e}function Z5(){return Dt(Ds).parallel(38.58).scale(195.044)}function Kg(n){var r=I(n);function e(t,i){return[t*r,(1+r)*tn(i/2)]}return e.invert=function(t,i){return[t/r,Dn(i/(1+r))*2]},e}function Q5(){return Dt(Kg).scale(124.75)}function Os(n,r){var e=q(8/(3*O));return[e*n*(1-F(r)/O),e*r]}Os.invert=function(n,r){var e=q(8/(3*O)),t=r/e;return[n/(e*(1-F(t)/O)),t]};function nw(){return Y(Os).scale(165.664)}function qs(n,r){var e=q(4-3*D(F(r)));return[2/q(6*O)*n*e,sn(r)*q(2*O/3)*(2-e)]}qs.invert=function(n,r){var e=2-F(r)/q(2*O/3);return[n*q(6*O)/(2*e),sn(r)*j((4-e*e)/3)]};function rw(){return Y(qs).scale(165.664)}function Fs(n,r){var e=q(O*(4+O));return[2/e*n*(1+q(1-4*r*r/(O*O))),4/e*r]}Fs.invert=function(n,r){var e=q(O*(4+O))/2;return[n*e/(1+q(1-r*r*(4+O)/(4*O))),r*e/2]};function ew(){return Y(Fs).scale(180.739)}function zs(n,r){var e=(2+G)*D(r);r/=2;for(var t=0,i=1/0;t<10&&F(i)>B;t++){var a=I(r);r-=i=(r+D(r)*(a+2)-e)/(2*a*(1+a))}return[2/q(O*(4+O))*n*(1+I(r)),2*q(O/(4+O))*D(r)]}zs.invert=function(n,r){var e=r*q((4+O)/O)/2,t=j(e),i=I(t);return[n/(2/q(O*(4+O))*(1+i)),j((t+e*(i+2))/(2+G))]};function tw(){return Y(zs).scale(180.739)}function Bs(n,r){return[n*(1+I(r))/q(2+O),2*r/q(2+O)]}Bs.invert=function(n,r){var e=q(2+O),t=r*e/2;return[e*n/(1+I(t)),t]};function iw(){return Y(Bs).scale(173.044)}function Gs(n,r){for(var e=(1+G)*D(r),t=0,i=1/0;t<10&&F(i)>B;t++)r-=i=(r+D(r)-e)/(1+I(r));return e=q(2+O),[n*(1+I(r))/e,2*r/e]}Gs.invert=function(n,r){var e=1+G,t=q(e/2);return[n*2*t/(1+I(r*=t)),j((r+D(r))/e)]};function aw(){return Y(Gs).scale(173.044)}var Do=3+2*En;function Us(n,r){var e=D(n/=2),t=I(n),i=q(I(r)),a=I(r/=2),o=D(r)/(a+En*t*i),f=q(2/(1+o*o)),u=q((En*a+(t+e)*i)/(En*a+(t-e)*i));return[Do*(f*(u-1/u)-2*Hn(u)),Do*(f*o*(u+1/u)-2*Dn(o))]}Us.invert=function(n,r){if(!(a=mu.invert(n/1.2,r*1.065)))return null;var e=a[0],t=a[1],i=20,a;n/=Do,r/=Do;do{var o=e/2,f=t/2,u=D(o),c=I(o),l=D(f),v=I(f),s=I(t),h=q(s),g=l/(v+En*c*h),p=g*g,d=q(2/(1+p)),S=En*v+(c+u)*h,m=En*v+(c-u)*h,y=S/m,E=q(y),$=E-1/E,T=E+1/E,k=d*$-2*Hn(E)-n,P=d*g*T-2*Dn(g)-r,R=l&&kr*h*u*p/l,C=(En*c*v+h)/(2*(v+En*c*h)*(v+En*c*h)*h),b=-.5*g*d*d*d,L=b*R,z=b*C,_=(_=2*v+En*h*(c-u))*_*E,w=(En*c*v*h+s)/_,M=-(En*u*l)/(h*_),x=$*L-2*w/E+d*(w+w/y),N=$*z-2*M/E+d*(M+M/y),U=g*T*L-2*R/(1+p)+d*T*R+d*g*(w-w/y),vn=g*T*z-2*C/(1+p)+d*T*C+d*g*(M-M/y),K=N*U-vn*x;if(!K)break;var an=(P*N-k*vn)/K,ln=(k*U-P*x)/K;e-=an,t=Ri(-G,zr(G,t-ln))}while((F(an)>B||F(ln)>B)&&--i>0);return F(F(t)-G)<B?[0,t]:i&&[e,t]};function ow(){return Y(Us).scale(62.5271)}var Oo=I(35*pn);function Hs(n,r){var e=tn(r/2);return[n*Oo*q(1-e*e),(1+Oo)*e]}Hs.invert=function(n,r){var e=r/(1+Oo);return[n&&n/(Oo*q(1-e*e)),2*Dn(e)]};function uw(){return Y(Hs).scale(137.152)}function Ys(n,r){var e=r/2,t=I(e);return[2*n/Ar*I(r)*t*t,Ar*tn(e)]}Ys.invert=function(n,r){var e=Dn(r/Ar),t=I(e),i=2*e;return[n*Ar/2/(I(i)*t*t),i]};function lw(){return Y(Ys).scale(135.264)}function w1(n){return[n[0]/2,j(tn(n[1]/2*pn))*xn]}function E1(n){return[n[0]*2,2*Dn(D(n[1]*pn))*xn]}function fw(n){n==null&&(n=k5);var r=n(),e=R5().scale(xn).precision(0).clipAngle(null).translate([0,0]);function t(a){return r(w1(a))}r.invert&&(t.invert=function(a){return E1(r.invert(a))}),t.stream=function(a){var o=r.stream(a),f=e.stream({point:function(u,c){o.point(u/2,j(tn(-c/2*pn))*xn)},lineStart:function(){o.lineStart()},lineEnd:function(){o.lineEnd()},polygonStart:function(){o.polygonStart()},polygonEnd:function(){o.polygonEnd()}});return f.sphere=o.sphere,f};function i(a){t[a]=function(o){return arguments.length?(r[a](o),t):r[a]()}}return t.rotate=function(a){return arguments.length?(e.rotate(a),t):e.rotate()},t.center=function(a){return arguments.length?(r.center(w1(a)),t):E1(r.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),t.scale(249.5)}function Zg(n,r){var e=2*O/r,t=n*n;function i(a,o){var f=Tt(a,o),u=f[0],c=f[1],l=u*u+c*c;if(l>t){var v=q(l),s=cn(c,u),h=e*No(s/e),g=s-h,p=n*I(g),d=(n*D(g)-g*D(p))/(G-p),S=S1(g,d),m=(O-n)/sa(S,p,O);u=v;var y=50,E;do u-=E=(n+sa(S,p,u)*m-v)/(S(u)*m);while(F(E)>B&&--y>0);c=g*D(u),u<G&&(c-=d*(u-G));var $=D(h),T=I(h);f[0]=u*T-c*$,f[1]=u*$+c*T}return f}return i.invert=function(a,o){var f=a*a+o*o;if(f>t){var u=q(f),c=cn(o,a),l=e*No(c/e),v=c-l;a=u*I(v),o=u*D(v);for(var s=a-G,h=D(a),g=o/h,p=a<G?1/0:0,d=10;;){var S=n*D(g),m=n*I(g),y=D(m),E=G-m,$=(S-g*y)/E,T=S1(g,$);if(F(p)<It||!--d)break;g-=p=(g*h-$*s-o)/(h-s*2*(E*(m+g*S*I(m)-y)-S*(S-g*y))/(E*E))}u=n+sa(T,m,a)*(O-n)/sa(T,m,O),c=l+g,a=u*I(c),o=u*D(c)}return Tt.invert(a,o)},i}function S1(n,r){return function(e){var t=n*I(e);return e<G&&(t-=r),q(1+t*t)}}function sa(n,r,e){for(var t=50,i=(e-r)/t,a=n(r)+n(e),o=1,f=r;o<t;++o)a+=2*n(f+=i);return a*.5*i}function sw(){var n=6,r=30*pn,e=I(r),t=D(r),i=Mr(Zg),a=i(r,n),o=a.stream,f=.01,u=-I(f*pn),c=D(f*pn);return a.radius=function(l){return arguments.length?(e=I(r=l*pn),t=D(r),i(r,n)):r*xn},a.lobes=function(l){return arguments.length?i(r,n=+l):n},a.stream=function(l){var v=a.rotate(),s=o(l),h=(a.rotate([0,0]),o(l));return a.rotate(v),s.sphere=function(){h.polygonStart(),h.lineStart();for(var g=0,p=2*O/n,d=0;g<n;++g,d-=p)h.point(cn(c*I(d),u)*xn,j(c*D(d))*xn),h.point(cn(t*I(d-p/2),e)*xn,j(t*D(d-p/2))*xn);h.lineEnd(),h.polygonEnd()},s},a.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)}function wu(n,r,e,t,i,a,o,f){arguments.length<8&&(f=0);function u(c,l){if(!l)return[n*c/O,0];var v=l*l,s=n+v*(r+v*(e+v*t)),h=l*(i-1+v*(a-f+v*o)),g=(s*s+h*h)/(2*h),p=c*j(s/g)/O;return[g*D(p),l*(1+v*f)+g*(1-I(p))]}return u.invert=function(c,l){var v=O*c/n,s=l,h,g,p=50;do{var d=s*s,S=n+d*(r+d*(e+d*t)),m=s*(i-1+d*(a-f+d*o)),y=S*S+m*m,E=2*m,$=y/E,T=$*$,k=j(S/$)/O,P=v*k,R=S*S,C=(2*r+d*(4*e+d*6*t))*s,b=i+d*(3*a+d*5*o),L=2*(S*C+m*(b-1)),z=2*(b-1),_=(L*E-y*z)/(E*E),w=I(P),M=D(P),x=$*w,N=$*M,U=v/O*(1/q(1-R/T))*(C*$-S*_)/T,vn=N-c,K=s*(1+d*f)+$-x-l,an=_*M+x*U,ln=x*k,On=1+_-(_*w-N*U),Nn=N*k,Gu=an*Nn-On*ln;if(!Gu)break;v-=h=(K*an-vn*On)/Gu,s-=g=(vn*Nn-K*ln)/Gu}while((F(h)>B||F(g)>B)&&--p>0);return[v,s]},u}var Qg=wu(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function cw(){return Y(Qg).scale(149.995)}var np=wu(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function vw(){return Y(np).scale(153.93)}var rp=wu(5/6*O,-.62636,-.0344,0,1.3493,-.05524,0,.045);function hw(){return Y(rp).scale(130.945)}function Vs(n,r){var e=n*n,t=r*r;return[n*(1-.162388*t)*(.87-952426e-9*e*e),r*(1+t/12)]}Vs.invert=function(n,r){var e=n,t=r,i=50,a;do{var o=t*t;t-=a=(t*(1+o/12)-r)/(1+o/4)}while(F(a)>B&&--i>0);i=50,n/=1-.162388*o;do{var f=(f=e*e)*f;e-=a=(e*(.87-952426e-9*f)-n)/(.87-.00476213*f)}while(F(a)>B&&--i>0);return[e,t]};function gw(){return Y(Vs).scale(131.747)}var ep=wu(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function pw(){return Y(ep).scale(131.087)}function tp(n){var r=n(G,0)[0]-n(-G,0)[0];function e(t,i){var a=t>0?-.5:.5,o=n(t+a*O,i);return o[0]-=a*r,o}return n.invert&&(e.invert=function(t,i){var a=t>0?-.5:.5,o=n.invert(t+a*r,i),f=o[0]-a*O;return f<-O?f+=2*O:f>O&&(f-=2*O),o[0]=f,o}),e}function Eu(n,r){var e=sn(n),t=sn(r),i=I(r),a=I(n)*i,o=D(n)*i,f=D(t*r);n=F(cn(o,f)),r=j(a),F(n-G)>B&&(n%=G);var u=dw(n>O/4?G-n:n,r);return n>O/4&&(f=u[0],u[0]=-u[1],u[1]=-f),u[0]*=e,u[1]*=-t,u}Eu.invert=function(n,r){F(n)>1&&(n=sn(n)*2-n),F(r)>1&&(r=sn(r)*2-r);var e=sn(n),t=sn(r),i=-e*n,a=-t*r,o=a/i<1,f=mw(o?a:i,o?i:a),u=f[0],c=f[1],l=I(c);return o&&(u=-G-u),[e*(cn(D(u)*l,-D(c))+O),t*j(I(u)*l)]};function dw(n,r){if(r===G)return[0,0];var e=D(r),t=e*e,i=t*t,a=1+i,o=1+3*i,f=1-i,u=j(1/q(a)),c=f+t*a*u,l=(1-e)/c,v=q(l),s=l*a,h=q(s),g=v*f,p,d;if(n===0)return[0,-(g+t*h)];var S=I(r),m=1/S,y=2*e*S,E=(-3*t+u*o)*y,$=(-c*S-(1-e)*E)/(c*c),T=.5*$/v,k=f*T-2*t*v*y,P=t*a*$+l*o*y,R=-m*y,C=-m*P,b=-2*m*k,L=4*n/O,z;if(n>.222*O||r<O/4&&n>.175*O){if(p=(g+t*q(s*(1+i)-g*g))/(1+i),n>O/4)return[p,p];var _=p,w=.5*p;p=.5*(w+_),d=50;do{var M=q(s-p*p),x=p*(b+R*M)+C*j(p/h)-L;if(!x)break;x<0?w=p:_=p,p=.5*(w+_)}while(F(_-w)>B&&--d>0)}else{p=B,d=25;do{var N=p*p,U=q(s-N),vn=b+R*U,K=p*vn+C*j(p/h)-L,an=vn+(C-R*N)/U;p-=z=U?K/an:0}while(F(z)>B&&--d>0)}return[p,-g-t*q(s-p*p)]}function mw(n,r){for(var e=0,t=1,i=.5,a=50;;){var o=i*i,f=q(i),u=j(1/q(1+o)),c=1-o+i*(1+o)*u,l=(1-f)/c,v=q(l),s=l*(1+o),h=v*(1-o),g=s-n*n,p=q(g),d=r+h+i*p;if(F(t-e)<It||--a===0||d===0)break;d>0?e=i:t=i,i=.5*(e+t)}if(!a)return null;var S=j(f),m=I(S),y=1/m,E=2*f*m,$=(-3*i+u*(1+3*o))*E,T=(-c*m-(1-f)*$)/(c*c),k=.5*T/v,P=(1-o)*k-2*i*v*E,R=-2*y*P,C=-y*E,b=-y*(i*(1+o)*T+l*(1+3*o)*E);return[O/4*(n*(R+C*p)+b*j(n/q(s))),S]}function yw(){return Y(tp(Eu)).scale(239.75)}function ww(n,r,e){var t,i,a;return n?(t=el(n,e),r?(i=el(r,1-e),a=i[1]*i[1]+e*t[0]*t[0]*i[0]*i[0],[[t[0]*i[2]/a,t[1]*t[2]*i[0]*i[1]/a],[t[1]*i[1]/a,-t[0]*t[2]*i[0]*i[2]/a],[t[2]*i[1]*i[2]/a,-e*t[0]*t[1]*i[0]/a]]):[[t[0],0],[t[1],0],[t[2],0]]):(i=el(r,1-e),[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]])}function el(n,r){var e,t,i,a,o;if(r<B)return a=D(n),t=I(n),e=r*(n-a*t)/4,[a-e*t,t+e*a,1-r*a*a/2,n-e];if(r>=1-B)return e=(1-r)/4,t=Fg(n),a=C5(n),i=1/t,o=t*Ls(n),[a+e*(o-n)/(t*t),i-e*a*i*(o-n),i+e*a*i*(o+n),2*Dn(ee(n))-G+e*(o-n)/t];var f=[1,0,0,0,0,0,0,0,0],u=[q(r),0,0,0,0,0,0,0,0],c=0;for(t=q(1-r),o=1;F(u[c]/f[c])>B&&c<8;)e=f[c++],u[c]=(e-t)/2,f[c]=(e+t)/2,t=q(e*t),o*=2;i=o*f[c]*n;do a=u[c]*D(t=i)/f[c],i=(j(a)+i)/2;while(--c);return[D(i),a=I(i),a/I(i-t),i]}function Ew(n,r,e){var t=F(n),i=F(r),a=Ls(i);if(t){var o=1/D(t),f=1/(tn(t)*tn(t)),u=-(f+e*(a*a*o*o)-1+e),c=(e-1)*f,l=(-u+q(u*u-4*c))/2;return[wi(Dn(1/q(l)),e)*sn(n),wi(Dn(q((l/f-1)/e)),1-e)*sn(r)]}return[0,wi(Dn(a),1-e)*sn(r)]}function wi(n,r){if(!r)return n;if(r===1)return Hn(tn(n/2+cr));for(var e=1,t=q(1-r),i=q(r),a=0;F(i)>B;a++){if(n%O){var o=Dn(t*tn(n)/e);o<0&&(o+=O),n+=o+~~(n/O)*O}else n+=n;i=(e+t)/2,t=q(e*t),i=((e=i)-t)/2}return n/(kf(2,a)*e)}function Su(n,r){var e=(En-1)/(En+1),t=q(1-e*e),i=wi(G,t*t),a=-1,o=Hn(tn(O/4+F(r)/2)),f=ee(a*o)/q(e),u=Sw(f*I(a*n),f*D(a*n)),c=Ew(u[0],u[1],t*t);return[-c[1],(r>=0?1:-1)*(.5*i-c[0])]}function Sw(n,r){var e=n*n,t=r+1,i=1-e-r*r;return[.5*((n>=0?G:-G)-cn(i,2*n)),-.25*Hn(i*i+4*e)+.5*Hn(t*t+e)]}function _w(n,r){var e=r[0]*r[0]+r[1]*r[1];return[(n[0]*r[0]+n[1]*r[1])/e,(n[1]*r[0]-n[0]*r[1])/e]}Su.invert=function(n,r){var e=(En-1)/(En+1),t=q(1-e*e),i=wi(G,t*t),a=-1,o=ww(.5*i-r,-n,t*t),f=_w(o[0],o[1]),u=cn(f[1],f[0])/a;return[u,2*Dn(ee(.5/a*Hn(e*f[0]*f[0]+e*f[1]*f[1])))-G]};function $w(){return Y(tp(Su)).scale(151.496)}function ip(n,r){if(arguments.length<2&&(r=n),r===1)return Oa;if(r===1/0)return ap;function e(t,i){var a=Oa(t/r,i);return a[0]*=n,a}return e.invert=function(t,i){var a=Oa.invert(t/n,i);return a[0]*=r,a},e}function ap(n,r){return[n*I(r)/I(r/=2),2*D(r)]}ap.invert=function(n,r){var e=2*j(r/2);return[n*I(e/2)/I(e),e]};function Tw(){var n=2,r=Mr(ip),e=r(n);return e.coefficient=function(t){return arguments.length?r(n=+t):n},e.scale(169.529)}function op(n){var r=D(n),e=I(n),t=_1(n);t.invert=_1(-n);function i(a,o){var f=t(a,o);a=f[0],o=f[1];var u=D(o),c=I(o),l=I(a),v=Xn(r*u+e*c*l),s=D(v),h=F(s)>B?v/s:1;return[h*e*D(a),(F(a)>G?h:-h)*(r*c-e*u*l)]}return i.invert=function(a,o){var f=q(a*a+o*o),u=-D(f),c=I(f),l=f*c,v=-o*u,s=f*r,h=q(l*l+v*v-s*s),g=cn(l*s+v*h,v*s-l*h),p=(f>G?-1:1)*cn(a*u,f*I(g)*c+o*D(g)*u);return t.invert(p,g)},i}function _1(n){var r=D(n),e=I(n);return function(t,i){var a=I(i),o=I(t)*a,f=D(t)*a,u=D(i);return[cn(f,o*e-u*r),j(u*e+o*r)]}}function Mw(){var n=0,r=Mr(op),e=r(n),t=e.rotate,i=e.stream,a=u5();return e.parallel=function(o){if(!arguments.length)return n*xn;var f=e.rotate();return r(n=o*pn).rotate(f)},e.rotate=function(o){return arguments.length?(t.call(e,[o[0],o[1]-n*xn]),a.center([-o[0],-o[1]]),e):(o=t.call(e),o[1]+=n*xn,o)},e.stream=function(o){return o=i(o),o.sphere=function(){o.polygonStart();var f=.01,u=a.radius(90-f)().coordinates[0],c=u.length-1,l=-1,v;for(o.lineStart();++l<c;)o.point((v=u[l])[0],v[1]);for(o.lineEnd(),u=a.radius(90+f)().coordinates[0],c=u.length-1,o.lineStart();--l>=0;)o.point((v=u[l])[0],v[1]);o.lineEnd(),o.polygonEnd()},o},e.scale(79.4187).parallel(45).clipAngle(180-.001)}var bf=41+48/36+37/3600,tl=Ds(0);function up(n){var r=bf*pn,e=Zr(O,r)[0]-Zr(-O,r)[0],t=tl(0,r)[1],i=Zr(0,r)[1],a=Ar-i,o=Dr/n,f=4/Dr,u=t+a*a*4/Dr;function c(l,v){var s,h=F(v);if(h>r){var g=zr(n-1,Ri(0,Mt((l+O)/o)));l+=O*(n-1)/n-g*o,s=Zr(l,h),s[0]=s[0]*Dr/e-Dr*(n-1)/(2*n)+g*Dr/n,s[1]=t+(s[1]-i)*4*a/Dr,v<0&&(s[1]=-s[1])}else s=tl(l,v);return s[0]*=f,s[1]/=u,s}return c.invert=function(l,v){l/=f,v*=u;var s=F(v);if(s>t){var h=zr(n-1,Ri(0,Mt((l+O)/o)));l=(l+O*(n-1)/n-h*o)*e/Dr;var g=Zr.invert(l,.25*(s-t)*Dr/a+i);return g[0]-=O*(n-1)/n-h*o,v<0&&(g[1]=-g[1]),g}return tl.invert(l,v)},c}function Pw(n){return{type:"Polygon",coordinates:[Re(-180,180+n/2,n).map(function(r,e){return[r,e&1?90-1e-6:bf]}).concat(Re(180,-180-n/2,-n).map(function(r,e){return[r,e&1?-90+1e-6:-bf]}))]}}function xw(){var n=4,r=Mr(up),e=r(n),t=e.stream;return e.lobes=function(i){return arguments.length?r(n=+i):n},e.stream=function(i){var a=e.rotate(),o=t(i),f=(e.rotate([0,0]),t(i));return e.rotate(a),o.sphere=function(){At(Pw(180/n),f)},o},e.scale(239.75)}function lp(n){var r=1+n,e=D(1/r),t=j(e),i=2*q(O/(a=O+4*t*r)),a,o=.5*i*(r+q(n*(2+n))),f=n*n,u=r*r;function c(l,v){var s=1-D(v),h,g;if(s&&s<2){var p=G-v,d=25,S;do{var m=D(p),y=I(p),E=t+cn(m,r-y),$=1+u-2*r*y;p-=S=(p-f*t-r*m+$*E-.5*s*a)/(2*r*m*E)}while(F(S)>It&&--d>0);h=i*q($),g=l*E/O}else h=i*(n+s),g=l*t/O;return[h*D(g),o-h*I(g)]}return c.invert=function(l,v){var s=l*l+(v-=o)*v,h=(1+u-s/(i*i))/(2*r),g=Xn(h),p=D(g),d=t+cn(p,r-h);return[j(l/q(s))*O/d,j(1-2*(g-f*t-r*p+(1+u-2*r*h)*d)/a)]},c}function Rw(){var n=1,r=Mr(lp),e=r(n);return e.ratio=function(t){return arguments.length?r(n=+t):n},e.scale(167.774).center([0,18.67])}var _u=.7109889596207567,Pt=.0528035274542;function $u(n,r){return r>-_u?(n=De(n,r),n[1]+=Pt,n):ye(n,r)}$u.invert=function(n,r){return r>-_u?De.invert(n,r-Pt):ye.invert(n,r)};function kw(){return Y($u).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Tu(n,r){return F(r)>_u?(n=De(n,r),n[1]-=r>0?Pt:-Pt,n):ye(n,r)}Tu.invert=function(n,r){return F(r)>_u?De.invert(n,r+(r>0?Pt:-Pt)):ye.invert(n,r)};function bw(){return Y(Tu).scale(152.63)}function Cw(n,r){return F(n[0]-r[0])<B&&F(n[1]-r[1])<B}function $1(n,r){for(var e=-1,t=n.length,i=n[0],a,o,f,u=[];++e<t;){a=n[e],o=(a[0]-i[0])/r,f=(a[1]-i[1])/r;for(var c=0;c<r;++c)u.push([i[0]+c*o,i[1]+c*f]);i=a}return u.push(a),u}function Lw(n){var r=[],e,t,i,a,o,f,u,c=n[0].length;for(u=0;u<c;++u)e=n[0][u],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],f=e[2][1],r.push($1([[t+B,i+B],[t+B,a-B],[o-B,a-B],[o-B,f+B]],30));for(u=n[1].length-1;u>=0;--u)e=n[1][u],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],f=e[2][1],r.push($1([[o-B,f-B],[o-B,a+B],[t+B,a+B],[t+B,i-B]],30));return{type:"Polygon",coordinates:[Di(r)]}}function nt(n,r){var e=Lw(r);r=r.map(function(f){return f.map(function(u){return[[u[0][0]*pn,u[0][1]*pn],[u[1][0]*pn,u[1][1]*pn],[u[2][0]*pn,u[2][1]*pn]]})});var t=r.map(function(f){return f.map(function(u){var c=n(u[0][0],u[0][1])[0],l=n(u[2][0],u[2][1])[0],v=n(u[1][0],u[0][1])[1],s=n(u[1][0],u[1][1])[1],h;return v>s&&(h=v,v=s,s=h),[[c,v],[l,s]]})});function i(f,u){for(var c=u<0?-1:1,l=r[+(u<0)],v=0,s=l.length-1;v<s&&f>l[v][2][0];++v);var h=n(f-l[v][1][0],u);return h[0]+=n(l[v][1][0],c*u>c*l[v][0][1]?l[v][0][1]:u)[0],h}n.invert&&(i.invert=function(f,u){for(var c=t[+(u<0)],l=r[+(u<0)],v=0,s=c.length;v<s;++v){var h=c[v];if(h[0][0]<=f&&f<h[1][0]&&h[0][1]<=u&&u<h[1][1]){var g=n.invert(f-n(l[v][1][0],0)[0],u);return g[0]+=l[v][1][0],Cw(i(g[0],g[1]),[f,u])?g:null}}});var a=Y(i),o=a.stream;return a.stream=function(f){var u=a.rotate(),c=o(f),l=(a.rotate([0,0]),o(f));return a.rotate(u),c.sphere=function(){At(e,l)},c},a}var Nw=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Aw(){return nt(yu,Nw).scale(160.857)}var Iw=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Dw(){return nt(Tu,Iw).scale(152.63)}var Ow=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qw(){return nt(De,Ow).scale(169.529)}var Fw=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function zw(){return nt(De,Fw).scale(169.529).rotate([20,0])}var Bw=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Gw(){return nt($u,Bw).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Uw=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Hw(){return nt(ye,Uw).scale(152.63).rotate([-20,0])}function js(n,r){return[3/Dr*n*q(O*O/3-r*r),r]}js.invert=function(n,r){return[Dr/3*n/q(O*O/3-r*r),r]};function Yw(){return Y(js).scale(158.837)}function fp(n){function r(e,t){if(F(F(t)-G)<B)return[0,t<0?-2:2];var i=D(t),a=kf((1+i)/(1-i),n/2),o=.5*(a+1/a)+I(e*=n);return[2*D(e)/o,(a-1/a)/o]}return r.invert=function(e,t){var i=F(t);if(F(i-2)<B)return e?null:[0,sn(t)*G];if(i>2)return null;e/=2,t/=2;var a=e*e,o=t*t,f=2*t/(1+a+o);return f=kf((1+f)/(1-f),1/n),[cn(2*e,1-a-o)/n,j((f-1)/(f+1))]},r}function Vw(){var n=.5,r=Mr(fp),e=r(n);return e.spacing=function(t){return arguments.length?r(n=+t):n},e.scale(124.75)}var il=O/En;function Xs(n,r){return[n*(1+q(I(r)))/2,r/(I(r/2)*I(n/6))]}Xs.invert=function(n,r){var e=F(n),t=F(r),i=B,a=G;t<il?a*=t/il:i+=6*Xn(il/t);for(var o=0;o<25;o++){var f=D(a),u=q(I(a)),c=D(a/2),l=I(a/2),v=D(i/6),s=I(i/6),h=.5*i*(1+u)-e,g=a/(l*s)-t,p=u?-.25*i*f/u:0,d=.5*(1+u),S=(1+.5*a*c/l)/(l*s),m=a/l*(v/6)/(s*s),y=p*m-S*d,E=(h*m-g*d)/y,$=(g*p-h*S)/y;if(a-=E,i-=$,F(E)<B&&F($)<B)break}return[n<0?-i:i,r<0?-a:a]};function jw(){return Y(Xs).scale(97.2672)}function Ws(n,r){var e=n*n,t=r*r;return[n*(.975534+t*(-.119161+e*-.0143059+t*-.0547009)),r*(1.00384+e*(.0802894+t*-.02855+e*199025e-9)+t*(.0998909+t*-.0491032))]}Ws.invert=function(n,r){var e=sn(n)*O,t=r/2,i=50;do{var a=e*e,o=t*t,f=e*t,u=e*(.975534+o*(-.119161+a*-.0143059+o*-.0547009))-n,c=t*(1.00384+a*(.0802894+o*-.02855+a*199025e-9)+o*(.0998909+o*-.0491032))-r,l=.975534-o*(.119161+3*a*.0143059+o*.0547009),v=-f*(2*.119161+4*.0547009*o+2*.0143059*a),s=f*(2*.0802894+4*199025e-9*a+2*-.02855*o),h=1.00384+a*(.0802894+199025e-9*a)+o*(3*(.0998909-.02855*a)-5*.0491032*o),g=v*s-h*l,p=(c*v-u*h)/g,d=(u*s-c*l)/g;e-=p,t-=d}while((F(p)>B||F(d)>B)&&--i>0);return i&&[e,t]};function Xw(){return Y(Ws).scale(139.98)}function Js(n,r){return[D(n)/I(r),tn(r)*I(n)]}Js.invert=function(n,r){var e=n*n,t=r*r,i=t+1,a=n?kr*q((i-q(e*e+2*e*(t-1)+i*i))/e+1):1/q(i);return[j(n*a),sn(r)*Xn(a)]};function Ww(){return Y(Js).scale(144.049).clipAngle(90-.001)}function sp(n){var r=I(n),e=tn(cr+n/2);function t(i,a){var o=a-n,f=F(o)<B?i*r:F(f=cr+a/2)<B||F(F(f)-G)<B?0:i*o/Hn(tn(f)/e);return[f,o]}return t.invert=function(i,a){var o,f=a+n;return[F(a)<B?i/r:F(o=cr+f/2)<B||F(F(o)-G)<B?0:i*Hn(tn(o)/e)/a,f]},t}function Jw(){return Dt(sp).parallel(40).scale(158.837)}function Ks(n,r){return[n,1.25*Hn(tn(cr+.4*r))]}Ks.invert=function(n,r){return[n,2.5*Dn(ee(.8*r))-.625*O]};function Kw(){return Y(Ks).scale(108.318)}function cp(n){var r=n.length-1;function e(t,i){for(var a=I(i),o=2/(1+a*I(t)),f=o*a*D(t),u=o*D(i),c=r,l=n[c],v=l[0],s=l[1],h;--c>=0;)l=n[c],v=l[0]+f*(h=v)-u*s,s=l[1]+f*s+u*h;return v=f*(h=v)-u*s,s=f*s+u*h,[v,s]}return e.invert=function(t,i){var a=20,o=t,f=i;do{for(var u=r,c=n[u],l=c[0],v=c[1],s=0,h=0,g;--u>=0;)c=n[u],s=l+o*(g=s)-f*h,h=v+o*h+f*g,l=c[0]+o*(g=l)-f*v,v=c[1]+o*v+f*g;s=l+o*(g=s)-f*h,h=v+o*h+f*g,l=o*(g=l)-f*v-t,v=o*v+f*g-i;var p=s*s+h*h,d,S;o-=d=(l*s+v*h)/p,f-=S=(v*s-l*h)/p}while(F(d)+F(S)>B*B&&--a>0);if(a){var m=q(o*o+f*f),y=2*Dn(m*.5),E=D(y);return[cn(o*E,m*I(y)),m?j(f*E/m):0]}},e}var Zw=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Qw=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],n3=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],r3=[[.9245,0],[0,0],[.01943,0]],e3=[[.721316,0],[0,0],[-.00881625,-.00617325]];function t3(){return Ot(Zw,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function i3(){return Ot(Qw,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function a3(){return Ot(n3,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function o3(){return Ot(r3,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function u3(){return Ot(e3,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ot(n,r){var e=Y(cp(n)).rotate(r).clipAngle(90),t=ko(r),i=e.center;return delete e.rotate,e.center=function(a){return arguments.length?i(t(a)):t.invert(i())},e}var qo=q(6),Fo=q(7);function Zs(n,r){var e=j(7*D(r)/(3*qo));return[qo*n*(2*I(2*e/3)-1)/Fo,9*D(e/3)/Fo]}Zs.invert=function(n,r){var e=3*j(r*Fo/9);return[n*Fo/(qo*(2*I(2*e/3)-1)),j(D(e)*3*qo/7)]};function l3(){return Y(Zs).scale(164.859)}function Qs(n,r){for(var e=(1+kr)*D(r),t=r,i=0,a;i<25&&(t-=a=(D(t/2)+D(t)-e)/(.5*I(t/2)+I(t)),!(F(a)<B));i++);return[n*(1+2*I(t)/I(t/2))/(3*En),2*q(3)*D(t/2)/q(2+En)]}Qs.invert=function(n,r){var e=r*q(2+En)/(2*q(3)),t=2*j(e);return[3*En*n/(1+2*I(t)/I(t/2)),j((e+D(t))/(1+kr))]};function f3(){return Y(Qs).scale(188.209)}function nc(n,r){for(var e=q(6/(4+O)),t=(1+O/4)*D(r),i=r/2,a=0,o;a<25&&(i-=o=(i/2+D(i)-t)/(.5+I(i)),!(F(o)<B));a++);return[e*(.5+I(i))*n/1.5,e*i]}nc.invert=function(n,r){var e=q(6/(4+O)),t=r/e;return F(F(t)-G)<B&&(t=t<0?-G:G),[1.5*n/(e*(.5+I(t))),j((t/2+D(t))/(1+O/4))]};function s3(){return Y(nc).scale(166.518)}function rc(n,r){var e=r*r,t=e*e;return[n*(.8707-.131979*e+t*(-.013791+t*(.003971*e-.001529*t))),r*(1.007226+e*(.015085+t*(-.044475+.028874*e-.005916*t)))]}rc.invert=function(n,r){var e=r,t=25,i;do{var a=e*e,o=a*a;e-=i=(e*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-r)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(F(i)>B&&--t>0);return[n/(.8707+(a=e*e)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),e]};function c3(){return Y(rc).scale(175.295)}function ec(n,r){var e=r*r,t=e*e,i=e*t;return[n*(.84719-.13063*e+i*i*(-.04515+.05494*e-.02326*t+.00331*i)),r*(1.01183+t*t*(-.02625+.01926*e-.00396*t))]}ec.invert=function(n,r){var e=r,t=25,i,a,o,f;do a=e*e,o=a*a,e-=i=(e*(1.01183+o*o*(-.02625+.01926*a-.00396*o))-r)/(1.01183+o*o*(9*-.02625+11*.01926*a+13*-.00396*o));while(F(i)>It&&--t>0);return a=e*e,o=a*a,f=a*o,[n/(.84719-.13063*a+f*f*(-.04515+.05494*a-.02326*o+.00331*f)),e]};function v3(){return Y(ec).scale(175.295)}function tc(n,r){return[n*(1+I(r))/2,2*(r-tn(r/2))]}tc.invert=function(n,r){for(var e=r/2,t=0,i=1/0;t<10&&F(i)>B;++t){var a=I(r/2);r-=i=(r-tn(r/2)-e)/(1-.5/(a*a))}return[2*n/(1+I(r)),r]};function h3(){return Y(tc).scale(152.63)}var ic=1.0148,ac=.23185,oc=-.14499,uc=.02406,g3=ic,p3=5*ac,d3=7*oc,m3=9*uc,ca=1.790857183;function lc(n,r){var e=r*r;return[n,r*(ic+e*e*(ac+e*(oc+uc*e)))]}lc.invert=function(n,r){r>ca?r=ca:r<-ca&&(r=-ca);var e=r,t;do{var i=e*e;e-=t=(e*(ic+i*i*(ac+i*(oc+uc*i)))-r)/(g3+i*i*(p3+i*(d3+m3*i)))}while(F(t)>B);return[n,e]};function y3(){return Y(lc).scale(139.319)}function fc(n,r){if(F(r)<B)return[n,0];var e=tn(r),t=n*D(r);return[D(t)/e,r+(1-I(t))/e]}fc.invert=function(n,r){if(F(r)<B)return[n,0];var e=n*n+r*r,t=r*.5,i=10,a;do{var o=tn(t),f=1/I(t),u=e-2*r*t+t*t;t-=a=(o*u+2*(t-r))/(2+u*f*f+2*(t-r)*o)}while(F(a)>B&&--i>0);return o=tn(t),[(F(r)<F(t+1/o)?j(n*o):sn(n)*(Xn(F(n*o))+G))/D(t),t]};function w3(){return Y(fc).scale(103.74)}function E3(n,r){var e=T1(n[1],n[0]),t=T1(r[1],r[0]),i=_3(e,t),a=M1(e)/M1(t);return qa([1,0,n[0][0],0,1,n[0][1]],qa([a,0,0,0,a,0],qa([I(i),D(i),0,-D(i),I(i),0],[1,0,-r[0][0],0,1,-r[0][1]])))}function S3(n){var r=1/(n[0]*n[4]-n[1]*n[3]);return[r*n[4],-r*n[1],r*(n[1]*n[5]-n[2]*n[4]),-r*n[3],r*n[0],r*(n[2]*n[3]-n[0]*n[5])]}function qa(n,r){return[n[0]*r[0]+n[1]*r[3],n[0]*r[1]+n[1]*r[4],n[0]*r[2]+n[1]*r[5]+n[2],n[3]*r[0]+n[4]*r[3],n[3]*r[1]+n[4]*r[4],n[3]*r[2]+n[4]*r[5]+n[5]]}function T1(n,r){return[n[0]-r[0],n[1]-r[1]]}function M1(n){return q(n[0]*n[0]+n[1]*n[1])}function _3(n,r){return cn(n[0]*r[1]-n[1]*r[0],n[0]*r[0]+n[1]*r[1])}function Mu(n,r,e){e=e==null?-O/6:e,t(n,{transform:[I(e),D(e),0,-D(e),I(e),0]});function t(c,l){if(c.edges=T3(c.face),l.face){var v=c.shared=$3(c.face,l.face),s=E3(v.map(l.project),v.map(c.project));c.transform=l.transform?qa(l.transform,s):s;for(var h=l.edges,g=0,p=h.length;g<p;++g)Ee(v[0],h[g][1])&&Ee(v[1],h[g][0])&&(h[g]=c),Ee(v[0],h[g][0])&&Ee(v[1],h[g][1])&&(h[g]=c);for(h=c.edges,g=0,p=h.length;g<p;++g)Ee(v[0],h[g][0])&&Ee(v[1],h[g][1])&&(h[g]=l),Ee(v[0],h[g][1])&&Ee(v[1],h[g][0])&&(h[g]=l)}else c.transform=l.transform;return c.children&&c.children.forEach(function(d){t(d,c)}),c}function i(c,l){var v=r(c,l),s=v.project([c*xn,l*xn]),h;return(h=v.transform)?[h[0]*s[0]+h[1]*s[1]+h[2],-(h[3]*s[0]+h[4]*s[1]+h[5])]:(s[1]=-s[1],s)}hp(n)&&(i.invert=function(c,l){var v=a(n,[c,-l]);return v&&(v[0]*=pn,v[1]*=pn,v)});function a(c,l){var v=c.project.invert,s=c.transform,h=l;if(s&&(s=S3(s),h=[s[0]*h[0]+s[1]*h[1]+s[2],s[3]*h[0]+s[4]*h[1]+s[5]]),v&&c===o(g=v(h)))return g;for(var g,p=c.children,d=0,S=p&&p.length;d<S;++d)if(g=a(p[d],l))return g}function o(c){return r(c[0]*pn,c[1]*pn)}var f=Y(i),u=f.stream;return f.stream=function(c){var l=f.rotate(),v=u(c),s=(f.rotate([0,0]),u(c));return f.rotate(l),v.sphere=function(){s.polygonStart(),s.lineStart(),vp(s,n),s.lineEnd(),s.polygonEnd()},v},f}function vp(n,r,e){var t,i=r.edges,a=i.length,o,f={type:"MultiPoint",coordinates:r.face},u=r.face.filter(function(p){return F(p[1])!==90}),c=r5({type:"MultiPoint",coordinates:u}),l=!1,v=-1,s=c[1][0]-c[0][0],h=s===180||s===360?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:Bi(f);if(e)for(;++v<a&&i[v]!==e;);++v;for(var g=0;g<a;++g)o=i[(g+v)%a],Array.isArray(o)?(l||(n.point((t=Pf(o[0],h)(B))[0],t[1]),l=!0),n.point((t=Pf(o[1],h)(B))[0],t[1])):(l=!1,o!==e&&vp(n,o,r))}function Ee(n,r){return n&&r&&n[0]===r[0]&&n[1]===r[1]}function $3(n,r){for(var e,t,i=n.length,a=null,o=0;o<i;++o){e=n[o];for(var f=r.length;--f>=0;)if(t=r[f],e[0]===t[0]&&e[1]===t[1]){if(a)return[a,e];a=e}}}function T3(n){for(var r=n.length,e=[],t=n[r-1],i=0;i<r;++i)e.push([t,t=n[i]]);return e}function hp(n){return n.project.invert||n.children&&n.children.some(hp)}var M3=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],zo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(n){return n.map(function(r){return M3[r]})});function P3(n){n=n||function(e){var t=Bi({type:"MultiPoint",coordinates:e});return Og().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var r=zo.map(function(e){return{face:e,project:n(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=r[e];i&&(i.children||(i.children=[])).push(r[t])}),Mu(r[0],function(e,t){return r[e<-O/2?t<0?6:4:e<0?t<0?2:0:e<O/2?t<0?3:1:t<0?7:5]}).scale(101.858).center([0,45])}var gp=2/q(3);function pp(n,r){var e=Zr(n,r);return[e[0]*gp,e[1]]}pp.invert=function(n,r){return Zr.invert(n/gp,r)};function x3(n){n=n||function(e){var t=Bi({type:"MultiPoint",coordinates:e});return Y(pp).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var r=zo.map(function(e){return{face:e,project:n(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=r[e];i&&(i.children||(i.children=[])).push(r[t])}),Mu(r[0],function(e,t){return r[e<-O/2?t<0?6:4:e<0?t<0?2:0:e<O/2?t<0?3:1:t<0?7:5]}).scale(121.906).center([0,48.5904])}function R3(n){n=n||function(o){var f=o.length===6?Bi({type:"MultiPoint",coordinates:o}):o[0];return Og().scale(1).translate([0,0]).rotate([-f[0],-f[1]])};var r=zo.map(function(o){for(var f=o.map(ol),u=f.length,c=f[u-1],l,v=[],s=0;s<u;++s)l=f[s],v.push(P1([c[0]*.9486832980505138+l[0]*.31622776601683794,c[1]*.9486832980505138+l[1]*.31622776601683794,c[2]*.9486832980505138+l[2]*.31622776601683794]),P1([l[0]*.9486832980505138+c[0]*.31622776601683794,l[1]*.9486832980505138+c[1]*.31622776601683794,l[2]*.9486832980505138+c[2]*.31622776601683794])),c=l;return v}),e=[],t=[-1,0,0,1,0,1,4,5];r.forEach(function(o,f){for(var u=zo[f],c=u.length,l=e[f]=[],v=0;v<c;++v)r.push([u[v],o[(v*2+2)%(2*c)],o[(v*2+1)%(2*c)]]),t.push(f),l.push(k3(ol(o[(v*2+2)%(2*c)]),ol(o[(v*2+1)%(2*c)])))});var i=r.map(function(o){return{project:n(o),face:o}});t.forEach(function(o,f){var u=i[o];u&&(u.children||(u.children=[])).push(i[f])});function a(o,f){var u=I(f),c=[u*I(o),u*D(o),D(f)],l=o<-O/2?f<0?6:4:o<0?f<0?2:0:o<O/2?f<0?3:1:f<0?7:5,v=e[l];return i[al(v[0],c)<0?8+3*l:al(v[1],c)<0?8+3*l+1:al(v[2],c)<0?8+3*l+2:l]}return Mu(i[0],a).scale(110.625).center([0,45])}function al(n,r){for(var e=0,t=n.length,i=0;e<t;++e)i+=n[e]*r[e];return i}function k3(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function P1(n){return[cn(n[1],n[0])*xn,j(Ri(-1,zr(1,n[2])))*xn]}function ol(n){var r=n[0]*pn,e=n[1]*pn,t=I(e);return[t*I(r),t*D(r),D(e)]}function Fa(){}function b3(n){if((e=n.length)<4)return!1;for(var r=0,e,t=n[e-1][1]*n[0][0]-n[e-1][0]*n[0][1];++r<e;)t+=n[r-1][1]*n[r][0]-n[r-1][0]*n[r][1];return t<=0}function C3(n,r){for(var e=r[0],t=r[1],i=!1,a=0,o=n.length,f=o-1;a<o;f=a++){var u=n[a],c=u[0],l=u[1],v=n[f],s=v[0],h=v[1];l>t^h>t&&e<(s-c)*(t-l)/(h-l)+c&&(i=!i)}return i}function L3(n,r){var e=r.stream,t;if(!e)throw new Error("invalid projection");switch(n&&n.type){case"Feature":t=dp;break;case"FeatureCollection":t=N3;break;default:t=sc;break}return t(n,e)}function N3(n,r){return{type:"FeatureCollection",features:n.features.map(function(e){return dp(e,r)})}}function dp(n,r){return{type:"Feature",id:n.id,properties:n.properties,geometry:sc(n.geometry,r)}}function A3(n,r){return{type:"GeometryCollection",geometries:n.geometries.map(function(e){return sc(e,r)})}}function sc(n,r){if(!n)return null;if(n.type==="GeometryCollection")return A3(n,r);var e;switch(n.type){case"Point":e=x1;break;case"MultiPoint":e=x1;break;case"LineString":e=R1;break;case"MultiLineString":e=R1;break;case"Polygon":e=ul;break;case"MultiPolygon":e=ul;break;case"Sphere":e=ul;break;default:return null}return At(n,r(e)),e.result()}var Kn=[],Wr=[],x1={point:function(n,r){Kn.push([n,r])},result:function(){var n=Kn.length?Kn.length<2?{type:"Point",coordinates:Kn[0]}:{type:"MultiPoint",coordinates:Kn}:null;return Kn=[],n}},R1={lineStart:Fa,point:function(n,r){Kn.push([n,r])},lineEnd:function(){Kn.length&&(Wr.push(Kn),Kn=[])},result:function(){var n=Wr.length?Wr.length<2?{type:"LineString",coordinates:Wr[0]}:{type:"MultiLineString",coordinates:Wr}:null;return Wr=[],n}},ul={polygonStart:Fa,lineStart:Fa,point:function(n,r){Kn.push([n,r])},lineEnd:function(){var n=Kn.length;if(n){do Kn.push(Kn[0].slice());while(++n<4);Wr.push(Kn),Kn=[]}},polygonEnd:Fa,result:function(){if(!Wr.length)return null;var n=[],r=[];return Wr.forEach(function(e){b3(e)?n.push([e]):r.push(e)}),r.forEach(function(e){var t=e[0];n.some(function(i){if(C3(i[0],t))return i.push(e),!0})||n.push([e])}),Wr=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}};function cc(n){var r=n(G,0)[0]-n(-G,0)[0];function e(t,i){var a=F(t)<G,o=n(a?t:t>0?t-O:t+O,i),f=(o[0]-o[1])*kr,u=(o[0]+o[1])*kr;if(a)return[f,u];var c=r*kr,l=f>0^u>0?-1:1;return[l*f-sn(u)*c,l*u-sn(f)*c]}return n.invert&&(e.invert=function(t,i){var a=(t+i)*kr,o=(i-t)*kr,f=F(a)<.5*r&&F(o)<.5*r;if(!f){var u=r*kr,c=a>0^o>0?-1:1,l=-c*t+(o>0?1:-1)*u,v=-c*i+(a>0?1:-1)*u;a=(-l-v)*kr,o=(l-v)*kr}var s=n.invert(a,o);return f||(s[0]+=a>0?O:-O),s}),Y(e).rotate([-90,-90,45]).clipAngle(180-.001)}function I3(){return cc(Eu).scale(176.423)}function k1(){return cc(Su).scale(111.48)}function D3(n,r){if(!(0<=(r=+r)&&r<=20))throw new Error("invalid digits");function e(u){var c=u.length,l=2,v=new Array(c);for(v[0]=+u[0].toFixed(r),v[1]=+u[1].toFixed(r);l<c;)v[l]=u[l],++l;return v}function t(u){return u.map(e)}function i(u){return u.map(t)}function a(u){if(u==null)return u;var c;switch(u.type){case"GeometryCollection":c={type:"GeometryCollection",geometries:u.geometries.map(a)};break;case"Point":c={type:"Point",coordinates:e(u.coordinates)};break;case"MultiPoint":case"LineString":c={type:u.type,coordinates:t(u.coordinates)};break;case"MultiLineString":case"Polygon":c={type:u.type,coordinates:i(u.coordinates)};break;case"MultiPolygon":c={type:"MultiPolygon",coordinates:u.coordinates.map(i)};break;default:return u}return u.bbox!=null&&(c.bbox=u.bbox),c}function o(u){var c={type:"Feature",properties:u.properties,geometry:a(u.geometry)};return u.id!=null&&(c.id=u.id),u.bbox!=null&&(c.bbox=u.bbox),c}if(n!=null)switch(n.type){case"Feature":return o(n);case"FeatureCollection":{var f={type:"FeatureCollection",features:n.features.map(o)};return n.bbox!=null&&(f.bbox=n.bbox),f}default:return a(n)}return n}function mp(n){var r=D(n);function e(t,i){var a=r?tn(t*r/2)/r:t/2;if(!i)return[2*a,-n];var o=2*Dn(a*D(i)),f=1/tn(i);return[D(o)*f,i+(1-I(o))*f-n]}return e.invert=function(t,i){if(F(i+=n)<B)return[r?2*Dn(r*t/2)/r:t,0];var a=t*t+i*i,o=0,f=10,u;do{var c=tn(o),l=1/I(o),v=a-2*i*o+o*o;o-=u=(c*v+2*(o-i))/(2+v*l*l+2*(o-i)*c)}while(F(u)>B&&--f>0);var s=t*(c=tn(o)),h=tn(F(i)<F(o+1/c)?j(s)*.5:Xn(s)*.5+O/4)/D(o);return[r?2*Dn(r*h)/r:2*h,o]},e}function O3(){return Dt(mp).scale(131.215)}var dr=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];dr.forEach(function(n){n[1]*=1.0144});function vc(n,r){var e=zr(18,F(r)*36/O),t=Mt(e),i=e-t,a=(v=dr[t])[0],o=v[1],f=(v=dr[++t])[0],u=v[1],c=(v=dr[zr(19,++t)])[0],l=v[1],v;return[n*(f+i*(c-a)/2+i*i*(c-2*f+a)/2),(r>0?G:-G)*(u+i*(l-o)/2+i*i*(l-2*u+o)/2)]}vc.invert=function(n,r){var e=r/G,t=e*90,i=zr(18,F(t/5)),a=Ri(0,Mt(i));do{var o=dr[a][1],f=dr[a+1][1],u=dr[zr(19,a+2)][1],c=u-o,l=u-2*f+o,v=2*(F(e)-f)/c,s=l/c,h=v*(1-s*v*(1-2*s*v));if(h>=0||a===1){t=(r>=0?5:-5)*(h+i);var g=50,p;do i=zr(18,F(t)/5),a=Mt(i),h=i-a,o=dr[a][1],f=dr[a+1][1],u=dr[zr(19,a+2)][1],t-=(p=(r>=0?G:-G)*(f+h*(u-o)/2+h*h*(u-2*f+o)/2)-r)*xn;while(F(p)>It&&--g>0);break}}while(--a>=0);var d=dr[a][0],S=dr[a+1][0],m=dr[zr(19,a+2)][0];return[n/(S+h*(m-d)/2+h*h*(m-2*S+d)/2),t*pn]};function q3(){return Y(vc).scale(152.63)}function F3(n){function r(e,t){var i=I(t),a=(n-1)/(n-i*I(e));return[a*i*D(e),a*D(t)]}return r.invert=function(e,t){var i=e*e+t*t,a=q(i),o=(n-q(1-i*(n+1)/(n-1)))/((n-1)/a+a/(n-1));return[cn(e*o,a*q(1-o*o)),a?j(t*o/a):0]},r}function yp(n,r){var e=F3(n);if(!r)return e;var t=I(r),i=D(r);function a(o,f){var u=e(o,f),c=u[1],l=c*i/(n-1)+t;return[u[0]*t/l,c/l]}return a.invert=function(o,f){var u=(n-1)/(n-1-f*i);return e.invert(u*o,u*f*t)},a}function z3(){var n=2,r=0,e=Mr(yp),t=e(n,r);return t.distance=function(i){return arguments.length?e(n=+i,r):n},t.tilt=function(i){return arguments.length?e(n,r=i*pn):r*xn},t.scale(432.147).clipAngle(Xn(1/n)*xn-1e-6)}var Pu=1e-4,b1=1e4,hc=-180,Cf=hc+Pu,wp=180,Lf=wp-Pu,gc=-90,Nf=gc+Pu,pc=90,Af=pc-Pu;function B3(n){return n.length>0}function G3(n){return Math.floor(n*b1)/b1}function C1(n){return n===gc||n===pc?[0,n]:[hc,G3(n)]}function dc(n){var r=n[0],e=n[1],t=!1;return r<=Cf?(r=hc,t=!0):r>=Lf&&(r=wp,t=!0),e<=Nf?(e=gc,t=!0):e>=Af&&(e=pc,t=!0),t?[r,e]:n}function L1(n){return n.map(dc)}function N1(n,r,e){for(var t=0,i=n.length;t<i;++t){var a=n[t].slice();e.push({index:-1,polygon:r,ring:a});for(var o=0,f=a.length;o<f;++o){var u=a[o],c=u[0],l=u[1];if(c<=Cf||c>=Lf||l<=Nf||l>=Af){a[o]=dc(u);for(var v=o+1;v<f;++v){var s=a[v],h=s[0],g=s[1];if(h>Cf&&h<Lf&&g>Nf&&g<Af)break}if(v===o+1)continue;if(o){var p={index:-1,polygon:r,ring:a.slice(0,o+1)};p.ring[p.ring.length-1]=C1(l),e[e.length-1]=p}else e.pop();if(v>=f)break;e.push({index:-1,polygon:r,ring:a=a.slice(v-1)}),a[0]=C1(a[0][1]),o=-1,f=a.length}}}}function A1(n){var r,e=n.length,t={},i={},a,o,f,u,c;for(r=0;r<e;++r){if(a=n[r],o=a.ring[0],u=a.ring[a.ring.length-1],o[0]===u[0]&&o[1]===u[1]){a.polygon.push(a.ring),n[r]=null;continue}a.index=r,t[o]=i[u]=a}for(r=0;r<e;++r)if(a=n[r],a){if(o=a.ring[0],u=a.ring[a.ring.length-1],f=i[o],c=t[u],delete t[o],delete i[u],o[0]===u[0]&&o[1]===u[1]){a.polygon.push(a.ring);continue}f?(delete i[o],delete t[f.ring[0]],f.ring.pop(),n[f.index]=null,a={index:-1,polygon:f.polygon,ring:f.ring.concat(a.ring)},f===c?a.polygon.push(a.ring):(a.index=e++,n.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a))):c?(delete t[u],delete i[c.ring[c.ring.length-1]],a.ring.pop(),a={index:e++,polygon:c.polygon,ring:a.ring.concat(c.ring)},n[c.index]=null,n.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a)):(a.ring.push(a.ring[0]),a.polygon.push(a.ring))}}function I1(n){var r={type:"Feature",geometry:mc(n.geometry)};return n.id!=null&&(r.id=n.id),n.bbox!=null&&(r.bbox=n.bbox),n.properties!=null&&(r.properties=n.properties),r}function mc(n){if(n==null)return n;var r,e,t,i;switch(n.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:n.geometries.map(mc)};break;case"Point":r={type:"Point",coordinates:dc(n.coordinates)};break;case"MultiPoint":case"LineString":r={type:n.type,coordinates:L1(n.coordinates)};break;case"MultiLineString":r={type:"MultiLineString",coordinates:n.coordinates.map(L1)};break;case"Polygon":{var a=[];N1(n.coordinates,a,e=[]),A1(e),r={type:"Polygon",coordinates:a};break}case"MultiPolygon":{e=[],t=-1,i=n.coordinates.length;for(var o=new Array(i);++t<i;)N1(n.coordinates[t],o[t]=[],e);A1(e),r={type:"MultiPolygon",coordinates:o.filter(B3)};break}default:return n}return n.bbox!=null&&(r.bbox=n.bbox),r}function U3(n){if(n==null)return n;switch(n.type){case"Feature":return I1(n);case"FeatureCollection":{var r={type:"FeatureCollection",features:n.features.map(I1)};return n.bbox!=null&&(r.bbox=n.bbox),r}default:return mc(n)}}function yc(n,r){var e=tn(r/2),t=D(cr*e);return[n*(.74482-.34588*t*t),1.70711*e]}yc.invert=function(n,r){var e=r/1.70711,t=D(cr*e);return[n/(.74482-.34588*t*t),2*Dn(e)]};function H3(){return Y(yc).scale(146.153)}function Ep(n,r,e){var t=Pf(r,e),i=t(.5),a=ko([-i[0],-i[1]])(r),o=t.distance/2,f=-j(D(a[1]*pn)/D(o)),u=[-i[0],-i[1],-(a[0]>0?O-f:f)*xn],c=Y(n(o)).rotate(u),l=ko(u),v=c.center;return delete c.rotate,c.center=function(s){return arguments.length?v(l(s)):l.invert(v())},c.clipAngle(90)}function Sp(n){var r=I(n);function e(t,i){var a=Lo(t,i);return a[0]*=r,a}return e.invert=function(t,i){return Lo.invert(t/r,i)},e}function Y3(){return _p([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function _p(n,r){return Ep(Sp,n,r)}function $p(n){if(!(n*=2))return Tt;var r=-n/2,e=-r,t=n*n,i=tn(e),a=.5/D(e);function o(f,u){var c=Xn(I(u)*I(f-r)),l=Xn(I(u)*I(f-e)),v=u<0?-1:1;return c*=c,l*=l,[(c-l)/(2*n),v*q(4*t*l-(t-c+l)*(t-c+l))/(2*n)]}return o.invert=function(f,u){var c=u*u,l=I(q(c+(s=f+r)*s)),v=I(q(c+(s=f+e)*s)),s,h;return[cn(h=l-v,s=(l+v)*i),(u<0?-1:1)*Xn(q(s*s+h*h)*a)]},o}function V3(){return Tp([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Tp(n,r){return Ep($p,n,r)}function wc(n,r){if(F(r)<B)return[n,0];var e=F(r/G),t=j(e);if(F(n)<B||F(F(r)-G)<B)return[0,sn(r)*O*tn(t/2)];var i=I(t),a=F(O/n-n/O)/2,o=a*a,f=i/(e+i-1),u=f*(2/e-1),c=u*u,l=c+o,v=f-c,s=o+f;return[sn(n)*O*(a*v+q(o*v*v-l*(f*f-c)))/l,sn(r)*O*(u*s-a*q((o+1)*l-s*s))/l]}wc.invert=function(n,r){if(F(r)<B)return[n,0];if(F(n)<B)return[0,G*D(2*Dn(r/O))];var e=(n/=O)*n,t=(r/=O)*r,i=e+t,a=i*i,o=-F(r)*(1+i),f=o-2*t+e,u=-2*o+1+2*t+a,c=t/u+(2*f*f*f/(u*u*u)-9*o*f/(u*u))/27,l=(o-f*f/(3*u))/u,v=2*q(-l/3),s=Xn(3*c/(l*v))/3;return[O*(i-1+q(1+2*(e-t)+a))/(2*n),sn(r)*O*(-v*I(s+O/3)-f/(3*u))]};function j3(){return Y(wc).scale(79.4183)}function Ec(n,r){if(F(r)<B)return[n,0];var e=F(r/G),t=j(e);if(F(n)<B||F(F(r)-G)<B)return[0,sn(r)*O*tn(t/2)];var i=I(t),a=F(O/n-n/O)/2,o=a*a,f=i*(q(1+o)-a*i)/(1+o*e*e);return[sn(n)*O*f,sn(r)*O*q(1-f*(2*a+f))]}Ec.invert=function(n,r){if(!n)return[0,G*D(2*Dn(r/O))];var e=F(n/O),t=(1-e*e-(r/=O)*r)/(2*e),i=t*t,a=q(i+1);return[sn(n)*O*(a-t),sn(r)*G*D(2*cn(q((1-2*t*e)*(t+a)-e),q(a+t+e)))]};function X3(){return Y(Ec).scale(79.4183)}function Sc(n,r){if(F(r)<B)return[n,0];var e=r/G,t=j(e);if(F(n)<B||F(F(r)-G)<B)return[0,O*tn(t/2)];var i=(O/n-n/O)/2,a=e/(1+I(t));return[O*(sn(n)*q(i*i+1-a*a)-i),O*a]}Sc.invert=function(n,r){if(!r)return[n,0];var e=r/O,t=(O*O*(1-e*e)-n*n)/(2*O*n);return[n?O*(sn(n)*q(t*t+1)-t):0,G*D(2*Dn(e))]};function W3(){return Y(Sc).scale(79.4183)}function _c(n,r){if(!r)return[n,0];var e=F(r);if(!n||e===G)return[0,r];var t=e/G,i=t*t,a=(8*t-i*(i+2)-5)/(2*i*(t-1)),o=a*a,f=t*a,u=i+o+2*f,c=t+3*a,l=n/G,v=l+1/l,s=sn(F(n)-G)*q(v*v-4),h=s*s,g=u*(i+o*h-1)+(1-i)*(i*(c*c+4*o)+12*f*o+4*o*o),p=(s*(u+o-1)+2*q(g))/(4*u+h);return[sn(n)*G*p,sn(r)*G*q(1+s*F(p)-p*p)]}_c.invert=function(n,r){var e;if(!n||!r)return[n,r];r/=O;var t=sn(n)*n/G,i=(t*t-1+4*r*r)/F(t),a=i*i,o=2*r,f=50;do{var u=o*o,c=(8*o-u*(u+2)-5)/(2*u*(o-1)),l=(3*o-u*o-10)/(2*u*o),v=c*c,s=o*c,h=o+c,g=h*h,p=o+3*c,d=g*(u+v*a-1)+(1-u)*(u*(p*p+4*v)+v*(12*s+4*v)),S=-2*h*(4*s*v+(1-4*u+3*u*u)*(1+l)+v*(-6+14*u-a+(-8+8*u-2*a)*l)+s*(-8+12*u+(-10+10*u-a)*l)),m=q(d),y=i*(g+v-1)+2*m-t*(4*g+a),E=i*(2*c*l+2*h*(1+l))+S/m-8*h*(i*(-1+v+g)+2*m)*(1+l)/(a+4*g);o-=e=y/E}while(e>B&&--f>0);return[sn(n)*(q(i*i+4)+i)*O/4,G*o]};function J3(){return Y(_c).scale(127.16)}var Mp=4*O+3*q(3),D1=2*q(2*O*q(3)/Mp),Pp=As(D1*q(3)/O,D1,Mp/6);function K3(){return Y(Pp).scale(176.84)}function $c(n,r){return[n*q(1-3*r*r/(O*O)),r]}$c.invert=function(n,r){return[n/q(1-3*r*r/(O*O)),r]};function Z3(){return Y($c).scale(152.63)}function Tc(n,r){var e=.90631*D(r),t=q(1-e*e),i=q(2/(1+t*I(n/=3)));return[2.66723*t*i*D(n),1.24104*e*i]}Tc.invert=function(n,r){var e=n/2.66723,t=r/1.24104,i=q(e*e+t*t),a=2*j(i/2);return[3*cn(n*tn(a),2.66723*i),i&&j(r*D(a)/(1.24104*.90631*i))]};function Q3(){return Y(Tc).scale(172.632)}function Mc(n,r){var e=I(r),t=I(n)*e,i=1-t,a=I(n=cn(D(n)*e,-D(r))),o=D(n);return e=q(1-t*t),[o*e-a*i,-a*e-o*i]}Mc.invert=function(n,r){var e=(n*n+r*r)/-2,t=q(-e*(2+e)),i=r*e+n*t,a=n*e-r*t,o=q(a*a+i*i);return[cn(t*i,o*(1+e)),o?-j(t*a/o):0]};function n4(){return Y(Mc).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)}function Pc(n,r){var e=du(n,r);return[(e[0]+n/G)/2,(e[1]+r)/2]}Pc.invert=function(n,r){var e=n,t=r,i=25;do{var a=I(t),o=D(t),f=D(2*t),u=o*o,c=a*a,l=D(e),v=I(e/2),s=D(e/2),h=s*s,g=1-c*v*v,p=g?Xn(a*v)*q(d=1/g):d=0,d,S=.5*(2*p*a*s+e/G)-n,m=.5*(p*o+t)-r,y=.5*d*(c*h+p*a*v*u)+.5/G,E=d*(l*f/4-p*o*s),$=.125*d*(f*s-p*o*c*l),T=.5*d*(u*v+p*h*a)+.5,k=E*$-T*y,P=(m*E-S*T)/k,R=(S*$-m*y)/k;e-=P,t-=R}while((F(P)>B||F(R)>B)&&--i>0);return[e,t]};function r4(){return Y(Pc).scale(158.837)}var e4=Object.freeze(Object.defineProperty({__proto__:null,geoAiry:A5,geoAiryRaw:zg,geoAitoff:I5,geoAitoffRaw:du,geoArmadillo:D5,geoArmadilloRaw:Bg,geoAugust:O5,geoAugustRaw:mu,geoBaker:F5,geoBakerRaw:Ns,geoBerghaus:z5,geoBerghausRaw:Gg,geoBoggs:G5,geoBoggsRaw:yu,geoBonne:H5,geoBonneRaw:Yg,geoBottomley:Y5,geoBottomleyRaw:Vg,geoBromley:V5,geoBromleyRaw:jg,geoChamberlin:Wg,geoChamberlinRaw:Xg,geoChamberlinAfrica:X5,geoCollignon:W5,geoCollignonRaw:Zr,geoCraig:J5,geoCraigRaw:Jg,geoCraster:K5,geoCrasterRaw:Is,geoCylindricalEqualArea:Z5,geoCylindricalEqualAreaRaw:Ds,geoCylindricalStereographic:Q5,geoCylindricalStereographicRaw:Kg,geoEckert1:nw,geoEckert1Raw:Os,geoEckert2:rw,geoEckert2Raw:qs,geoEckert3:ew,geoEckert3Raw:Fs,geoEckert4:tw,geoEckert4Raw:zs,geoEckert5:iw,geoEckert5Raw:Bs,geoEckert6:aw,geoEckert6Raw:Gs,geoEisenlohr:ow,geoEisenlohrRaw:Us,geoFahey:uw,geoFaheyRaw:Hs,geoFoucaut:lw,geoFoucautRaw:Ys,geoGilbert:fw,geoGingery:sw,geoGingeryRaw:Zg,geoGinzburg4:cw,geoGinzburg4Raw:Qg,geoGinzburg5:vw,geoGinzburg5Raw:np,geoGinzburg6:hw,geoGinzburg6Raw:rp,geoGinzburg8:gw,geoGinzburg8Raw:Vs,geoGinzburg9:pw,geoGinzburg9Raw:ep,geoGringorten:yw,geoGringortenRaw:Eu,geoGuyou:$w,geoGuyouRaw:Su,geoHammer:Tw,geoHammerRaw:ip,geoHammerRetroazimuthal:Mw,geoHammerRetroazimuthalRaw:op,geoHealpix:xw,geoHealpixRaw:up,geoHill:Rw,geoHillRaw:lp,geoHomolosine:bw,geoHomolosineRaw:Tu,geoInterrupt:nt,geoInterruptedBoggs:Aw,geoInterruptedHomolosine:Dw,geoInterruptedMollweide:qw,geoInterruptedMollweideHemispheres:zw,geoInterruptedSinuMollweide:Gw,geoInterruptedSinusoidal:Hw,geoKavrayskiy7:Yw,geoKavrayskiy7Raw:js,geoLagrange:Vw,geoLagrangeRaw:fp,geoLarrivee:jw,geoLarriveeRaw:Xs,geoLaskowski:Xw,geoLaskowskiRaw:Ws,geoLittrow:Ww,geoLittrowRaw:Js,geoLoximuthal:Jw,geoLoximuthalRaw:sp,geoMiller:Kw,geoMillerRaw:Ks,geoModifiedStereographic:Ot,geoModifiedStereographicRaw:cp,geoModifiedStereographicAlaska:t3,geoModifiedStereographicGs48:i3,geoModifiedStereographicGs50:a3,geoModifiedStereographicMiller:o3,geoModifiedStereographicLee:u3,geoMollweide:B5,geoMollweideRaw:De,geoMtFlatPolarParabolic:l3,geoMtFlatPolarParabolicRaw:Zs,geoMtFlatPolarQuartic:f3,geoMtFlatPolarQuarticRaw:Qs,geoMtFlatPolarSinusoidal:s3,geoMtFlatPolarSinusoidalRaw:nc,geoNaturalEarth:c3,geoNaturalEarthRaw:rc,geoNaturalEarth2:v3,geoNaturalEarth2Raw:ec,geoNellHammer:h3,geoNellHammerRaw:tc,geoPatterson:y3,geoPattersonRaw:lc,geoPolyconic:w3,geoPolyconicRaw:fc,geoPolyhedral:Mu,geoPolyhedralButterfly:P3,geoPolyhedralCollignon:x3,geoPolyhedralWaterman:R3,geoProject:L3,geoGringortenQuincuncial:I3,geoPeirceQuincuncial:k1,geoPierceQuincuncial:k1,geoQuantize:D3,geoQuincuncial:cc,geoRectangularPolyconic:O3,geoRectangularPolyconicRaw:mp,geoRobinson:q3,geoRobinsonRaw:vc,geoSatellite:z3,geoSatelliteRaw:yp,geoSinuMollweide:kw,geoSinuMollweideRaw:$u,geoSinusoidal:U5,geoSinusoidalRaw:ye,geoStitch:U3,geoTimes:H3,geoTimesRaw:yc,geoTwoPointAzimuthal:_p,geoTwoPointAzimuthalRaw:Sp,geoTwoPointAzimuthalUsa:Y3,geoTwoPointEquidistant:Tp,geoTwoPointEquidistantRaw:$p,geoTwoPointEquidistantUsa:V3,geoVanDerGrinten:j3,geoVanDerGrintenRaw:wc,geoVanDerGrinten2:X3,geoVanDerGrinten2Raw:Ec,geoVanDerGrinten3:W3,geoVanDerGrinten3Raw:Sc,geoVanDerGrinten4:J3,geoVanDerGrinten4Raw:_c,geoWagner4:K3,geoWagner4Raw:Pp,geoWagner6:Z3,geoWagner6Raw:$c,geoWagner7:Q3,geoWagner7Raw:Tc,geoWiechel:n4,geoWiechelRaw:Mc,geoWinkel3:r4,geoWinkel3Raw:Pc},Symbol.toStringTag,{value:"Module"})),xp=te(e4),Oe={},xc={exports:{}};/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(n){(function(r){function e(){}var t=e.prototype,i=r.EventEmitter;function a(u,c){for(var l=u.length;l--;)if(u[l].listener===c)return l;return-1}function o(u){return function(){return this[u].apply(this,arguments)}}t.getListeners=function(c){var l=this._getEvents(),v,s;if(c instanceof RegExp){v={};for(s in l)l.hasOwnProperty(s)&&c.test(s)&&(v[s]=l[s])}else v=l[c]||(l[c]=[]);return v},t.flattenListeners=function(c){var l=[],v;for(v=0;v<c.length;v+=1)l.push(c[v].listener);return l},t.getListenersAsObject=function(c){var l=this.getListeners(c),v;return l instanceof Array&&(v={},v[c]=l),v||l};function f(u){return typeof u=="function"||u instanceof RegExp?!0:u&&typeof u=="object"?f(u.listener):!1}t.addListener=function(c,l){if(!f(l))throw new TypeError("listener must be a function");var v=this.getListenersAsObject(c),s=typeof l=="object",h;for(h in v)v.hasOwnProperty(h)&&a(v[h],l)===-1&&v[h].push(s?l:{listener:l,once:!1});return this},t.on=o("addListener"),t.addOnceListener=function(c,l){return this.addListener(c,{listener:l,once:!0})},t.once=o("addOnceListener"),t.defineEvent=function(c){return this.getListeners(c),this},t.defineEvents=function(c){for(var l=0;l<c.length;l+=1)this.defineEvent(c[l]);return this},t.removeListener=function(c,l){var v=this.getListenersAsObject(c),s,h;for(h in v)v.hasOwnProperty(h)&&(s=a(v[h],l),s!==-1&&v[h].splice(s,1));return this},t.off=o("removeListener"),t.addListeners=function(c,l){return this.manipulateListeners(!1,c,l)},t.removeListeners=function(c,l){return this.manipulateListeners(!0,c,l)},t.manipulateListeners=function(c,l,v){var s,h,g=c?this.removeListener:this.addListener,p=c?this.removeListeners:this.addListeners;if(typeof l=="object"&&!(l instanceof RegExp))for(s in l)l.hasOwnProperty(s)&&(h=l[s])&&(typeof h=="function"?g.call(this,s,h):p.call(this,s,h));else for(s=v.length;s--;)g.call(this,l,v[s]);return this},t.removeEvent=function(c){var l=typeof c,v=this._getEvents(),s;if(l==="string")delete v[c];else if(c instanceof RegExp)for(s in v)v.hasOwnProperty(s)&&c.test(s)&&delete v[s];else delete this._events;return this},t.removeAllListeners=o("removeEvent"),t.emitEvent=function(c,l){var v=this.getListenersAsObject(c),s,h,g,p,d;for(p in v)if(v.hasOwnProperty(p))for(s=v[p].slice(0),g=0;g<s.length;g++)h=s[g],h.once===!0&&this.removeListener(c,h.listener),d=h.listener.apply(this,l||[]),d===this._getOnceReturnValue()&&this.removeListener(c,h.listener);return this},t.trigger=o("emitEvent"),t.emit=function(c){var l=Array.prototype.slice.call(arguments,1);return this.emitEvent(c,l)},t.setOnceReturnValue=function(c){return this._onceReturnValue=c,this},t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=i,e},n.exports?n.exports=e:r.EventEmitter=e})(typeof window!="undefined"?window:xh||{})})(xc);Object.defineProperty(Oe,"__esModule",{value:!0});Oe.View=void 0;var Rp=fn.exports,t4=Rp.__importDefault(xc.exports),jn=Q;function i4(n){var r={};return jn.forIn(n,function(e,t){jn.isObject(e)&&e.isView?r[t]=e:jn.isArray(e)?r[t]=e.concat([]):jn.isPlainObject(e)?r[t]=jn.clone(e):r[t]=e}),r}var a4=function(n){Rp.__extends(r,n);function r(e,t){var i=n.call(this)||this;if(i.isView=!0,i.isDataView=!0,i.watchingStates=null,i.dataType="table",i.transforms=[],i.origin=[],i.rows=[],e&&e.isDataSet?i.dataSet=e:(i.dataSet=null,t=e),i.loose=!i.dataSet,t&&(i.watchingStates=t.watchingStates),!i.loose){var a=i.watchingStates;e.on("statechange",function(o){jn.isArray(a)?a.indexOf(o)>-1&&i._reExecute():i._reExecute()})}return i}return r.prototype._parseStateExpression=function(e){var t=this.dataSet;if(t!==null){var i=/^\$state\.(\w+)/.exec(e);return i?t.state[i[1]]:e}},r.prototype._preparseOptions=function(e){var t=this,i=i4(e);return this.loose||jn.forIn(i,function(a,o){jn.isString(a)&&/^\$state\./.test(a)&&(i[o]=t._parseStateExpression(a))}),i},r.prototype._prepareSource=function(e,t){if(this._source={source:e,options:t},t){var i=this._preparseOptions(t);this.origin=r.DataSet.getConnector(i.type)(e,i,this)}else if(e instanceof r||jn.isString(e))this.origin=r.DataSet.getConnector("default")(e,this.dataSet);else if(jn.isArray(e))this.origin=e;else if(jn.isObject(e)&&e.type){var i=this._preparseOptions(e);this.origin=r.DataSet.getConnector(i.type)(i,this)}else throw new TypeError("Invalid source");return this.rows=jn.deepMix([],this.origin),this},r.prototype.source=function(e,t){return this._prepareSource(e,t)._reExecuteTransforms(),this.trigger("change",[]),this},r.prototype.transform=function(e){return e&&e.type&&(this.transforms.push(e),this._executeTransform(e)),this},r.prototype._executeTransform=function(e){e=this._preparseOptions(e);var t=r.DataSet.getTransform(e.type);t(this,e)},r.prototype._reExecuteTransforms=function(){var e=this;this.transforms.forEach(function(t){e._executeTransform(t)})},r.prototype.addRow=function(e){this.rows.push(e)},r.prototype.removeRow=function(e){this.rows.splice(e,1)},r.prototype.updateRow=function(e,t){jn.assign(this.rows[e],t)},r.prototype.findRows=function(e){return this.rows.filter(function(t){return jn.isMatch(t,e)})},r.prototype.findRow=function(e){return jn.find(this.rows,e)},r.prototype.getColumnNames=function(){var e=this.rows[0];return e?jn.keys(e):[]},r.prototype.getColumnName=function(e){return this.getColumnNames()[e]},r.prototype.getColumnIndex=function(e){var t=this.getColumnNames();return t.indexOf(e)},r.prototype.getColumn=function(e){return this.rows.map(function(t){return t[e]})},r.prototype.getColumnData=function(e){return this.getColumn(e)},r.prototype.getSubset=function(e,t,i){for(var a=[],o=e;o<=t;o++)a.push(jn.pick(this.rows[o],i));return a},r.prototype.toString=function(e){return e===void 0&&(e=!1),e?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},r.prototype._reExecute=function(){var e=this._source,t=e.source,i=e.options;this._prepareSource(t,i),this._reExecuteTransforms(),this.trigger("change",[])},r}(t4.default);Oe.View=a4;var xu={},A=1e-6;class o4{constructor(){this._partials=new Float64Array(32),this._n=0}add(r){const e=this._partials;let t=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=r+a,f=Math.abs(r)<Math.abs(a)?r-(o-a):a-(o-r);f&&(e[t++]=f),r=o}return e[t]=r,this._n=t+1,this}valueOf(){const r=this._partials;let e=this._n,t,i,a,o=0;if(e>0){for(o=r[--e];e>0&&(t=o,i=r[--e],o=t+i,a=i-(o-t),!a););e>0&&(a<0&&r[e-1]<0||a>0&&r[e-1]>0)&&(i=a*2,t=o+i,i==t-o&&(o=t))}return o}}function*u4(n){for(const r of n)yield*r}function kp(n){return Array.from(u4(n))}var wn=1e-6,l4=1e-12,on=Math.PI,Bn=on/2,O1=on/4,Ir=on*2,Qn=180/on,zn=on/180,Rn=Math.abs,Gi=Math.atan,ge=Math.atan2,mn=Math.cos,bp=Math.exp,Bo=Math.log,ll=Math.pow,dn=Math.sin,Nr=Math.sign||function(n){return n>0?1:n<0?-1:0},pe=Math.sqrt,Rc=Math.tan;function f4(n){return n>1?0:n<-1?on:Math.acos(n)}function Le(n){return n>1?Bn:n<-1?-Bn:Math.asin(n)}function ai(){}function Go(n,r){n&&F1.hasOwnProperty(n.type)&&F1[n.type](n,r)}var q1={Feature:function(n,r){Go(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)Go(e[t].geometry,r)}},F1={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n=e[t],r.point(n[0],n[1],n[2])},LineString:function(n,r){If(n.coordinates,r,0)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)If(e[t],r,0)},Polygon:function(n,r){z1(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)z1(e[t],r)},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)Go(e[t],r)}};function If(n,r,e){var t=-1,i=n.length-e,a;for(r.lineStart();++t<i;)a=n[t],r.point(a[0],a[1],a[2]);r.lineEnd()}function z1(n,r){var e=-1,t=n.length;for(r.polygonStart();++e<t;)If(n[e],r,1);r.polygonEnd()}function Cp(n,r){n&&q1.hasOwnProperty(n.type)?q1[n.type](n,r):Go(n,r)}function Df(n){return[ge(n[1],n[0]),Le(n[2])]}function xt(n){var r=n[0],e=n[1],t=mn(e);return[t*mn(r),t*dn(r),dn(e)]}function va(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function Uo(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function fl(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function ha(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function Of(n){var r=pe(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}function qf(n,r){function e(t,i){return t=n(t,i),r(t[0],t[1])}return n.invert&&r.invert&&(e.invert=function(t,i){return t=r.invert(t,i),t&&n.invert(t[0],t[1])}),e}function Ff(n,r){return[Rn(n)>on?n+Math.round(-n/Ir)*Ir:n,r]}Ff.invert=Ff;function Lp(n,r,e){return(n%=Ir)?r||e?qf(G1(n),U1(r,e)):G1(n):r||e?U1(r,e):Ff}function B1(n){return function(r,e){return r+=n,[r>on?r-Ir:r<-on?r+Ir:r,e]}}function G1(n){var r=B1(n);return r.invert=B1(-n),r}function U1(n,r){var e=mn(n),t=dn(n),i=mn(r),a=dn(r);function o(f,u){var c=mn(u),l=mn(f)*c,v=dn(f)*c,s=dn(u),h=s*e+l*t;return[ge(v*i-h*a,l*e-s*t),Le(h*i+v*a)]}return o.invert=function(f,u){var c=mn(u),l=mn(f)*c,v=dn(f)*c,s=dn(u),h=s*i-v*a;return[ge(v*i+s*a,l*e+h*t),Le(h*e-l*t)]},o}function s4(n){n=Lp(n[0]*zn,n[1]*zn,n.length>2?n[2]*zn:0);function r(e){return e=n(e[0]*zn,e[1]*zn),e[0]*=Qn,e[1]*=Qn,e}return r.invert=function(e){return e=n.invert(e[0]*zn,e[1]*zn),e[0]*=Qn,e[1]*=Qn,e},r}function c4(n,r,e,t,i,a){if(!!e){var o=mn(r),f=dn(r),u=t*e;i==null?(i=r+t*Ir,a=r-u/2):(i=H1(o,i),a=H1(o,a),(t>0?i<a:i>a)&&(i+=t*Ir));for(var c,l=i;t>0?l>a:l<a;l-=u)c=Df([o,-f*mn(l),-f*dn(l)]),n.point(c[0],c[1])}}function H1(n,r){r=xt(r),r[0]-=n,Of(r);var e=f4(-r[1]);return((-r[2]<0?-e:e)+Ir-wn)%Ir}function Np(){var n=[],r;return{point:function(e,t,i){r.push([e,t,i])},lineStart:function(){n.push(r=[])},lineEnd:ai,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],r=null,e}}}function za(n,r){return Rn(n[0]-r[0])<wn&&Rn(n[1]-r[1])<wn}function ga(n,r,e,t){this.x=n,this.z=r,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function Ap(n,r,e,t,i){var a=[],o=[],f,u;if(n.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],S=g[p],m;if(za(d,S)){if(!d[2]&&!S[2]){for(i.lineStart(),f=0;f<p;++f)i.point((d=g[f])[0],d[1]);i.lineEnd();return}S[0]+=2*wn}a.push(m=new ga(d,g,null,!0)),o.push(m.o=new ga(d,null,m,!1)),a.push(m=new ga(S,g,null,!1)),o.push(m.o=new ga(S,null,m,!0))}}),!!a.length){for(o.sort(r),Y1(a),Y1(o),f=0,u=o.length;f<u;++f)o[f].e=e=!e;for(var c=a[0],l,v;;){for(var s=c,h=!0;s.v;)if((s=s.n)===c)return;l=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(f=0,u=l.length;f<u;++f)i.point((v=l[f])[0],v[1]);else t(s.x,s.n.x,1,i);s=s.n}else{if(h)for(l=s.p.z,f=l.length-1;f>=0;--f)i.point((v=l[f])[0],v[1]);else t(s.x,s.p.x,-1,i);s=s.p}s=s.o,l=s.z,h=!h}while(!s.v);i.lineEnd()}}}function Y1(n){if(!!(r=n.length)){for(var r,e=0,t=n[0],i;++e<r;)t.n=i=n[e],i.p=t,t=i;t.n=i=n[0],i.p=t}}function sl(n){return Rn(n[0])<=on?n[0]:Nr(n[0])*((Rn(n[0])+on)%Ir-on)}function v4(n,r){var e=sl(r),t=r[1],i=dn(t),a=[dn(e),-mn(e),0],o=0,f=0,u=new o4;i===1?t=Bn+wn:i===-1&&(t=-Bn-wn);for(var c=0,l=n.length;c<l;++c)if(!!(s=(v=n[c]).length))for(var v,s,h=v[s-1],g=sl(h),p=h[1]/2+O1,d=dn(p),S=mn(p),m=0;m<s;++m,g=E,d=T,S=k,h=y){var y=v[m],E=sl(y),$=y[1]/2+O1,T=dn($),k=mn($),P=E-g,R=P>=0?1:-1,C=R*P,b=C>on,L=d*T;if(u.add(ge(L*R*dn(C),S*k+L*mn(C))),o+=b?P+R*Ir:P,b^g>=e^E>=e){var z=Uo(xt(h),xt(y));Of(z);var _=Uo(a,z);Of(_);var w=(b^P>=0?-1:1)*Le(_[2]);(t>w||t===w&&(z[0]||z[1]))&&(f+=b^P>=0?1:-1)}}return(o<-wn||o<wn&&u<-l4)^f&1}function Ip(n,r,e,t){return function(i){var a=r(i),o=Np(),f=r(o),u=!1,c,l,v,s={point:h,lineStart:p,lineEnd:d,polygonStart:function(){s.point=S,s.lineStart=m,s.lineEnd=y,l=[],c=[]},polygonEnd:function(){s.point=h,s.lineStart=p,s.lineEnd=d,l=kp(l);var E=v4(c,t);l.length?(u||(i.polygonStart(),u=!0),Ap(l,g4,E,e,i)):E&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,$){n(E,$)&&i.point(E,$)}function g(E,$){a.point(E,$)}function p(){s.point=g,a.lineStart()}function d(){s.point=h,a.lineEnd()}function S(E,$){v.push([E,$]),f.point(E,$)}function m(){f.lineStart(),v=[]}function y(){S(v[0][0],v[0][1]),f.lineEnd();var E=f.clean(),$=o.result(),T,k=$.length,P,R,C;if(v.pop(),c.push(v),v=null,!!k){if(E&1){if(R=$[0],(P=R.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),T=0;T<P;++T)i.point((C=R[T])[0],C[1]);i.lineEnd()}return}k>1&&E&2&&$.push($.pop().concat($.shift())),l.push($.filter(h4))}}return s}}function h4(n){return n.length>1}function g4(n,r){return((n=n.x)[0]<0?n[1]-Bn-wn:Bn-n[1])-((r=r.x)[0]<0?r[1]-Bn-wn:Bn-r[1])}var V1=Ip(function(){return!0},p4,m4,[-on,-Bn]);function p4(n){var r=NaN,e=NaN,t=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var f=a>0?on:-on,u=Rn(a-r);Rn(u-on)<wn?(n.point(r,e=(e+o)/2>0?Bn:-Bn),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(f,e),n.point(a,e),i=0):t!==f&&u>=on&&(Rn(r-t)<wn&&(r-=t*wn),Rn(a-f)<wn&&(a-=f*wn),e=d4(r,e,a,o),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(f,e),i=0),n.point(r=a,e=o),t=f},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-i}}}function d4(n,r,e,t){var i,a,o=dn(n-e);return Rn(o)>wn?Gi((dn(r)*(a=mn(t))*dn(e)-dn(t)*(i=mn(r))*dn(n))/(i*a*o)):(r+t)/2}function m4(n,r,e,t){var i;if(n==null)i=e*Bn,t.point(-on,i),t.point(0,i),t.point(on,i),t.point(on,0),t.point(on,-i),t.point(0,-i),t.point(-on,-i),t.point(-on,0),t.point(-on,i);else if(Rn(n[0]-r[0])>wn){var a=n[0]<r[0]?on:-on;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(r[0],r[1])}function y4(n){var r=mn(n),e=6*zn,t=r>0,i=Rn(r)>wn;function a(l,v,s,h){c4(h,n,e,s,l,v)}function o(l,v){return mn(l)*mn(v)>r}function f(l){var v,s,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,S){var m=[d,S],y,E=o(d,S),$=t?E?0:c(d,S):E?c(d+(d<0?on:-on),S):0;if(!v&&(g=h=E)&&l.lineStart(),E!==h&&(y=u(v,m),(!y||za(v,y)||za(m,y))&&(m[2]=1)),E!==h)p=0,E?(l.lineStart(),y=u(m,v),l.point(y[0],y[1])):(y=u(v,m),l.point(y[0],y[1],2),l.lineEnd()),v=y;else if(i&&v&&t^E){var T;!($&s)&&(T=u(m,v,!0))&&(p=0,t?(l.lineStart(),l.point(T[0][0],T[0][1]),l.point(T[1][0],T[1][1]),l.lineEnd()):(l.point(T[1][0],T[1][1]),l.lineEnd(),l.lineStart(),l.point(T[0][0],T[0][1],3)))}E&&(!v||!za(v,m))&&l.point(m[0],m[1]),v=m,h=E,s=$},lineEnd:function(){h&&l.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function u(l,v,s){var h=xt(l),g=xt(v),p=[1,0,0],d=Uo(h,g),S=va(d,d),m=d[0],y=S-m*m;if(!y)return!s&&l;var E=r*S/y,$=-r*m/y,T=Uo(p,d),k=ha(p,E),P=ha(d,$);fl(k,P);var R=T,C=va(k,R),b=va(R,R),L=C*C-b*(va(k,k)-1);if(!(L<0)){var z=pe(L),_=ha(R,(-C-z)/b);if(fl(_,k),_=Df(_),!s)return _;var w=l[0],M=v[0],x=l[1],N=v[1],U;M<w&&(U=w,w=M,M=U);var vn=M-w,K=Rn(vn-on)<wn,an=K||vn<wn;if(!K&&N<x&&(U=x,x=N,N=U),an?K?x+N>0^_[1]<(Rn(_[0]-w)<wn?x:N):x<=_[1]&&_[1]<=N:vn>on^(w<=_[0]&&_[0]<=M)){var ln=ha(R,(-C+z)/b);return fl(ln,k),[_,Df(ln)]}}}function c(l,v){var s=t?n:on-n,h=0;return l<-s?h|=1:l>s&&(h|=2),v<-s?h|=4:v>s&&(h|=8),h}return Ip(o,f,a,t?[0,-n]:[-on,n-on])}function w4(n,r,e,t,i,a){var o=n[0],f=n[1],u=r[0],c=r[1],l=0,v=1,s=u-o,h=c-f,g;if(g=e-o,!(!s&&g>0)){if(g/=s,s<0){if(g<l)return;g<v&&(v=g)}else if(s>0){if(g>v)return;g>l&&(l=g)}if(g=i-o,!(!s&&g<0)){if(g/=s,s<0){if(g>v)return;g>l&&(l=g)}else if(s>0){if(g<l)return;g<v&&(v=g)}if(g=t-f,!(!h&&g>0)){if(g/=h,h<0){if(g<l)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>l&&(l=g)}if(g=a-f,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>l&&(l=g)}else if(h>0){if(g<l)return;g<v&&(v=g)}return l>0&&(n[0]=o+l*s,n[1]=f+l*h),v<1&&(r[0]=o+v*s,r[1]=f+v*h),!0}}}}}var oi=1e9,pa=-oi;function E4(n,r,e,t){function i(c,l){return n<=c&&c<=e&&r<=l&&l<=t}function a(c,l,v,s){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(l,v))||u(c,l)<0^v>0)do s.point(h===0||h===3?n:e,h>1?t:r);while((h=(h+v+4)%4)!==g);else s.point(l[0],l[1])}function o(c,l){return Rn(c[0]-n)<wn?l>0?0:3:Rn(c[0]-e)<wn?l>0?2:1:Rn(c[1]-r)<wn?l>0?1:0:l>0?3:2}function f(c,l){return u(c.x,l.x)}function u(c,l){var v=o(c,1),s=o(l,1);return v!==s?v-s:v===0?l[1]-c[1]:v===1?c[0]-l[0]:v===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,v=Np(),s,h,g,p,d,S,m,y,E,$,T,k={point:P,lineStart:L,lineEnd:z,polygonStart:C,polygonEnd:b};function P(w,M){i(w,M)&&l.point(w,M)}function R(){for(var w=0,M=0,x=h.length;M<x;++M)for(var N=h[M],U=1,vn=N.length,K=N[0],an,ln,On=K[0],Nn=K[1];U<vn;++U)an=On,ln=Nn,K=N[U],On=K[0],Nn=K[1],ln<=t?Nn>t&&(On-an)*(t-ln)>(Nn-ln)*(n-an)&&++w:Nn<=t&&(On-an)*(t-ln)<(Nn-ln)*(n-an)&&--w;return w}function C(){l=v,s=[],h=[],T=!0}function b(){var w=R(),M=T&&w,x=(s=kp(s)).length;(M||x)&&(c.polygonStart(),M&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&Ap(s,f,w,a,c),c.polygonEnd()),l=c,s=h=g=null}function L(){k.point=_,h&&h.push(g=[]),$=!0,E=!1,m=y=NaN}function z(){s&&(_(p,d),S&&E&&v.rejoin(),s.push(v.result())),k.point=P,E&&l.lineEnd()}function _(w,M){var x=i(w,M);if(h&&g.push([w,M]),$)p=w,d=M,S=x,$=!1,x&&(l.lineStart(),l.point(w,M));else if(x&&E)l.point(w,M);else{var N=[m=Math.max(pa,Math.min(oi,m)),y=Math.max(pa,Math.min(oi,y))],U=[w=Math.max(pa,Math.min(oi,w)),M=Math.max(pa,Math.min(oi,M))];w4(N,U,n,r,e,t)?(E||(l.lineStart(),l.point(N[0],N[1])),l.point(U[0],U[1]),x||l.lineEnd(),T=!1):x&&(l.lineStart(),l.point(w,M),T=!1)}m=w,y=M,E=x}return k}}var j1=n=>n,Rt=1/0,Ho=Rt,ki=-Rt,Yo=ki,S4={point:_4,lineStart:ai,lineEnd:ai,polygonStart:ai,polygonEnd:ai,result:function(){var n=[[Rt,Ho],[ki,Yo]];return ki=Yo=-(Ho=Rt=1/0),n}};function _4(n,r){n<Rt&&(Rt=n),n>ki&&(ki=n),r<Ho&&(Ho=r),r>Yo&&(Yo=r)}var X1=S4;function kc(n){return function(r){var e=new zf;for(var t in n)e[t]=n[t];return e.stream=r,e}}function zf(){}zf.prototype={constructor:zf,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function bc(n,r,e){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),Cp(e,n.stream(X1)),r(X1.result()),t!=null&&n.clipExtent(t),n}function Dp(n,r,e){return bc(n,function(t){var i=r[1][0]-r[0][0],a=r[1][1]-r[0][1],o=Math.min(i/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),f=+r[0][0]+(i-o*(t[1][0]+t[0][0]))/2,u=+r[0][1]+(a-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([f,u])},e)}function $4(n,r,e){return Dp(n,[[0,0],r],e)}function T4(n,r,e){return bc(n,function(t){var i=+r,a=i/(t[1][0]-t[0][0]),o=(i-a*(t[1][0]+t[0][0]))/2,f=-a*t[0][1];n.scale(150*a).translate([o,f])},e)}function M4(n,r,e){return bc(n,function(t){var i=+r,a=i/(t[1][1]-t[0][1]),o=-a*t[0][0],f=(i-a*(t[1][1]+t[0][1]))/2;n.scale(150*a).translate([o,f])},e)}var W1=16,P4=mn(30*zn);function J1(n,r){return+r?R4(n,r):x4(n)}function x4(n){return kc({point:function(r,e){r=n(r,e),this.stream.point(r[0],r[1])}})}function R4(n,r){function e(t,i,a,o,f,u,c,l,v,s,h,g,p,d){var S=c-t,m=l-i,y=S*S+m*m;if(y>4*r&&p--){var E=o+s,$=f+h,T=u+g,k=pe(E*E+$*$+T*T),P=Le(T/=k),R=Rn(Rn(T)-1)<wn||Rn(a-v)<wn?(a+v)/2:ge($,E),C=n(R,P),b=C[0],L=C[1],z=b-t,_=L-i,w=m*z-S*_;(w*w/y>r||Rn((S*z+m*_)/y-.5)>.3||o*s+f*h+u*g<P4)&&(e(t,i,a,o,f,u,b,L,R,E/=k,$/=k,T,p,d),d.point(b,L),e(b,L,R,E,$,T,c,l,v,s,h,g,p,d))}}return function(t){var i,a,o,f,u,c,l,v,s,h,g,p,d={point:S,lineStart:m,lineEnd:E,polygonStart:function(){t.polygonStart(),d.lineStart=$},polygonEnd:function(){t.polygonEnd(),d.lineStart=m}};function S(P,R){P=n(P,R),t.point(P[0],P[1])}function m(){v=NaN,d.point=y,t.lineStart()}function y(P,R){var C=xt([P,R]),b=n(P,R);e(v,s,l,h,g,p,v=b[0],s=b[1],l=P,h=C[0],g=C[1],p=C[2],W1,t),t.point(v,s)}function E(){d.point=S,t.lineEnd()}function $(){m(),d.point=T,d.lineEnd=k}function T(P,R){y(i=P,R),a=v,o=s,f=h,u=g,c=p,d.point=y}function k(){e(v,s,l,h,g,p,a,o,i,f,u,c,W1,t),d.lineEnd=E,E()}return d}}var k4=kc({point:function(n,r){this.stream.point(n*zn,r*zn)}});function b4(n){return kc({point:function(r,e){var t=n(r,e);return this.stream.point(t[0],t[1])}})}function C4(n,r,e,t,i){function a(o,f){return o*=t,f*=i,[r+n*o,e-n*f]}return a.invert=function(o,f){return[(o-r)/n*t,(e-f)/n*i]},a}function K1(n,r,e,t,i,a){if(!a)return C4(n,r,e,t,i);var o=mn(a),f=dn(a),u=o*n,c=f*n,l=o/n,v=f/n,s=(f*e-o*r)/n,h=(f*r+o*e)/n;function g(p,d){return p*=t,d*=i,[u*p-c*d+r,e-c*p-u*d]}return g.invert=function(p,d){return[t*(l*p-v*d+s),i*(h-v*p-l*d)]},g}function Cc(n){return Op(function(){return n})()}function Op(n){var r,e=150,t=480,i=250,a=0,o=0,f=0,u=0,c=0,l,v=0,s=1,h=1,g=null,p=V1,d=null,S,m,y,E=j1,$=.5,T,k,P,R,C;function b(w){return P(w[0]*zn,w[1]*zn)}function L(w){return w=P.invert(w[0],w[1]),w&&[w[0]*Qn,w[1]*Qn]}b.stream=function(w){return R&&C===w?R:R=k4(b4(l)(p(T(E(C=w)))))},b.preclip=function(w){return arguments.length?(p=w,g=void 0,_()):p},b.postclip=function(w){return arguments.length?(E=w,d=S=m=y=null,_()):E},b.clipAngle=function(w){return arguments.length?(p=+w?y4(g=w*zn):(g=null,V1),_()):g*Qn},b.clipExtent=function(w){return arguments.length?(E=w==null?(d=S=m=y=null,j1):E4(d=+w[0][0],S=+w[0][1],m=+w[1][0],y=+w[1][1]),_()):d==null?null:[[d,S],[m,y]]},b.scale=function(w){return arguments.length?(e=+w,z()):e},b.translate=function(w){return arguments.length?(t=+w[0],i=+w[1],z()):[t,i]},b.center=function(w){return arguments.length?(a=w[0]%360*zn,o=w[1]%360*zn,z()):[a*Qn,o*Qn]},b.rotate=function(w){return arguments.length?(f=w[0]%360*zn,u=w[1]%360*zn,c=w.length>2?w[2]%360*zn:0,z()):[f*Qn,u*Qn,c*Qn]},b.angle=function(w){return arguments.length?(v=w%360*zn,z()):v*Qn},b.reflectX=function(w){return arguments.length?(s=w?-1:1,z()):s<0},b.reflectY=function(w){return arguments.length?(h=w?-1:1,z()):h<0},b.precision=function(w){return arguments.length?(T=J1(k,$=w*w),_()):pe($)},b.fitExtent=function(w,M){return Dp(b,w,M)},b.fitSize=function(w,M){return $4(b,w,M)},b.fitWidth=function(w,M){return T4(b,w,M)},b.fitHeight=function(w,M){return M4(b,w,M)};function z(){var w=K1(e,0,0,s,h,v).apply(null,r(a,o)),M=K1(e,t-w[0],i-w[1],s,h,v);return l=Lp(f,u,c),k=qf(r,M),P=qf(l,k),T=J1(k,$),_()}function _(){return R=C=null,b}return function(){return r=n.apply(this,arguments),b.invert=r.invert&&L,z()}}function Lc(n){var r=0,e=on/3,t=Op(n),i=t(r,e);return i.parallels=function(a){return arguments.length?t(r=a[0]*zn,e=a[1]*zn):[r*Qn,e*Qn]},i}function L4(n){var r=mn(n);function e(t,i){return[t*r,dn(i)/r]}return e.invert=function(t,i){return[t/r,Le(i*r)]},e}function N4(n,r){var e=dn(n),t=(e+dn(r))/2;if(Rn(t)<wn)return L4(n);var i=1+e*(2*t-e),a=pe(i)/t;function o(f,u){var c=pe(i-2*t*dn(u))/t;return[c*dn(f*=t),a-c*mn(f)]}return o.invert=function(f,u){var c=a-u,l=ge(f,Rn(c))*Nr(c);return c*t<0&&(l-=on*Nr(f)*Nr(c)),[l/t,Le((i-(f*f+c*c)*t*t)/(2*t))]},o}function dt(){return Lc(N4).scale(155.424).center([0,33.6442])}function Vo(){return dt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function A4(n){return function(r,e){var t=pe(r*r+e*e),i=n(t),a=dn(i),o=mn(i);return[ge(r*a,t*o),Le(t&&e*a/t)]}}function Ru(n,r){return[n,Bo(Rc((Bn+r)/2))]}Ru.invert=function(n,r){return[n,2*Gi(bp(r))-Bn]};function Pn(){return qp(Ru).scale(961/Ir)}function qp(n){var r=Cc(n),e=r.center,t=r.scale,i=r.translate,a=r.clipExtent,o=null,f,u,c;r.scale=function(v){return arguments.length?(t(v),l()):t()},r.translate=function(v){return arguments.length?(i(v),l()):i()},r.center=function(v){return arguments.length?(e(v),l()):e()},r.clipExtent=function(v){return arguments.length?(v==null?o=f=u=c=null:(o=+v[0][0],f=+v[0][1],u=+v[1][0],c=+v[1][1]),l()):o==null?null:[[o,f],[u,c]]};function l(){var v=on*t(),s=r(s4(r.rotate()).invert([0,0]));return a(o==null?[[s[0]-v,s[1]-v],[s[0]+v,s[1]+v]]:n===Ru?[[Math.max(s[0]-v,o),f],[Math.min(s[0]+v,u),c]]:[[o,Math.max(s[1]-v,f)],[u,Math.min(s[1]+v,c)]])}return l()}function da(n){return Rc((Bn+n)/2)}function I4(n,r){var e=mn(n),t=n===r?dn(n):Bo(e/mn(r))/Bo(da(r)/da(n)),i=e*ll(da(n),t)/t;if(!t)return Ru;function a(o,f){i>0?f<-Bn+wn&&(f=-Bn+wn):f>Bn-wn&&(f=Bn-wn);var u=i/ll(da(f),t);return[u*dn(t*o),i-u*mn(t*o)]}return a.invert=function(o,f){var u=i-f,c=Nr(t)*pe(o*o+u*u),l=ge(o,Rn(u))*Nr(u);return u*t<0&&(l-=on*Nr(o)*Nr(u)),[l/t,2*Gi(ll(i/c,1/t))-Bn]},a}function fr(){return Lc(I4).scale(109.5).parallels([30,30])}function jo(n,r){return[n,r]}jo.invert=jo;function Z1(){return Cc(jo).scale(152.63)}function D4(n,r){var e=mn(n),t=n===r?dn(n):(e-mn(r))/(r-n),i=e/t+n;if(Rn(t)<wn)return jo;function a(o,f){var u=i-f,c=t*o;return[u*dn(c),i-u*mn(c)]}return a.invert=function(o,f){var u=i-f,c=ge(o,Rn(u))*Nr(u);return u*t<0&&(c-=on*Nr(o)*Nr(u)),[c/t,i-Nr(t)*pe(o*o+u*u)]},a}function cl(){return Lc(D4).scale(131.154).center([0,13.9389])}function Fp(n,r){var e=mn(r),t=1+mn(n)*e;return[e*dn(n)/t,dn(r)/t]}Fp.invert=A4(function(n){return 2*Gi(n)});function O4(){return Cc(Fp).scale(250).clipAngle(142)}function zp(n,r){return[Bo(Rc((Bn+r)/2)),-n]}zp.invert=function(n,r){return[-r,2*Gi(bp(n))-Bn]};function q4(){var n=qp(zp),r=n.center,e=n.rotate;return n.center=function(t){return arguments.length?r([-t[1],t[0]]):(t=r(),[t[1],-t[0]])},n.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}function ma(){}var kt=1/0,Xo=kt,bi=-kt,Wo=bi,Q1={point:F4,lineStart:ma,lineEnd:ma,polygonStart:ma,polygonEnd:ma,result:function(){var n=[[kt,Xo],[bi,Wo]];return bi=Wo=-(Xo=kt=1/0),n}};function F4(n,r){n<kt&&(kt=n),n>bi&&(bi=n),r<Xo&&(Xo=r),r>Wo&&(Wo=r)}function gr(n,r,e){var t=r[1][0]-r[0][0],i=r[1][1]-r[0][1],a=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),a!=null&&n.clipExtent(null),Cp(e,n.stream(Q1));var o=Q1.result(),f=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+r[0][0]+(t-f*(o[1][0]+o[0][0]))/2,c=+r[0][1]+(i-f*(o[1][1]+o[0][1]))/2;return a!=null&&n.clipExtent(a),n.scale(f*150).translate([u,c])}function Pr(n,r,e){return gr(n,[[0,0],r],e)}const Bf=Math.PI,Gf=2*Bf,He=1e-6,z4=Gf-He;function Uf(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function pr(){return new Uf}Uf.prototype=pr.prototype={constructor:Uf,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,t){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(n,r,e,t,i,a){this._+="C"+ +n+","+ +r+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(n,r,e,t,i){n=+n,r=+r,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,f=e-n,u=t-r,c=a-n,l=o-r,v=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(v>He)if(!(Math.abs(l*f-u*c)>He)||!i)this._+="L"+(this._x1=n)+","+(this._y1=r);else{var s=e-a,h=t-o,g=f*f+u*u,p=s*s+h*h,d=Math.sqrt(g),S=Math.sqrt(v),m=i*Math.tan((Bf-Math.acos((g+v-p)/(2*d*S)))/2),y=m/S,E=m/d;Math.abs(y-1)>He&&(this._+="L"+(n+y*c)+","+(r+y*l)),this._+="A"+i+","+i+",0,0,"+ +(l*s>c*h)+","+(this._x1=n+E*f)+","+(this._y1=r+E*u)}},arc:function(n,r,e,t,i,a){n=+n,r=+r,e=+e,a=!!a;var o=e*Math.cos(t),f=e*Math.sin(t),u=n+o,c=r+f,l=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>He||Math.abs(this._y1-c)>He)&&(this._+="L"+u+","+c),e&&(v<0&&(v=v%Gf+Gf),v>z4?this._+="A"+e+","+e+",0,1,"+l+","+(n-o)+","+(r-f)+"A"+e+","+e+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):v>He&&(this._+="A"+e+","+e+",0,"+ +(v>=Bf)+","+l+","+(this._x1=n+e*Math.cos(i))+","+(this._y1=r+e*Math.sin(i))))},rect:function(n,r,e,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function B4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function G4(){var n,r,e=Vo(),t,i=dt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=dt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(s,h){u=[s,h]}};function l(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(f.point(h,g),u)}l.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(s)},l.stream=function(s){return n&&r===s?n:n=B4([e.stream(r=s),i.stream(s),o.stream(s)])},l.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},l.scale=function(s){return arguments.length?(e.scale(s),i.scale(s*.35),o.scale(s),l.translate(e.translate())):e.scale()},l.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+A,p+.12*h+A],[g-.214*h-A,p+.234*h-A]]).stream(c),f=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+A,p+.166*h+A],[g-.115*h-A,p+.234*h-A]]).stream(c),v()},l.fitExtent=function(s,h){return gr(l,s,h)},l.fitSize=function(s,h){return Pr(l,s,h)};function v(){return n=r=null,l}return l.drawCompositionBorders=function(s){var h=e([-102.91,26.3]),g=e([-104,27.5]),p=e([-108,29.1]),d=e([-110,29.1]),S=e([-110,26.7]),m=e([-112.8,27.6]),y=e([-114.3,30.6]),E=e([-119.3,30.1]);s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.moveTo(S[0],S[1]),s.lineTo(m[0],m[1]),s.lineTo(y[0],y[1]),s.lineTo(E[0],E[1])},l.getCompositionBorders=function(){var s=pr();return this.drawCompositionBorders(s),s.toString()},l.scale(1070)}function U4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function H4(){var n,r,e=Vo(),t,i=dt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=dt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u=dt().rotate([66,0]).center([0,18]).parallels([8,18]),c,l=Z1().rotate([173,14]),v,s=Z1().rotate([-145,-16.8]),h,g,p={point:function(m,y){g=[m,y]}};function d(m){var y=m[0],E=m[1];return g=null,t.point(y,E),g||(a.point(y,E),g)||(f.point(y,E),g)||(c.point(y,E),g)||(v.point(y,E),g)||(h.point(y,E),g)}d.invert=function(m){var y=e.scale(),E=e.translate(),$=(m[0]-E[0])/y,T=(m[1]-E[1])/y;return(T>=.12&&T<.234&&$>=-.425&&$<-.214?i:T>=.166&&T<.234&&$>=-.214&&$<-.115?o:T>=.2064&&T<.2413&&$>=.312&&$<.385?u:T>=.09&&T<.1197&&$>=-.4243&&$<-.3232?l:T>=-.0518&&T<.0895&&$>=-.4243&&$<-.3824?s:e).invert(m)},d.stream=function(m){return n&&r===m?n:n=U4([e.stream(r=m),i.stream(m),o.stream(m),u.stream(m),l.stream(m),s.stream(m)])},d.precision=function(m){return arguments.length?(e.precision(m),i.precision(m),o.precision(m),u.precision(m),l.precision(m),s.precision(m),S()):e.precision()},d.scale=function(m){return arguments.length?(e.scale(m),i.scale(m*.35),o.scale(m),u.scale(m),l.scale(m*2),s.scale(m),d.translate(e.translate())):e.scale()},d.translate=function(m){if(!arguments.length)return e.translate();var y=e.scale(),E=+m[0],$=+m[1];return t=e.translate(m).clipExtent([[E-.455*y,$-.238*y],[E+.455*y,$+.238*y]]).stream(p),a=i.translate([E-.307*y,$+.201*y]).clipExtent([[E-.425*y+A,$+.12*y+A],[E-.214*y-A,$+.233*y-A]]).stream(p),f=o.translate([E-.205*y,$+.212*y]).clipExtent([[E-.214*y+A,$+.166*y+A],[E-.115*y-A,$+.233*y-A]]).stream(p),c=u.translate([E+.35*y,$+.224*y]).clipExtent([[E+.312*y+A,$+.2064*y+A],[E+.385*y-A,$+.233*y-A]]).stream(p),v=l.translate([E-.492*y,$+.09*y]).clipExtent([[E-.4243*y+A,$+.0903*y+A],[E-.3233*y-A,$+.1197*y-A]]).stream(p),h=s.translate([E-.408*y,$+.018*y]).clipExtent([[E-.4244*y+A,$-.0519*y+A],[E-.3824*y-A,$+.0895*y-A]]).stream(p),S()},d.fitExtent=function(m,y){return gr(d,m,y)},d.fitSize=function(m,y){return Pr(d,m,y)};function S(){return n=r=null,d}return d.drawCompositionBorders=function(m){var y=e([-110.4641,28.2805]),E=e([-104.0597,28.9528]),$=e([-103.7049,25.1031]),T=e([-109.8337,24.4531]),k=e([-124.4745,28.1407]),P=e([-110.931,30.8844]),R=e([-109.8337,24.4531]),C=e([-122.4628,21.8562]),b=e([-76.8579,25.1544]),L=e([-72.429,24.2097]),z=e([-72.8265,22.7056]),_=e([-77.1852,23.6392]),w=e([-125.0093,29.7791]),M=e([-118.5193,31.3262]),x=e([-118.064,29.6912]),N=e([-124.4369,28.169]),U=e([-128.1314,37.4582]),vn=e([-125.2132,38.214]),K=e([-122.3616,30.5115]),an=e([-125.0315,29.8211]);m.moveTo(y[0],y[1]),m.lineTo(E[0],E[1]),m.lineTo($[0],$[1]),m.lineTo($[0],$[1]),m.lineTo(T[0],T[1]),m.closePath(),m.moveTo(k[0],k[1]),m.lineTo(P[0],P[1]),m.lineTo(R[0],R[1]),m.lineTo(R[0],R[1]),m.lineTo(C[0],C[1]),m.closePath(),m.moveTo(b[0],b[1]),m.lineTo(L[0],L[1]),m.lineTo(z[0],z[1]),m.lineTo(z[0],z[1]),m.lineTo(_[0],_[1]),m.closePath(),m.moveTo(w[0],w[1]),m.lineTo(M[0],M[1]),m.lineTo(x[0],x[1]),m.lineTo(x[0],x[1]),m.lineTo(N[0],N[1]),m.closePath(),m.moveTo(U[0],U[1]),m.lineTo(vn[0],vn[1]),m.lineTo(K[0],K[1]),m.lineTo(K[0],K[1]),m.lineTo(an[0],an[1]),m.closePath()},d.getCompositionBorders=function(){var m=pr();return this.drawCompositionBorders(m),m.toString()},d.scale(1070)}function Y4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function V4(){var n,r,e=fr().rotate([5,-38.6]).parallels([0,60]),t,i=fr().rotate([5,-38.6]).parallels([0,60]),a,o,f={point:function(l,v){o=[l,v]}};function u(l){var v=l[0],s=l[1];return o=null,t.point(v,s),o||(a.point(v,s),o)}u.invert=function(l){var v=e.scale(),s=e.translate(),h=(l[0]-s[0])/v,g=(l[1]-s[1])/v;return(g>=.05346&&g<.0897&&h>=-.13388&&h<-.0322?i:e).invert(l)},u.stream=function(l){return n&&r===l?n:n=Y4([e.stream(r=l),i.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),c()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var v=e.scale(),s=+l[0],h=+l[1];return t=e.translate(l).clipExtent([[s-.06857*v,h-.1288*v],[s+.13249*v,h+.06*v]]).stream(f),a=i.translate([s+.1*v,h-.094*v]).clipExtent([[s-.1331*v+A,h+.053457*v+A],[s-.0354*v-A,h+.08969*v-A]]).stream(f),c()},u.fitExtent=function(l,v){return gr(u,l,v)},u.fitSize=function(l,v){return Pr(u,l,v)};function c(){return n=r=null,u}return u.drawCompositionBorders=function(l){var v=e([-14.034675,34.965007]),s=e([-7.4208899,35.536988]),h=e([-7.3148275,33.54359]);l.moveTo(v[0],v[1]),l.lineTo(s[0],s[1]),l.lineTo(h[0],h[1])},u.getCompositionBorders=function(){var l=pr();return this.drawCompositionBorders(l),l.toString()},u.scale(2700)}function j4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function X4(){var n,r,e=fr().rotate([10,-39.3]).parallels([0,60]),t,i=fr().rotate([17,-32.7]).parallels([0,60]),a,o=fr().rotate([27.8,-38.6]).parallels([0,60]),f,u,c={point:function(s,h){u=[s,h]}};function l(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(f.point(h,g),u)}l.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=.0093&&d<.03678&&p>=-.03875&&p<-.0116?i:d>=-.0412&&d<.0091&&p>=-.07782&&p<-.01166?o:e).invert(s)},l.stream=function(s){return n&&r===s?n:n=j4([e.stream(r=s),i.stream(s),o.stream(s)])},l.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},l.scale=function(s){return arguments.length?(e.scale(s),i.scale(s),o.scale(s*.6),l.translate(e.translate())):e.scale()},l.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.0115*h,p-.1138*h],[g+.2105*h,p+.0673*h]]).stream(c),a=i.translate([g-.0265*h,p+.025*h]).clipExtent([[g-.0388*h+A,p+.0093*h+A],[g-.0116*h-A,p+.0368*h-A]]).stream(c),f=o.translate([g-.045*h,p+-.02*h]).clipExtent([[g-.0778*h+A,p-.0413*h+A],[g-.0117*h-A,p+.0091*h-A]]).stream(c),v()},l.fitExtent=function(s,h){return gr(l,s,h)},l.fitSize=function(s,h){return Pr(l,s,h)};function v(){return n=r=null,l}return l.drawCompositionBorders=function(s){var h=e([-12.8351,38.7113]),g=e([-10.8482,38.7633]),p=e([-10.8181,37.2072]),d=e([-12.7345,37.1573]),S=e([-16.0753,41.4436]),m=e([-10.9168,41.6861]),y=e([-10.8557,38.7747]),E=e([-15.6728,38.5505]);s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),s.moveTo(S[0],S[1]),s.lineTo(m[0],m[1]),s.lineTo(y[0],y[1]),s.lineTo(y[0],y[1]),s.lineTo(E[0],E[1]),s.closePath()},l.getCompositionBorders=function(){var s=pr();return this.drawCompositionBorders(s),s.toString()},l.scale(4200)}function W4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function J4(){var n,r,e=Pn().rotate([80,1.5]),t,i=Pn().rotate([90.73,1]),a,o,f={point:function(l,v){o=[l,v]}};function u(l){var v=l[0],s=l[1];return o=null,t.point(v,s),o||(a.point(v,s),o)}u.invert=function(l){var v=e.scale(),s=e.translate(),h=(l[0]-s[0])/v,g=(l[1]-s[1])/v;return(g>=-.0676&&g<-.026&&h>=-.0857&&h<-.0263?i:e).invert(l)},u.stream=function(l){return n&&r===l?n:n=W4([e.stream(r=l),i.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),c()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var v=e.scale(),s=+l[0],h=+l[1];return t=e.translate(l).clipExtent([[s-.0262*v,h-.0734*v],[s+.1741*v,h+.079*v]]).stream(f),a=i.translate([s-.06*v,h-.04*v]).clipExtent([[s-.0857*v+A,h-.0676*v+A],[s-.0263*v-A,h-.026*v-A]]).stream(f),c()},u.fitExtent=function(l,v){return gr(u,l,v)},u.fitSize=function(l,v){return Pr(u,l,v)};function c(){return n=r=null,u}return u.drawCompositionBorders=function(l){var v=e([-84.9032,2.3757]),s=e([-81.5047,2.3708]),h=e([-81.5063,-.01]),g=e([-84.9086,-.005]);l.moveTo(v[0],v[1]),l.lineTo(s[0],s[1]),l.lineTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.closePath()},u.getCompositionBorders=function(){var l=pr();return this.drawCompositionBorders(l),l.toString()},u.scale(3500)}function K4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function Z4(){var n,r,e=q4().rotate([72,37]),t,i=O4().rotate([72,0]),a,o=Pn().rotate([80,33.5]),f,u=Pn().rotate([110,25]),c,l,v={point:function(g,p){l=[g,p]}};function s(g){var p=g[0],d=g[1];return l=null,t.point(p,d),l||(a.point(p,d),l)||(f.point(p,d),l)||(c.point(p,d),l)}s.invert=function(g){var p=e.scale(),d=e.translate(),S=(g[0]-d[0])/p,m=(g[1]-d[1])/p;return(m>=.2582&&m<.32&&S>=-.1036&&S<-.087?i:m>=-.01298&&m<.0133&&S>=-.11396&&S<-.05944?o:m>=.01539&&m<.03911&&S>=-.089&&S<-.0588?u:e).invert(g)},s.stream=function(g){return n&&r===g?n:n=K4([e.stream(r=g),i.stream(g),o.stream(g),u.stream(g)])},s.precision=function(g){return arguments.length?(e.precision(g),i.precision(g),o.precision(g),u.precision(g),h()):e.precision()},s.scale=function(g){return arguments.length?(e.scale(g),i.scale(g*.15),o.scale(g*1.5),u.scale(g*1.5),s.translate(e.translate())):e.scale()},s.translate=function(g){if(!arguments.length)return e.translate();var p=e.scale(),d=+g[0],S=+g[1];return t=e.translate(g).clipExtent([[d-.059*p,S-.3835*p],[d+.4498*p,S+.3375*p]]).stream(v),a=i.translate([d-.087*p,S+.17*p]).clipExtent([[d-.1166*p+A,S+.2582*p+A],[d-.06*p-A,S+.32*p-A]]).stream(v),f=o.translate([d-.092*p,S-0*p]).clipExtent([[d-.114*p+A,S-.013*p+A],[d-.0594*p-A,S+.0133*p-A]]).stream(v),c=u.translate([d-.089*p,S-.0265*p]).clipExtent([[d-.089*p+A,S+.0154*p+A],[d-.0588*p-A,S+.0391*p-A]]).stream(v),h()},s.fitExtent=function(g,p){return gr(s,g,p)},s.fitSize=function(g,p){return Pr(s,g,p)};function h(){return n=r=null,s}return s.drawCompositionBorders=function(g){var p=e([-82.6999,-51.3043]),d=e([-77.5442,-51.6631]),S=e([-78.0254,-55.186]),m=e([-83.6106,-54.7785]),y=e([-80.0638,-35.984]),E=e([-76.2153,-36.1811]),$=e([-76.2994,-37.6839]),T=e([-80.2231,-37.4757]),k=e([-78.442,-37.706]),P=e([-76.263,-37.8054]),R=e([-76.344,-39.1595]),C=e([-78.5638,-39.0559]);g.moveTo(p[0],p[1]),g.lineTo(d[0],d[1]),g.lineTo(S[0],S[1]),g.lineTo(S[0],S[1]),g.lineTo(m[0],m[1]),g.closePath(),g.moveTo(y[0],y[1]),g.lineTo(E[0],E[1]),g.lineTo($[0],$[1]),g.lineTo($[0],$[1]),g.lineTo(T[0],T[1]),g.closePath(),g.moveTo(k[0],k[1]),g.lineTo(P[0],P[1]),g.lineTo(R[0],R[1]),g.lineTo(R[0],R[1]),g.lineTo(C[0],C[1]),g.closePath()},s.getCompositionBorders=function(){var g=pr();return this.drawCompositionBorders(g),g.toString()},s.scale(700)}function Q4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function n9(){var n,r,e=cl().rotate([-136,-22]).parallels([40,34]),t,i=cl().rotate([-146,-26]).parallels([40,34]),a,o=cl().rotate([-126,-19]).parallels([40,34]),f,u,c={point:function(s,h){u=[s,h]}};function l(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(f.point(h,g),u)}l.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=-.10925&&d<-.02701&&p>=-.135&&p<-.0397?i:d>=.04713&&d<.11138&&p>=-.03986&&p<.051?o:e).invert(s)},l.stream=function(s){return n&&r===s?n:n=Q4([e.stream(r=s),i.stream(s),o.stream(s)])},l.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},l.scale=function(s){return arguments.length?(e.scale(s),i.scale(s),o.scale(s*.7),l.translate(e.translate())):e.scale()},l.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.1352*h,p-.1091*h],[g+.117*h,p+.098*h]]).stream(c),a=i.translate([g-.0425*h,p-.005*h]).clipExtent([[g-.135*h+A,p-.1093*h+A],[g-.0397*h-A,p-.027*h-A]]).stream(c),f=o.translate(s).clipExtent([[g-.0399*h+A,p+.0471*h+A],[g+.051*h-A,p+.1114*h-A]]).stream(c),v()},l.fitExtent=function(s,h){return gr(l,s,h)},l.fitSize=function(s,h){return Pr(l,s,h)};function v(){return n=r=null,l}return l.drawCompositionBorders=function(s){var h=e([126.01320483689143,41.621090310215585]),g=e([133.04304387025903,42.15087523707186]),p=e([133.3021766080688,37.43975444725098]),d=e([126.87889168628224,36.95488945159779]),S=e([132.9,29.8]),m=e([134,33]),y=e([139.3,33.2]),E=e([139.16,30.5]);s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),s.moveTo(S[0],S[1]),s.lineTo(m[0],m[1]),s.lineTo(y[0],y[1]),s.lineTo(E[0],E[1])},l.getCompositionBorders=function(){var s=pr();return this.drawCompositionBorders(s),s.toString()},l.scale(2200)}function r9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function e9(){var n,r,e=fr().rotate([-3,-46.2]).parallels([0,60]),t,i=Pn().center([-53.2,3.9]),a,o=Pn().center([-61.03,14.67]),f,u=Pn().center([-61.46,16.14]),c,l=Pn().center([-62.85,17.92]),v,s=Pn().center([-56.23,46.93]),h,g=Pn().center([45.16,-12.8]),p,d=Pn().center([55.52,-21.13]),S,m=Pn().center([165.8,-21.07]),y,E=Pn().center([-178.1,-14.3]),$,T=Pn().center([-150.55,-17.11]),k,P=Pn().center([-150.55,-17.11]),R,C,b={point:function(_,w){C=[_,w]}};function L(_){var w=_[0],M=_[1];return C=null,t.point(w,M),C||(a.point(w,M),C)||(f.point(w,M),C)||(c.point(w,M),C)||(v.point(w,M),C)||(h.point(w,M),C)||(p.point(w,M),C)||(S.point(w,M),C)||(y.point(w,M),C)||($.point(w,M),C)||(k.point(w,M),C)||(R.point(w,M),C)}L.invert=function(_){var w=e.scale(),M=e.translate(),x=(_[0]-M[0])/w,N=(_[1]-M[1])/w;return(N>=.029&&N<.0864&&x>=-.14&&x<-.0996?i:N>=0&&N<.029&&x>=-.14&&x<-.0996?o:N>=-.032&&N<0&&x>=-.14&&x<-.0996?u:N>=-.052&&N<-.032&&x>=-.14&&x<-.0996?l:N>=-.076&&N<.052&&x>=-.14&&x<-.0996?s:N>=-.076&&N<-.052&&x>=.0967&&x<.1371?g:N>=-.052&&N<-.02&&x>=.0967&&x<.1371?d:N>=-.02&&N<.012&&x>=.0967&&x<.1371?m:N>=.012&&N<.033&&x>=.0967&&x<.1371?E:N>=.033&&N<.0864&&x>=.0967&&x<.1371?T:e).invert(_)},L.stream=function(_){return n&&r===_?n:n=r9([e.stream(r=_),i.stream(_),o.stream(_),u.stream(_),l.stream(_),s.stream(_),g.stream(_),d.stream(_),m.stream(_),E.stream(_),T.stream(_),P.stream(_)])},L.precision=function(_){return arguments.length?(e.precision(_),i.precision(_),o.precision(_),u.precision(_),l.precision(_),s.precision(_),g.precision(_),d.precision(_),m.precision(_),E.precision(_),T.precision(_),P.precision(_),z()):e.precision()},L.scale=function(_){return arguments.length?(e.scale(_),i.scale(_*.6),o.scale(_*1.6),u.scale(_*1.4),l.scale(_*5),s.scale(_*1.3),g.scale(_*1.6),d.scale(_*1.2),m.scale(_*.3),E.scale(_*2.7),T.scale(_*.5),P.scale(_*.06),L.translate(e.translate())):e.scale()},L.translate=function(_){if(!arguments.length)return e.translate();var w=e.scale(),M=+_[0],x=+_[1];return t=e.translate(_).clipExtent([[M-.0996*w,x-.0908*w],[M+.0967*w,x+.0864*w]]).stream(b),a=i.translate([M-.12*w,x+.0575*w]).clipExtent([[M-.14*w+A,x+.029*w+A],[M-.0996*w-A,x+.0864*w-A]]).stream(b),f=o.translate([M-.12*w,x+.013*w]).clipExtent([[M-.14*w+A,x+0*w+A],[M-.0996*w-A,x+.029*w-A]]).stream(b),c=u.translate([M-.12*w,x-.014*w]).clipExtent([[M-.14*w+A,x-.032*w+A],[M-.0996*w-A,x+0*w-A]]).stream(b),v=l.translate([M-.12*w,x-.044*w]).clipExtent([[M-.14*w+A,x-.052*w+A],[M-.0996*w-A,x-.032*w-A]]).stream(b),h=s.translate([M-.12*w,x-.065*w]).clipExtent([[M-.14*w+A,x-.076*w+A],[M-.0996*w-A,x-.052*w-A]]).stream(b),p=g.translate([M+.117*w,x-.064*w]).clipExtent([[M+.0967*w+A,x-.076*w+A],[M+.1371*w-A,x-.052*w-A]]).stream(b),S=d.translate([M+.116*w,x-.0355*w]).clipExtent([[M+.0967*w+A,x-.052*w+A],[M+.1371*w-A,x-.02*w-A]]).stream(b),y=m.translate([M+.116*w,x-.0048*w]).clipExtent([[M+.0967*w+A,x-.02*w+A],[M+.1371*w-A,x+.012*w-A]]).stream(b),$=E.translate([M+.116*w,x+.022*w]).clipExtent([[M+.0967*w+A,x+.012*w+A],[M+.1371*w-A,x+.033*w-A]]).stream(b),R=P.translate([M+.11*w,x+.045*w]).clipExtent([[M+.0967*w+A,x+.033*w+A],[M+.1371*w-A,x+.06*w-A]]).stream(b),k=T.translate([M+.115*w,x+.075*w]).clipExtent([[M+.0967*w+A,x+.06*w+A],[M+.1371*w-A,x+.0864*w-A]]).stream(b),z()},L.fitExtent=function(_,w){return gr(L,_,w)},L.fitSize=function(_,w){return Pr(L,_,w)};function z(){return n=r=null,L}return L.drawCompositionBorders=function(_){var w,M,x,N;w=e([-7.938886725111036,43.7219460918835]),M=e([-4.832080896458295,44.12930268549372]),x=e([-4.205299743793263,40.98096346967365]),N=e([-7.071796453126152,40.610037319181444]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([-8.42751373617692,45.32889452553031]),M=e([-5.18599305777107,45.7566442062976]),x=e([-4.832080905154431,44.129302726751426]),N=e([-7.938886737126192,43.72194613263854]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([-9.012656899657046,47.127733821030176]),M=e([-5.6105244772793155,47.579777861410626]),x=e([-5.185993067168585,45.756644248170346]),N=e([-8.427513749141811,45.32889456686326]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([-9.405747558985553,48.26506375557457]),M=e([-5.896175018439575,48.733352850851624]),x=e([-5.610524487556043,47.57977790393761]),N=e([-9.012656913808351,47.127733862971255]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([-9.908436061346974,49.642448789505856]),M=e([-6.262026716233124,50.131426841787174]),x=e([-5.896175029331232,48.73335289377258]),N=e([-9.40574757396393,48.26506379787767]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([11.996907706504462,50.16039028163579]),M=e([15.649907879773343,49.68279246765253]),x=e([15.156712840526632,48.30371557625831]),N=e([11.64122661754411,48.761078240546816]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([11.641226606955788,48.7610781975889]),M=e([15.156712825832164,48.30371553390465]),x=e([14.549932166241172,46.4866532486199]),N=e([11.204443787952183,46.91899233914248]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([11.204443778297161,46.918992296823646]),M=e([14.549932152815039,46.486653206856396]),x=e([13.994409796764009,44.695833444323256]),N=e([10.805306599253848,45.105133870684924]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([10.805306590412085,45.10513382903308]),M=e([13.99440978444733,44.695833403183606]),x=e([13.654633799024392,43.53552468558152]),N=e([10.561516803980956,43.930671459798624]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([10.561516795617383,43.93067141859757]),M=e([13.654633787361952,43.5355246448671]),x=e([12.867691604239901,40.640701985019405]),N=e([9.997809515987688,41.00288343254471]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([10.8,42.4]),M=e([12.8,42.13]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1])},L.getCompositionBorders=function(){var _=pr();return this.drawCompositionBorders(_),_.toString()},L.scale(2700)}function t9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function i9(){var n,r,e=fr().rotate([-10,-53]).parallels([0,60]),t,i=Pn().center([-61.46,16.14]),a,o=Pn().center([-53.2,3.9]),f,u=fr().rotate([27.8,-38.9]).parallels([0,60]),c,l=fr().rotate([25.43,-37.398]).parallels([0,60]),v,s=fr().rotate([31.17,-39.539]).parallels([0,60]),h,g=fr().rotate([17,-32.7]).parallels([0,60]),p,d=fr().rotate([16,-28.5]).parallels([0,60]),S,m=Pn().center([-61.03,14.67]),y,E=Pn().center([45.16,-12.8]),$,T=Pn().center([55.52,-21.13]),k,P=fr().rotate([-14.4,-35.95]).parallels([0,60]),R,C,b={point:function(_,w){C=[_,w]}};function L(_){var w=_[0],M=_[1];return C=null,t.point(w,M),C||(f.point(w,M),C)||(y.point(w,M),C)||(a.point(w,M),C)||(S.point(w,M),C)||(p.point(w,M),C)||($.point(w,M),C)||(k.point(w,M),C)||(R.point(w,M),C)||(c.point(w,M),C)||(v.point(w,M),C)||(h.point(w,M),C)}L.invert=function(_){var w=e.scale(),M=e.translate(),x=(_[0]-(M[0]+.08*w))/w,N=(_[1]-M[1])/w;return(N>=-.31&&N<-.24&&x>=.14&&x<.24?i:N>=-.24&&N<-.17&&x>=.14&&x<.24?o:N>=-.17&&N<-.12&&x>=.21&&x<.24?l:N>=-.17&&N<-.14&&x>=.14&&x<.165?s:N>=-.17&&N<-.1&&x>=.14&&x<.24?u:N>=-.1&&N<-.03&&x>=.14&&x<.24?g:N>=-.03&&N<.04&&x>=.14&&x<.24?d:N>=-.31&&N<-.24&&x>=.24&&x<.34?m:N>=-.24&&N<-.17&&x>=.24&&x<.34?E:N>=-.17&&N<-.1&&x>=.24&&x<.34?T:N>=-.1&&N<-.03&&x>=.24&&x<.34?P:e).invert(_)},L.stream=function(_){return n&&r===_?n:n=t9([e.stream(r=_),o.stream(_),m.stream(_),i.stream(_),d.stream(_),g.stream(_),E.stream(_),T.stream(_),P.stream(_),u.stream(_),l.stream(_),s.stream(_)])},L.precision=function(_){return arguments.length?(e.precision(_),o.precision(_),m.precision(_),i.precision(_),d.precision(_),g.precision(_),E.precision(_),T.precision(_),P.precision(_),u.precision(_),l.precision(_),s.precision(_),z()):e.precision()},L.scale=function(_){return arguments.length?(e.scale(_),i.scale(_*3),o.scale(_*.8),m.scale(_*3.5),T.scale(_*2.7),u.scale(_*2),l.scale(_*2),s.scale(_*2),g.scale(_*3),d.scale(_),E.scale(_*5.5),P.scale(_*6),L.translate(e.translate())):e.scale()},L.translate=function(_){if(!arguments.length)return e.translate();var w=e.scale(),M=+_[0],x=+_[1];return t=e.translate([M-.08*w,x]).clipExtent([[M-.51*w,x-.33*w],[M+.5*w,x+.33*w]]).stream(b),a=i.translate([M+.19*w,x-.275*w]).clipExtent([[M+.14*w+A,x-.31*w+A],[M+.24*w-A,x-.24*w-A]]).stream(b),f=o.translate([M+.19*w,x-.205*w]).clipExtent([[M+.14*w+A,x-.24*w+A],[M+.24*w-A,x-.17*w-A]]).stream(b),c=u.translate([M+.19*w,x-.135*w]).clipExtent([[M+.14*w+A,x-.17*w+A],[M+.24*w-A,x-.1*w-A]]).stream(b),v=l.translate([M+.225*w,x-.147*w]).clipExtent([[M+.21*w+A,x-.17*w+A],[M+.24*w-A,x-.12*w-A]]).stream(b),h=s.translate([M+.153*w,x-.15*w]).clipExtent([[M+.14*w+A,x-.17*w+A],[M+.165*w-A,x-.14*w-A]]).stream(b),p=g.translate([M+.19*w,x-.065*w]).clipExtent([[M+.14*w+A,x-.1*w+A],[M+.24*w-A,x-.03*w-A]]).stream(b),S=d.translate([M+.19*w,x+.005*w]).clipExtent([[M+.14*w+A,x-.03*w+A],[M+.24*w-A,x+.04*w-A]]).stream(b),y=m.translate([M+.29*w,x-.275*w]).clipExtent([[M+.24*w+A,x-.31*w+A],[M+.34*w-A,x-.24*w-A]]).stream(b),$=E.translate([M+.29*w,x-.205*w]).clipExtent([[M+.24*w+A,x-.24*w+A],[M+.34*w-A,x-.17*w-A]]).stream(b),k=T.translate([M+.29*w,x-.135*w]).clipExtent([[M+.24*w+A,x-.17*w+A],[M+.34*w-A,x-.1*w-A]]).stream(b),R=P.translate([M+.29*w,x-.065*w]).clipExtent([[M+.24*w+A,x-.1*w+A],[M+.34*w-A,x-.03*w-A]]).stream(b),z()},L.fitExtent=function(_,w){return gr(L,_,w)},L.fitSize=function(_,w){return Pr(L,_,w)};function z(){return n=r=null,L}return L.drawCompositionBorders=function(_){var w,M,x,N;w=e([42.45755610828648,63.343658547914934]),M=e([52.65837266667029,59.35045080290929]),x=e([47.19754502247785,56.12653496548117]),N=e([37.673034273363044,59.61638268506111]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([59.41110754003403,62.35069727399336]),M=e([66.75050228640794,57.11797303636038]),x=e([60.236065725110436,54.63331433818992]),N=e([52.65837313153311,59.350450804599355]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([48.81091130080243,66.93353402634641]),M=e([59.41110730654679,62.35069740653086]),x=e([52.6583728974441,59.3504509222445]),N=e([42.45755631675751,63.34365868805821]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([31.054198418446475,52.1080673766184]),M=e([39.09869284884117,49.400700047190554]),x=e([36.0580811499175,46.02944174908498]),N=e([28.690508588835726,48.433126979386415]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([33.977877745912025,55.849945501331]),M=e([42.75328432167726,52.78455122462353]),x=e([39.09869297540224,49.400700176148625]),N=e([31.05419851807008,52.10806751810923]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([52.658372900759296,59.35045068526415]),M=e([60.23606549583304,54.63331423800264]),x=e([54.6756370953122,51.892298789399455]),N=e([47.19754524788189,56.126534861222794]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([47.19754506082455,56.126534735591456]),M=e([54.675636900123514,51.892298681337095]),x=e([49.94448648951486,48.98775484983285]),N=e([42.75328468716108,52.78455126060818]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([42.75328453416769,52.78455113209101]),M=e([49.94448632339758,48.98775473706457]),x=e([45.912339990394315,45.99361784987003]),N=e([39.09869317356607,49.40070009378711]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([37.673034114296634,59.61638254183119]),M=e([47.197544835420544,56.126534839849846]),x=e([42.75328447467064,52.78455135314068]),N=e([33.977877870363905,55.849945644671145]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([44.56748486446032,57.26489367845818]),x=e([43.9335791193588,53.746540942601726]),N=e([43,56]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([37.673034114296634,59.61638254183119]),M=e([40.25902691953466,58.83002044222639]),x=e([38.458270492742024,57.26232178028002]),N=e([35.97754948030156,58.00266637992386]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath()},L.getCompositionBorders=function(){var _=pr();return this.drawCompositionBorders(_),_.toString()},L.scale(750)}function a9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function o9(){var n,r,e=fr().rotate([-5.5,-52.2]).parallels([0,60]),t,i=Pn().center([-68.25,12.2]),a,o=Pn().center([-63.1,17.5]),f,u,c={point:function(s,h){u=[s,h]}};function l(s){const[h,g]=s;return u=null,t.point(h,g),u||(a.point(h,g),u)||(f.point(h,g),u)}l.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=-.0067&&d<.0015&&p>=-.0232&&p<-.0154?i:d>=-.022&&d<-.014&&p>=-.023&&p<-.014?o:e).invert(s)},l.stream=function(s){return n&&r===s?n:n=a9([e.stream(r=s),i.stream(s),o.stream(s)])},l.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},l.scale=function(s){return arguments.length?(e.scale(s),i.scale(s),o.scale(s),l.translate(e.translate())):e.scale()},l.translate=function(s){if(!arguments.length)return e.translate();const h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.0245*h,p-.026*h],[g+.023*h,p+.026*h]]).stream(c),a=i.translate([g-.0186*h,p-.00325*h]).clipExtent([[g-.0232*h+A,p-.0067*h+A],[g-.0154*h-A,p+.0015*h-A]]).stream(c),f=o.translate([g-.0185*h,p-.017*h]).clipExtent([[g-.023*h+A,p-.022*h+A],[g-.014*h-A,p-.014*h-A]]).stream(c),v()},l.fitExtent=function(s,h){return gr(l,s,h)},l.fitSize=function(s,h){return Pr(l,s,h)};function v(){return n=r=null,l}return l.drawCompositionBorders=function(s){var h=e([3.30573,52.5562]),g=e([4.043,52.572]),p=e([4.0646,52.1017]),d=e([3.3382,52.0861]),S=e([3.262,53.439]),m=e([4.1373,53.4571]),y=e([4.1574,52.9946]),E=e([3.2951,52.9768]);s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),s.moveTo(S[0],S[1]),s.lineTo(m[0],m[1]),s.lineTo(y[0],y[1]),s.lineTo(y[0],y[1]),s.lineTo(E[0],E[1]),s.closePath()},l.getCompositionBorders=function(){var s=pr();return this.drawCompositionBorders(s),s.toString()},l.scale(4200)}function u9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function l9(){var n,r,e=Pn().center([105.25,4]),t,i=Pn().center([118.65,2.86]),a,o,f={point:function(l,v){o=[l,v]}};function u(l){var v=l[0],s=l[1];return o=null,t.point(v,s),o||(a.point(v,s),o)}u.invert=function(l){var v=e.scale(),s=e.translate(),h=(l[0]-s[0])/v,g=(l[1]-s[1])/v;return(g>=-.0521&&g<.0229&&h>=-.0111&&h<.1?i:e).invert(l)},u.stream=function(l){return n&&r===l?n:n=u9([e.stream(r=l),i.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),c()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.615),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var v=e.scale(),s=+l[0],h=+l[1];return t=e.translate(l).clipExtent([[s-.11*v,h-.0521*v],[s-.0111*v,h+.0521*v]]).stream(f),a=i.translate([s+.09*v,h-0*v]).clipExtent([[s-.0111*v+A,h-.0521*v+A],[s+.1*v-A,h+.024*v-A]]).stream(f),c()},u.fitExtent=function(l,v){return gr(u,l,v)},u.fitSize=function(l,v){return Pr(u,l,v)};function c(){return n=r=null,u}return u.drawCompositionBorders=function(l){var v=e([106.3214,2.0228]),s=e([105.1843,2.3761]),h=e([104.2151,3.3618]),g=e([104.215,4.5651]);l.moveTo(v[0],v[1]),l.lineTo(s[0],s[1]),l.lineTo(h[0],h[1]),l.lineTo(g[0],g[1])},u.getCompositionBorders=function(){var l=pr();return this.drawCompositionBorders(l),l.toString()},u.scale(4800)}function f9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function s9(){var n,r,e=Pn().rotate([-9.5,-1.5]),t,i=Pn().rotate([-8.6,-3.5]),a,o=Pn().rotate([-5.6,1.45]),f,u,c={point:function(s,h){u=[s,h]}};function l(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(f.point(h,g),u)}l.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=-.02&&d<0&&p>=-.038&&p<-.005?i:d>=0&&d<.02&&p>=-.038&&p<-.005?o:e).invert(s)},l.stream=function(s){return n&&r===s?n:n=f9([e.stream(r=s),i.stream(s),o.stream(s)])},l.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},l.scale=function(s){return arguments.length?(e.scale(s),i.scale(s*1.5),o.scale(s*4),l.translate(e.translate())):e.scale()},l.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.005*h,p-.02*h],[g+.038*h,p+.02*h]]).stream(c),a=i.translate([g-.025*h,p-.01*h]).clipExtent([[g-.038*h+A,p-.02*h+A],[g-.005*h-A,p+0*h-A]]).stream(c),f=o.translate([g-.025*h,p+.01*h]).clipExtent([[g-.038*h+A,p-0*h+A],[g-.005*h-A,p+.02*h-A]]).stream(c),v()},l.fitExtent=function(s,h){return gr(l,s,h)},l.fitSize=function(s,h){return Pr(l,s,h)};function v(){return n=r=null,l}return l.drawCompositionBorders=function(s){var h,g,p,d;h=e([9.21327272751682,2.645820439454123]),g=e([11.679126293239872,2.644755519268689]),p=e([11.676845389029227,.35307824637606433]),d=e([9.213572917774014,.35414205204417754]),s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),h=e([7.320873711543669,2.64475551449975]),g=e([9.213272722738658,2.645820434679803]),p=e([9.213422896480349,1.4999812505283054]),d=e([7.322014760520787,1.4989168878985566]),s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),h=e([7.3220147605302905,1.4989168783492766]),g=e([9.213422896481598,1.499981240979021]),p=e([9.213572912999604,.354142056817247]),d=e([7.323154615739809,.353078251154504]),s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath()},l.getCompositionBorders=function(){var s=pr();return this.drawCompositionBorders(s),s.toString()},l.scale(12e3)}function c9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function v9(){var n,r,e=Vo().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),t,i=Vo().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a,o,f={point:function(l,v){o=[l,v]}};function u(l){var v=l[0],s=l[1];return o=null,t.point(v,s),o||(a.point(v,s),o)}u.invert=function(l){var v=e.scale(),s=e.translate(),h=(l[0]-s[0])/v,g=(l[1]-s[1])/v;return(g>=-.089&&g<.06&&h>=.029&&h<.046?i:e).invert(l)},u.stream=function(l){return n&&r===l?n:n=c9([e.stream(r=l),i.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),c()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var v=e.scale(),s=+l[0],h=+l[1];return t=e.translate(l).clipExtent([[s-.065*v,h-.089*v],[s+.075*v,h+.089*v]]).stream(f),a=i.translate([s+.01*v,h+.025*v]).clipExtent([[s+.029*v+A,h-.089*v+A],[s+.046*v-A,h-.06*v-A]]).stream(f),c()},u.fitExtent=function(l,v){return gr(u,l,v)},u.fitSize=function(l,v){return Pr(u,l,v)};function c(){return n=r=null,u}return u.drawCompositionBorders=function(l){var v,s,h,g;v=e([-1.113205870242365,59.64920050773357]),s=e([.807899092399606,59.59085836472269]),h=e([.5778611961420386,57.93467822832577]),g=e([-1.25867782078448,57.99029450085142]),l.moveTo(v[0],v[1]),l.lineTo(s[0],s[1]),l.lineTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.closePath()},u.getCompositionBorders=function(){var l=pr();return this.drawCompositionBorders(l),l.toString()},u.scale(2800)}var h9=Object.freeze(Object.defineProperty({__proto__:null,geoAlbersUsa:G4,geoAlbersUsaTerritories:H4,geoConicConformalSpain:V4,geoConicConformalPortugal:X4,geoMercatorEcuador:J4,geoTransverseMercatorChile:Z4,geoConicEquidistantJapan:n9,geoConicConformalFrance:e9,geoConicConformalEurope:i9,geoConicConformalNetherlands:o9,geoMercatorMalaysia:l9,geoMercatorEquatorialGuinea:s9,geoAlbersUk:v9},Symbol.toStringTag,{value:"Module"})),g9=te(h9);Object.defineProperty(xu,"__esModule",{value:!0});var Nc=fn.exports,nv=Q,vl=Nc.__importStar(Fi),hl=Nc.__importStar(xp),gl=Nc.__importStar(g9);xu.default=function(n,r){if(r===void 0&&(r=!1),nv.isFunction(n))return r?n:n();if(nv.isString(n)){if(vl[n])return r?vl[n]:vl[n]();if(hl[n])return r?hl[n]:hl[n]();if(gl[n])return r?gl[n]:gl[n]()}return null};Object.defineProperty(Dm,"__esModule",{value:!0});var p9=fn.exports,d9=Q,ie=Fi,rv=xp,m9=Oe,Bt=p9.__importDefault(xu),y9={geoArea:function(n){return ie.geoArea(n)},geoAreaByName:function(n){return ie.geoArea(this.geoFeatureByName(n))},geoCentroid:function(n){return ie.geoCentroid(n)},geoCentroidByName:function(n){return ie.geoCentroid(this.geoFeatureByName(n))},geoDistance:function(n,r){return ie.geoDistance(n,r)},geoLength:function(n){return ie.geoLength(n)},geoLengthByName:function(n){return ie.geoLength(this.geoFeatureByName(n))},geoContains:function(n,r){return ie.geoContains(n,r)},geoFeatureByName:function(n){var r=this.rows,e;return r.some(function(t){return t.name===n?(e=t,!0):!1}),e},geoFeatureByPosition:function(n){var r=this.rows,e;return r.some(function(t){return ie.geoContains(t,n)?(e=t,!0):!1}),e},geoNameByPosition:function(n){var r=this.geoFeatureByPosition(n);if(r)return r.name},getGeoProjection:Bt.default,geoProject:function(n,r,e){return r=Bt.default(r,e),rv.geoProject(n,r)},geoProjectByName:function(n,r,e){return r=Bt.default(r,e),rv.geoProject(this.geoFeatureByName(n),r)},geoProjectPosition:function(n,r,e){var t=Bt.default(r,e);return t(n)},geoProjectInvert:function(n,r,e){var t=Bt.default(r,e);return t.invert(n)}};d9.assign(m9.View.prototype,y9);var w9={};Object.defineProperty(w9,"__esModule",{value:!0});var Bp=Q,Hf=Oe;Bp.assign(Hf.View.prototype,{getAllNodes:function(){var n=[],r=this.root;return r&&r.each?r.each(function(e){n.push(e)}):r&&r.eachNode&&r.eachNode(function(e){n.push(e)}),n},getAllLinks:function(){for(var n=[],r=[this.root],e;e=r.pop();){var t=e.children;t&&t.forEach(function(i){n.push({source:e,target:i}),r.push(i)})}return n}});Bp.assign(Hf.View.prototype,{getAllEdges:Hf.View.prototype.getAllLinks});var E9={},xr={},Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});var pl=Q;function S9(n,r){r===void 0&&(r=[]);var e=void 0;return pl.isFunction(r)?e=r:pl.isArray(r)?e=function(t,i){for(var a=0;a<r.length;a++){var o=r[a];if(t[o]<i[o])return-1;if(t[o]>i[o])return 1}return 0}:pl.isString(r)&&(e=function(t,i){return t[r]<i[r]?-1:t[r]>i[r]?1:0}),n.sort(e)}Ac.default=S9;Object.defineProperty(xr,"__esModule",{value:!0});var _9=fn.exports,ya=Q,$9=_9.__importDefault(Ac);xr.default=function(n,r,e){e===void 0&&(e=[]);var t=n;e&&e.length&&(t=$9.default(n,e));var i;ya.isFunction(r)?i=r:ya.isArray(r)?i=function(o){return"_"+r.map(function(f){return o[f]}).join("-")}:ya.isString(r)&&(i=function(o){return"_"+o[r]});var a=ya.groupBy(t,i);return a};Object.defineProperty(E9,"__esModule",{value:!0});var T9=fn.exports,ev=Q,M9=T9.__importDefault(xr),P9=Oe;ev.assign(P9.View.prototype,{partition:function(n,r){return r===void 0&&(r=[]),M9.default(this.rows,n,r)},group:function(n,r){r===void 0&&(r=[]);var e=this.partition(n,r);return ev.values(e)},groups:function(n,r){return r===void 0&&(r=[]),this.group(n,r)}});var x9={};function R9(n){var r,e,t=n.length;if(t===1)r=0,e=n[0][1];else{for(var i,a,o,f=0,u=0,c=0,l=0,v=0;v<t;v++)f+=a=(i=n[v])[0],u+=o=i[1],c+=a*a,l+=a*o;e=u/t-(r=(t*l-f*u)/(t*c-f*f))*f/t}return{m:r,b:e}}function k9(n){return function(r){return n.b+n.m*r}}function Gp(n){if(n.length===0)return 0;for(var r,e=n[0],t=0,i=1;i<n.length;i++)r=e+n[i],Math.abs(e)>=Math.abs(n[i])?t+=e-r+n[i]:t+=n[i]-r+e,e=r;return e+t}function or(n){if(n.length===0)throw new Error("mean requires at least one data point");return Gp(n)/n.length}function Ic(n,r){var e,t,i=or(n),a=0;if(r===2)for(t=0;t<n.length;t++)a+=(e=n[t]-i)*e;else for(t=0;t<n.length;t++)a+=Math.pow(n[t]-i,r);return a}function Up(n){if(n.length===0)throw new Error("variance requires at least one data point");return Ic(n,2)/n.length}function Hp(n){if(n.length===1)return 0;var r=Up(n);return Math.sqrt(r)}function b9(n,r){if(n.length<2)return 1;for(var e=0,t=0;t<n.length;t++)e+=n[t][1];for(var i=e/n.length,a=0,o=0;o<n.length;o++)a+=Math.pow(i-n[o][1],2);for(var f=0,u=0;u<n.length;u++)f+=Math.pow(n[u][1]-r(n[u][0]),2);return 1-f/a}function Yp(n){if(n.length===0)throw new Error("mode requires at least one data point");if(n.length===1)return n[0];for(var r=n[0],e=NaN,t=0,i=1,a=1;a<n.length+1;a++)n[a]!==r?(i>t&&(t=i,e=r),i=1,r=n[a]):i++;return e}function ku(n){return n.slice().sort(function(r,e){return r-e})}function C9(n){return Yp(ku(n))}function L9(n){for(var r,e=new Map,t=0,i=0;i<n.length;i++){var a=e.get(n[i]);a===void 0?a=1:a++,a>t&&(r=n[i],t=a),e.set(n[i],a)}if(t===0)throw new Error("mode requires at last one data point");return r}function Vp(n){if(n.length===0)throw new Error("min requires at least one data point");for(var r=n[0],e=1;e<n.length;e++)n[e]<r&&(r=n[e]);return r}function jp(n){if(n.length===0)throw new Error("max requires at least one data point");for(var r=n[0],e=1;e<n.length;e++)n[e]>r&&(r=n[e]);return r}function N9(n){if(n.length===0)throw new Error("extent requires at least one data point");for(var r=n[0],e=n[0],t=1;t<n.length;t++)n[t]>e&&(e=n[t]),n[t]<r&&(r=n[t]);return[r,e]}function A9(n){return n[0]}function I9(n){return n[n.length-1]}function D9(n){return[n[0],n[n.length-1]]}function O9(n){for(var r=0,e=0;e<n.length;e++)r+=n[e];return r}function q9(n){for(var r=1,e=0;e<n.length;e++)r*=n[e];return r}function Jo(n,r){var e=n.length*r;if(n.length===0)throw new Error("quantile requires at least one data point.");if(r<0||r>1)throw new Error("quantiles must be between 0 and 1");return r===1?n[n.length-1]:r===0?n[0]:e%1!=0?n[Math.ceil(e)-1]:n.length%2==0?(n[e-1]+n[e])/2:n[e]}function Ei(n,r,e,t){for(e=e||0,t=t||n.length-1;t>e;){if(t-e>600){var i=t-e+1,a=r-e+1,o=Math.log(i),f=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*f*(i-f)/i);a-i/2<0&&(u*=-1),Ei(n,r,Math.max(e,Math.floor(r-a*f/i+u)),Math.min(t,Math.floor(r+(i-a)*f/i+u)))}var c=n[r],l=e,v=t;for(Gt(n,e,r),n[t]>c&&Gt(n,e,t);l<v;){for(Gt(n,l,v),l++,v--;n[l]<c;)l++;for(;n[v]>c;)v--}n[e]===c?Gt(n,e,v):Gt(n,++v,t),v<=r&&(e=v+1),r<=v&&(t=v-1)}}function Gt(n,r,e){var t=n[r];n[r]=n[e],n[e]=t}function Ko(n,r){var e=n.slice();if(Array.isArray(r)){(function(a,o){for(var f=[0],u=0;u<o.length;u++)f.push(iv(a.length,o[u]));f.push(a.length-1),f.sort(F9);for(var c=[0,f.length-1];c.length;){var l=Math.ceil(c.pop()),v=Math.floor(c.pop());if(!(l-v<=1)){var s=Math.floor((v+l)/2);tv(a,f[s],Math.floor(f[v]),Math.ceil(f[l])),c.push(v,s,s,l)}}})(e,r);for(var t=[],i=0;i<r.length;i++)t[i]=Jo(e,r[i]);return t}return tv(e,iv(e.length,r),0,e.length-1),Jo(e,r)}function tv(n,r,e,t){r%1==0?Ei(n,r,e,t):(Ei(n,r=Math.floor(r),e,t),Ei(n,r+1,r+1,t))}function F9(n,r){return n-r}function iv(n,r){var e=n*r;return r===1?n-1:r===0?0:e%1!=0?Math.ceil(e)-1:n%2==0?e-.5:e}function Xp(n,r){if(r<n[0])return 0;if(r>n[n.length-1])return 1;var e=function(a,o){for(var f=0,u=0,c=a.length;u<c;)o<=a[f=u+c>>>1]?c=f:u=-~f;return u}(n,r);if(n[e]!==r)return e/n.length;e++;var t=function(a,o){for(var f=0,u=0,c=a.length;u<c;)o>=a[f=u+c>>>1]?u=-~f:c=f;return u}(n,r);if(t===e)return e/n.length;var i=t-e+1;return i*(t+e)/2/i/n.length}function z9(n,r){return Xp(ku(n),r)}function Yf(n){var r=Ko(n,.75),e=Ko(n,.25);if(typeof r=="number"&&typeof e=="number")return r-e}function Vf(n){return+Ko(n,.5)}function av(n){for(var r=Vf(n),e=[],t=0;t<n.length;t++)e.push(Math.abs(n[t]-r));return Vf(e)}function B9(n,r){var e=[];if(r<1)throw new Error("chunk size must be a positive number");if(Math.floor(r)!==r)throw new Error("chunk size must be an integer");for(var t=0;t<n.length;t+=r)e.push(n.slice(t,t+r));return e}function G9(n,r,e){if(n.length===0)return[];e=e||Math.random;for(var t=n.length,i=[],a=0;a<r;a++){var o=Math.floor(e()*t);i.push(n[o])}return i}function Dc(n,r){r=r||Math.random;for(var e,t,i=n.length;i>0;)t=Math.floor(r()*i--),e=n[i],n[i]=n[t],n[t]=e;return n}function Wp(n,r){return Dc(n.slice().slice(),r)}function U9(n,r,e){return Wp(n,e).slice(0,r)}function Jp(n){for(var r,e=0,t=0;t<n.length;t++)t!==0&&n[t]===r||(r=n[t],e++);return e}function ov(n,r){for(var e=[],t=0;t<n;t++){for(var i=[],a=0;a<r;a++)i.push(0);e.push(i)}return e}function jf(n,r,e,t){var i;if(n>0){var a=(e[r]-e[n-1])/(r-n+1);i=t[r]-t[n-1]-(r-n+1)*a*a}else i=t[r]-e[r]*e[r]/(r+1);return i<0?0:i}function Xf(n,r,e,t,i,a,o){if(!(n>r)){var f=Math.floor((n+r)/2);t[e][f]=t[e-1][f-1],i[e][f]=f;var u=e;n>e&&(u=Math.max(u,i[e][n-1]||0)),u=Math.max(u,i[e-1][f]||0);var c,l,v,s=f-1;r<t.length-1&&(s=Math.min(s,i[e][r+1]||0));for(var h=s;h>=u&&!((c=jf(h,f,a,o))+t[e-1][u-1]>=t[e][f]);--h)(l=jf(u,f,a,o)+t[e-1][u-1])<t[e][f]&&(t[e][f]=l,i[e][f]=u),u++,(v=c+t[e-1][h-1])<t[e][f]&&(t[e][f]=v,i[e][f]=h);Xf(n,f-1,e,t,i,a,o),Xf(f+1,r,e,t,i,a,o)}}function H9(n,r){if(r>n.length)throw new Error("cannot generate more classes than there are data values");var e=ku(n);if(Jp(e)===1)return[e];var t=ov(r,e.length),i=ov(r,e.length);(function(c,l,v){for(var s=l[0].length,h=c[Math.floor(s/2)],g=[],p=[],d=0,S=void 0;d<s;++d)S=c[d]-h,d===0?(g.push(S),p.push(S*S)):(g.push(g[d-1]+S),p.push(p[d-1]+S*S)),l[0][d]=jf(0,d,g,p),v[0][d]=0;for(var m=1;m<l.length;++m)Xf(m<l.length-1?m:s-1,s-1,m,l,v,g,p)})(e,t,i);for(var a=[],o=i[0].length-1,f=i.length-1;f>=0;f--){var u=i[f][o];a[f]=e.slice(u,o+1),f>0&&(o=u-1)}return a}function Y9(n,r){if(n.length<2)return n;for(var e=Vp(n),t=jp(n),i=[e],a=(t-e)/r,o=1;o<r;o++)i.push(i[0]+a*o);return i.push(t),i}function Kp(n,r){if(n.length!==r.length)throw new Error("sampleCovariance requires samples with equal lengths");if(n.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var e=or(n),t=or(r),i=0,a=0;a<n.length;a++)i+=(n[a]-e)*(r[a]-t);return i/(n.length-1)}function Zo(n){if(n.length<2)throw new Error("sampleVariance requires at least two data points");return Ic(n,2)/(n.length-1)}function Qo(n){var r=Zo(n);return Math.sqrt(r)}function V9(n,r){return Kp(n,r)/Qo(n)/Qo(r)}function j9(n){if(n.length<3)throw new Error("sampleSkewness requires at least three data points");for(var r,e=or(n),t=0,i=0,a=0;a<n.length;a++)t+=(r=n[a]-e)*r,i+=r*r*r;var o=Math.sqrt(t/(n.length-1)),f=n.length;return f*i/((f-1)*(f-2)*Math.pow(o,3))}function X9(n){var r=n.length;if(r<4)throw new Error("sampleKurtosis requires at least four data points");for(var e,t=or(n),i=0,a=0,o=0;o<r;o++)i+=(e=n[o]-t)*e,a+=e*e*e*e;return(r-1)/((r-2)*(r-3))*(r*(r+1)*a/(i*i)-3*(r-1))}function W9(n){for(var r=new Array(n.length),e=[n.slice()],t=0;t<n.length;t++)r[t]=0;for(var i=0;i<n.length;)if(r[i]<i){var a=0;i%2!=0&&(a=r[i]);var o=n[a];n[a]=n[i],n[i]=o,e.push(n.slice()),r[i]++,i=0}else r[i]=0,i++;return e}function Zp(n,r){var e,t,i,a,o=[];for(e=0;e<n.length;e++)if(r===1)o.push([n[e]]);else for(i=Zp(n.slice(e+1,n.length),r-1),t=0;t<i.length;t++)(a=i[t]).unshift(n[e]),o.push(a);return o}function Qp(n,r){for(var e=[],t=0;t<n.length;t++)if(r===1)e.push([n[t]]);else for(var i=Qp(n.slice(t,n.length),r-1),a=0;a<i.length;a++)e.push([n[t]].concat(i[a]));return e}function J9(n,r,e){return n+(e-n)/(r+1)}function nd(n,r,e,t){return(n*r+e*t)/(r+t)}function K9(n,r,e,t,i,a){var o=nd(r,e,i,a);return(e*(n+Math.pow(r-o,2))+a*(t+Math.pow(i-o,2)))/(e+a)}function Z9(n){if(n.length===0)throw new Error("geometricMean requires at least one data point");for(var r=1,e=0;e<n.length;e++){if(n[e]<=0)throw new Error("geometricMean requires only positive numbers as input");r*=n[e]}return Math.pow(r,1/n.length)}function Q9(n){if(n.length===0)throw new Error("harmonicMean requires at least one data point");for(var r=0,e=0;e<n.length;e++){if(n[e]<=0)throw new Error("harmonicMean requires only positive numbers as input");r+=1/n[e]}return n.length/r}function nE(n){return Jo(n,.5)}function rE(n,r,e){return(n*r-e)/(r-1)}function uv(n){if(n.length===0)throw new Error("rootMeanSquare requires at least one data point");for(var r=0,e=0;e<n.length;e++)r+=Math.pow(n[e],2);return Math.sqrt(r/n.length)}function eE(n,r){return(or(n)-r)/(Hp(n)/Math.sqrt(n.length))}function tE(n,r,e){var t=n.length,i=r.length;if(!t||!i)return null;e||(e=0);var a=or(n),o=or(r),f=Zo(n),u=Zo(r);return typeof a=="number"&&typeof o=="number"&&typeof f=="number"&&typeof u=="number"?(a-o-e)/Math.sqrt(((t-1)*f+(i-1)*u)/(t+i-2)*(1/t+1/i)):void 0}function nu(){this.totalCount=0,this.data={}}function ru(){this.weights=[],this.bias=0}nu.prototype.train=function(n,r){for(var e in this.data[r]||(this.data[r]={}),n){var t=n[e];this.data[r][e]===void 0&&(this.data[r][e]={}),this.data[r][e][t]===void 0&&(this.data[r][e][t]=0),this.data[r][e][t]++}this.totalCount++},nu.prototype.score=function(n){var r,e={};for(var t in n){var i=n[t];for(r in this.data)e[r]={},e[r][t+"_"+i]=this.data[r][t]?(this.data[r][t][i]||0)/this.totalCount:0}var a={};for(r in e)for(var o in a[r]=0,e[r])a[r]+=e[r][o];return a},ru.prototype.predict=function(n){if(n.length!==this.weights.length)return null;for(var r=0,e=0;e<this.weights.length;e++)r+=this.weights[e]*n[e];return(r+=this.bias)>0?1:0},ru.prototype.train=function(n,r){if(r!==0&&r!==1)return null;n.length!==this.weights.length&&(this.weights=n,this.bias=1);var e=this.predict(n);if(e!==r){for(var t=r-e,i=0;i<this.weights.length;i++)this.weights[i]+=t*n[i];this.bias+=t}return this};var Ci=1e-4;function rd(n){if(n<0)throw new Error("factorial requires a non-negative value");if(Math.floor(n)!==n)throw new Error("factorial requires an integer input");for(var r=1,e=2;e<=n;e++)r*=e;return r}function ed(n){if(typeof(r=n)=="number"&&isFinite(r)&&Math.floor(r)===r)return n<=0?NaN:rd(n-1);var r;if(--n<0)return Math.PI/(Math.sin(Math.PI*-n)*ed(-n));var e=n+.25;return Math.pow(n/Math.E,n)*Math.sqrt(2*Math.PI*(n+1/6))*(1+1/144/Math.pow(e,2)-1/12960/Math.pow(e,3)-257/207360/Math.pow(e,4)-52/2612736/Math.pow(e,5)+5741173/9405849600/Math.pow(e,6)+37529/18811699200/Math.pow(e,7))}var lv=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],iE=607/128,aE=Math.log(Math.sqrt(2*Math.PI));function oE(n){if(n<=0)return 1/0;n--;for(var r=lv[0],e=1;e<15;e++)r+=lv[e]/(n+e);var t=iE+.5+n;return aE+Math.log(r)-t+(n+.5)*Math.log(t)}function uE(n){if(n<0||n>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-n,n]}function lE(n,r){if(!(r<0||r>1||n<=0||n%1!=0)){var e=0,t=0,i=[],a=1;do i[e]=a*Math.pow(r,e)*Math.pow(1-r,n-e),t+=i[e],a=a*(n-++e+1)/e;while(t<1-Ci);return i}}function fE(n){if(!(n<=0)){var r=0,e=0,t=[],i=1;do t[r]=Math.exp(-n)*Math.pow(n,r)/i,e+=t[r],i*=++r;while(e<1-Ci);return t}}var td={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};function sE(n,r,e){for(var t=0,i=r(or(n)),a=[],o=[],f=0;f<n.length;f++)a[n[f]]===void 0&&(a[n[f]]=0),a[n[f]]++;for(var u=0;u<a.length;u++)a[u]===void 0&&(a[u]=0);for(var c in i)c in a&&(o[+c]=i[c]*n.length);for(var l=o.length-1;l>=0;l--)o[l]<3&&(o[l-1]+=o[l],o.pop(),a[l-1]+=a[l],a.pop());for(var v=0;v<a.length;v++)t+=Math.pow(a[v]-o[v],2)/o[v];return td[a.length-1-1][e]<t}var cE=Math.sqrt(2*Math.PI),dl={gaussian:function(n){return Math.exp(-.5*n*n)/cE}},ml={nrd:function(n){var r=Qo(n),e=Yf(n);return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*Math.pow(n.length,-.2)}};function fv(n,r,e){var t,i;if(r===void 0)t=dl.gaussian;else if(typeof r=="string"){if(!dl[r])throw new Error('Unknown kernel "'+r+'"');t=dl[r]}else t=r;if(e===void 0)i=ml.nrd(n);else if(typeof e=="string"){if(!ml[e])throw new Error('Unknown bandwidth method "'+e+'"');i=ml[e](n)}else i=e;return function(a){var o=0,f=0;for(o=0;o<n.length;o++)f+=t((a-n[o])/i);return f/i/n.length}}function vE(n,r,e){return(n-r)/e}var hE=Math.sqrt(2*Math.PI);function gE(n){for(var r=n,e=n,t=1;t<15;t++)r+=e*=n*n/(2*t+1);return Math.round(1e4*(.5+r/hE*Math.exp(-n*n/2)))/1e4}for(var Si=[],yl=0;yl<=3.09;yl+=.01)Si.push(gE(yl));function pE(n){var r=Math.abs(n),e=Math.min(Math.round(100*r),Si.length-1);return n>=0?Si[e]:+(1-Si[e]).toFixed(4)}function sv(n){var r=1/(1+.5*Math.abs(n)),e=r*Math.exp(-Math.pow(n,2)-1.26551223+1.00002368*r+.37409196*Math.pow(r,2)+.09678418*Math.pow(r,3)-.18628806*Math.pow(r,4)+.27886807*Math.pow(r,5)-1.13520398*Math.pow(r,6)+1.48851587*Math.pow(r,7)-.82215223*Math.pow(r,8)+.17087277*Math.pow(r,9));return n>=0?1-e:e-1}function id(n){var r=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),e=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*r)+Math.log(1-n*n)/2,2)-Math.log(1-n*n)/r)-(2/(Math.PI*r)+Math.log(1-n*n)/2));return n>=0?e:-e}function dE(n){return n===0?n=Ci:n>=1&&(n=1-Ci),Math.sqrt(2)*id(2*n-1)}function mE(n,r,e,t){if(t===void 0&&(t=1e4),e===void 0&&(e="two_side"),e!=="two_side"&&e!=="greater"&&e!=="less")throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var i=or(n)-or(r),a=new Array(t),o=n.concat(r),f=Math.floor(o.length/2),u=0;u<t;u++){Dc(o);var c=o.slice(0,f),l=o.slice(f,o.length),v=or(c)-or(l);a[u]=v}var s=0;if(e==="two_side")for(var h=0;h<=t;h++)Math.abs(a[h])>=Math.abs(i)&&(s+=1);else if(e==="greater")for(var g=0;g<=t;g++)a[g]>=i&&(s+=1);else for(var p=0;p<=t;p++)a[p]<=i&&(s+=1);return s/t}function Wf(n){if(typeof n=="number")return n<0?-1:n===0?0:1;throw new TypeError("not a number")}function yE(n,r,e,t,i){if(typeof n!="function")throw new TypeError("func must be a function");for(var a=0;a<t;a++){var o=(r+e)/2;if(n(o)===0||Math.abs((e-r)/2)<i)return o;Wf(n(o))===Wf(n(r))?r=o:e=o}throw new Error("maximum number of iterations exceeded")}var wE=Object.freeze(Object.defineProperty({__proto__:null,linearRegression:R9,linearRegressionLine:k9,standardDeviation:Hp,rSquared:b9,mode:C9,modeFast:L9,modeSorted:Yp,min:Vp,max:jp,extent:N9,minSorted:A9,maxSorted:I9,extentSorted:D9,sum:Gp,sumSimple:O9,product:q9,quantile:Ko,quantileSorted:Jo,quantileRank:z9,quantileRankSorted:Xp,interquartileRange:Yf,iqr:Yf,medianAbsoluteDeviation:av,mad:av,chunk:B9,sampleWithReplacement:G9,shuffle:Wp,shuffleInPlace:Dc,sample:U9,ckmeans:H9,uniqueCountSorted:Jp,sumNthPowerDeviations:Ic,equalIntervalBreaks:Y9,sampleCovariance:Kp,sampleCorrelation:V9,sampleVariance:Zo,sampleStandardDeviation:Qo,sampleSkewness:j9,sampleKurtosis:X9,permutationsHeap:W9,combinations:Zp,combinationsReplacement:Qp,addToMean:J9,combineMeans:nd,combineVariances:K9,geometricMean:Z9,harmonicMean:Q9,average:or,mean:or,median:Vf,medianSorted:nE,subtractFromMean:rE,rootMeanSquare:uv,rms:uv,variance:Up,tTest:eE,tTestTwoSample:tE,BayesianClassifier:nu,bayesian:nu,PerceptronModel:ru,perceptron:ru,epsilon:Ci,factorial:rd,gamma:ed,gammaln:oE,bernoulliDistribution:uE,binomialDistribution:lE,poissonDistribution:fE,chiSquaredDistributionTable:td,chiSquaredGoodnessOfFit:sE,kernelDensityEstimation:fv,kde:fv,zScore:vE,cumulativeStdNormalProbability:pE,get standardNormalTable(){return Si},errorFunction:sv,erf:sv,inverseErrorFunction:id,probit:dE,permutationTest:mE,bisect:yE,quickselect:Ei,sign:Wf,numericSort:ku},Symbol.toStringTag,{value:"Module"})),we=te(wE),bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.default=function(n){for(var r=1/n,e=[],t=0;t<=1;t=t+r)e.push(t);return e};var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]};Object.defineProperty(x9,"__esModule",{value:!0});var Oc=fn.exports,ad=Oc.__importStar(we),Ba=Q,Jf=Oe,EE=Oc.__importDefault(bu),SE=Oc.__importDefault(Cu),_E=SE.default.STATISTICS_METHODS;function Kf(n,r){var e=n.getColumn(r);return Ba.isArray(e)&&Ba.isArray(e[0])&&(e=Ba.flattenDeep(e)),e}_E.forEach(function(n){Jf.View.prototype[n]=function(r){return ad[n](Kf(this,r))}});var cv=ad.quantile;Ba.assign(Jf.View.prototype,{average:Jf.View.prototype.mean,quantile:function(n,r){return cv(Kf(this,n),r)},quantiles:function(n,r){var e=Kf(this,n);return r.map(function(t){return cv(e,t)})},quantilesByFraction:function(n,r){return this.quantiles(n,EE.default(r))},range:function(n){return[this.min(n),this.max(n)]},extent:function(n){return this.range(n)}});var $E={},W={};Object.defineProperty(W,"__esModule",{value:!0});W.DataSet=void 0;var qc=fn.exports,ct=Q,TE=qc.__importDefault(xc.exports),Ga=Oe,od=qc.__importDefault(Cu),Li=function(n){qc.__extends(r,n);function r(e){e===void 0&&(e={state:{}});var t=n.call(this)||this;return t.isDataSet=!0,t._onChangeTimer=null,t.views={},t.state={},t.state=e.state,t}return r.registerConnector=function(e,t){r.connectors[e]=t},r.getConnector=function(e){return r.connectors[e]||r.connectors.default},r.registerTransform=function(e,t){r.transforms[e]=t},r.getTransform=function(e){return r.transforms[e]||r.transforms.default},r.prototype._getUniqueViewName=function(){for(var e=ct.uniqueId("view_");this.views[e];)e=ct.uniqueId("view_");return e},r.prototype.createView=function(e,t){if(ct.isNil(e)&&(e=this._getUniqueViewName()),ct.isObject(e)&&(t=e,e=this._getUniqueViewName()),this.views[e])throw new Error("data view exists: "+e);var i=new Ga.View(this,t);return this.views[e]=i,i},r.prototype.getView=function(e){return this.views[e]},r.prototype.setView=function(e,t){this.views[e]=t},r.prototype.setState=function(e,t){var i=this;this.state[e]=t,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout(function(){i.emit("statechange",e,t)},16)},r.CONSTANTS=od.default,r.connectors={},r.transforms={},r.DataSet=r,r.DataView=Ga.View,r.View=Ga.View,r.version="____DATASET_VERSION____",r}(TE.default);W.DataSet=Li;ct.assign(Li,od.default);ct.assign(Li.prototype,{view:Li.prototype.createView});Ga.View.DataSet=Li;Object.defineProperty($E,"__esModule",{value:!0});var vv=Q,ME=W;ME.DataSet.registerConnector("default",function(n,r){var e;if(vv.isString(n)?e=r.getView(n):e=n,!e)throw new TypeError("Invalid dataView");return vv.deepMix([],e.rows)});var PE={},hv={},wl={},El=34,Ut=10,Sl=13;function ud(n){return new Function("d","return {"+n.map(function(r,e){return JSON.stringify(r)+": d["+e+'] || ""'}).join(",")+"}")}function xE(n,r){var e=ud(n);return function(t,i){return r(e(t),i,n)}}function gv(n){var r=Object.create(null),e=[];return n.forEach(function(t){for(var i in t)i in r||e.push(r[i]=i)}),e}function lr(n,r){var e=n+"",t=e.length;return t<r?new Array(r-t+1).join(0)+e:e}function RE(n){return n<0?"-"+lr(-n,6):n>9999?"+"+lr(n,6):lr(n,4)}function kE(n){var r=n.getUTCHours(),e=n.getUTCMinutes(),t=n.getUTCSeconds(),i=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":RE(n.getUTCFullYear())+"-"+lr(n.getUTCMonth()+1,2)+"-"+lr(n.getUTCDate(),2)+(i?"T"+lr(r,2)+":"+lr(e,2)+":"+lr(t,2)+"."+lr(i,3)+"Z":t?"T"+lr(r,2)+":"+lr(e,2)+":"+lr(t,2)+"Z":e||r?"T"+lr(r,2)+":"+lr(e,2)+"Z":"")}function Fc(n){var r=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function t(v,s){var h,g,p=i(v,function(d,S){if(h)return h(d,S-1);g=d,h=s?xE(d,s):ud(d)});return p.columns=g||[],p}function i(v,s){var h=[],g=v.length,p=0,d=0,S,m=g<=0,y=!1;v.charCodeAt(g-1)===Ut&&--g,v.charCodeAt(g-1)===Sl&&--g;function E(){if(m)return wl;if(y)return y=!1,hv;var T,k=p,P;if(v.charCodeAt(k)===El){for(;p++<g&&v.charCodeAt(p)!==El||v.charCodeAt(++p)===El;);return(T=p)>=g?m=!0:(P=v.charCodeAt(p++))===Ut?y=!0:P===Sl&&(y=!0,v.charCodeAt(p)===Ut&&++p),v.slice(k+1,T-1).replace(/""/g,'"')}for(;p<g;){if((P=v.charCodeAt(T=p++))===Ut)y=!0;else if(P===Sl)y=!0,v.charCodeAt(p)===Ut&&++p;else if(P!==e)continue;return v.slice(k,T)}return m=!0,v.slice(k,g)}for(;(S=E())!==wl;){for(var $=[];S!==hv&&S!==wl;)$.push(S),S=E();s&&($=s($,d++))==null||h.push($)}return h}function a(v,s){return v.map(function(h){return s.map(function(g){return l(h[g])}).join(n)})}function o(v,s){return s==null&&(s=gv(v)),[s.map(l).join(n)].concat(a(v,s)).join(`
`)}function f(v,s){return s==null&&(s=gv(v)),a(v,s).join(`
`)}function u(v){return v.map(c).join(`
`)}function c(v){return v.map(l).join(n)}function l(v){return v==null?"":v instanceof Date?kE(v):r.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:t,parseRows:i,format:o,formatBody:f,formatRows:u,formatRow:c,formatValue:l}}var rt=Fc(","),bE=rt.parse,CE=rt.parseRows,LE=rt.format,NE=rt.formatBody,AE=rt.formatRows,IE=rt.formatRow,DE=rt.formatValue,et=Fc("	"),OE=et.parse,qE=et.parseRows,FE=et.format,zE=et.formatBody,BE=et.formatRows,GE=et.formatRow,UE=et.formatValue;function HE(n){for(var r in n){var e=n[r].trim(),t,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(t=+e))e=t;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))YE&&!!i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[r]=e}return n}var YE=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),VE=Object.freeze(Object.defineProperty({__proto__:null,dsvFormat:Fc,csvParse:bE,csvParseRows:CE,csvFormat:LE,csvFormatBody:NE,csvFormatRows:AE,csvFormatRow:IE,csvFormatValue:DE,tsvParse:OE,tsvParseRows:qE,tsvFormat:FE,tsvFormatBody:zE,tsvFormatRows:BE,tsvFormatRow:GE,tsvFormatValue:UE,autoType:HE},Symbol.toStringTag,{value:"Module"})),jE=te(VE);Object.defineProperty(PE,"__esModule",{value:!0});var XE=Q,zc=jE,Bc=W;Bc.DataSet.registerConnector("dsv",function(n,r){r===void 0&&(r={});var e=r.delimiter||",";if(!XE.isString(e))throw new TypeError("Invalid delimiter: must be a string!");return zc.dsvFormat(e).parse(n)});Bc.DataSet.registerConnector("csv",function(n){return zc.csvParse(n)});Bc.DataSet.registerConnector("tsv",function(n){return zc.tsvParse(n)});var ld={};Object.defineProperty(ld,"__esModule",{value:!0});var WE=Fi,JE=W;function fd(n,r){r.dataType="geo-graticule";var e=WE.geoGraticule().lines();return e.map(function(t,i){return t.index=""+i,t}),r.rows=e,e}ld.default=fd;JE.DataSet.registerConnector("geo-graticule",fd);var Gc={},KE=QE,_l={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ZE=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function QE(n){var r=[];return n.replace(ZE,function(e,t,i){var a=t.toLowerCase();for(i=r6(i),a=="m"&&i.length>2&&(r.push([t].concat(i.splice(0,2))),a="l",t=t=="m"?"l":"L");;){if(i.length==_l[a])return i.unshift(t),r.push(i);if(i.length<_l[a])throw new Error("malformed path data");r.push([t].concat(i.splice(0,_l[a])))}}),r}var n6=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function r6(n){var r=n.match(n6);return r?r.map(Number):[]}var e6=t6;function t6(n){var r=0,e=0,t=0,i=0;return n.map(function(a){a=a.slice();var o=a[0],f=o.toUpperCase();if(o!=f)switch(a[0]=f,o){case"a":a[6]+=t,a[7]+=i;break;case"v":a[1]+=i;break;case"h":a[1]+=t;break;default:for(var u=1;u<a.length;)a[u++]+=t,a[u++]+=i}switch(f){case"Z":t=r,i=e;break;case"H":t=a[1];break;case"V":i=a[1];break;case"M":t=r=a[1],i=e=a[2];break;default:t=a[a.length-2],i=a[a.length-1]}return a})}var i6=KE,a6=ym,o6=e6,sd=bt;function bt(n){if(!(this instanceof bt))return new bt(n);this._path=a6(n)?n:i6(n),this._path=o6(this._path),this._path=l6(this._path),this._path=u6(this._path)}bt.prototype.at=function(n,r){return this._walk(n,r).pos};bt.prototype.length=function(){return this._walk(null).length};bt.prototype._walk=function(n,r){for(var e=[0,0],t=[0,0,0],i=[0,0],a=0,o=0;o<this._path.length;o++){var f=this._path[o];if(f[0]==="M"){if(e[0]=f[1],e[1]=f[2],n===0)return{length:a,pos:e}}else if(f[0]==="C"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var u=100,c=0;c<=u;c++){var l=c/u,v=p(f,l),s=d(f,l);if(a+=$l(e[0],e[1],v,s),e[0]=v,e[1]=s,typeof n=="number"&&a>=n){var h=(a-n)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(f[0]==="Q"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var u=100,c=0;c<=u;c++){var l=c/u,v=S(f,l),s=m(f,l);if(a+=$l(e[0],e[1],v,s),e[0]=v,e[1]=s,typeof n=="number"&&a>=n){var h=(a-n)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(f[0]==="L"){if(t[0]=e[0],t[1]=e[1],t[2]=a,a+=$l(e[0],e[1],f[1],f[2]),e[0]=f[1],e[1]=f[2],typeof n=="number"&&a>=n){var h=(a-n)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}return{length:a,pos:e};function p(y,E){return Math.pow(1-E,3)*i[0]+3*Math.pow(1-E,2)*E*y[1]+3*(1-E)*Math.pow(E,2)*y[3]+Math.pow(E,3)*y[5]}function d(y,E){return Math.pow(1-E,3)*i[1]+3*Math.pow(1-E,2)*E*y[2]+3*(1-E)*Math.pow(E,2)*y[4]+Math.pow(E,3)*y[6]}function S(y,E){return Math.pow(1-E,2)*i[0]+2*(1-E)*E*y[1]+Math.pow(E,2)*y[3]}function m(y,E){return Math.pow(1-E,2)*i[1]+2*(1-E)*E*y[2]+Math.pow(E,2)*y[4]}};function $l(n,r,e,t){var i=n-e,a=r-t;return Math.sqrt(i*i+a*a)}function u6(n){for(var r,e=0,t=0,i={S:{to:"C",x:3},T:{to:"Q",x:1}},a=0,o=n.length;a<o;a++){var f=n[a],u=i[f[0]];u&&(f[0]=u.to,r&&(r[0]===u.to?(e=2*r[u.x+2]-r[u.x],t=2*r[u.x+3]-r[u.x+1]):(e=r[r.length-2],t=r[r.length-1])),f.splice(1,0,e,t)),r=f}return n}function l6(n){for(var r=[],e=["L",0,0],t,i=0,a=n.length;i<a;i++){var o=n[i];switch(o[0]){case"M":e=["L",o[1],o[2]],r.push(o);break;case"Z":r.push(e);break;case"H":t=r[r.length-1]||["L",0,0],r.push(["L",o[1],t[t.length-1]]);break;case"V":t=r[r.length-1]||["L",0,0],r.push(["L",t[t.length-2],o[1]]);break;default:r.push(o)}}return r}Object.defineProperty(Gc,"__esModule",{value:!0});var f6=fn.exports,s6=f6.__importDefault(sd),c6=Q,v6=Fi,Lu=W,pv=v6.geoPath();function Nu(n,r,e){e.dataType=Lu.DataSet.CONSTANTS.GEO;var t=c6.deepMix([],n.features);return t.forEach(function(i){i.name=i.properties.name,i.longitude=[],i.latitude=[];var a=i.pathData=pv(i),o=s6.default(a);o._path.forEach(function(u){i.longitude.push(u[1]),i.latitude.push(u[2])});var f=pv.centroid(i);i.centroidX=f[0],i.centroidY=f[1]}),t}Lu.DataSet.registerConnector("geo",Nu);Lu.DataSet.registerConnector("geojson",Nu);Lu.DataSet.registerConnector("GeoJSON",Nu);Gc.default=Nu;var h6={};Object.defineProperty(h6,"__esModule",{value:!0});var wa=Q,Uc=W,g6={nodes:function(n){return n.nodes},edges:function(n){return n.edges}};function cd(n,r,e){r=wa.assign({},g6,r),e.dataType=Uc.DataSet.CONSTANTS.GRAPH;var t=r.nodes,i=r.edges;if(t&&!wa.isFunction(t))throw new TypeError("Invalid nodes: must be a function!");if(i&&!wa.isFunction(i))throw new TypeError("Invalid edges: must be a function!");return e.rows=e.graph={nodes:t(n),edges:i(n)},wa.assign(e,e.graph),e.rows}Uc.DataSet.registerConnector("graph",cd);Uc.DataSet.registerConnector("diagram",cd);var vd={};function p6(n,r,e){var t=n.layout,i=[],a=0;Object.keys(n.hexes).forEach(function(p){n.hexes[p].key=p,i.push(n.hexes[p])});var o=Ce(i,function(p){return+p.q}),f=Zn(i,function(p){return+p.q}),u=Ce(i,function(p){return+p.r}),c=Zn(i,function(p){return+p.r}),l=o-f+1,v=u-c+1;t==="odd-r"||t==="even-r"?a=Zn([r/((l+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):a=Zn([e/((v+.5)*Math.sqrt(3)),r/((l+1/3)*1.5)]);var s=a*Math.sqrt(3),h=d6(t,s,a),g=m6(h);return i.forEach(function(p){p.qc=p.q-f,p.rc=u-p.r,p.x=Hc(p,t,s,a),p.y=Yc(p,t,s,a),p.vertices=h,p.points=g}),i}function Hc(n,r,e,t){var i=0,a=0;switch(r){case"odd-r":a=n.rc%2===1?e:e/2,i=n.qc*e+a;break;case"even-r":a=n.rc%2===0?e:e/2,i=n.qc*e+a;break;case"odd-q":case"even-q":i=n.qc*t*1.5+t;break}return i}function Yc(n,r,e,t){var i=0,a=0;switch(r){case"odd-r":case"even-r":i=n.rc*t*1.5+t;break;case"odd-q":a=n.qc%2===1?e:e/2,i=n.rc*e+a;break;case"even-q":a=n.qc%2===0?e:e/2,i=n.rc*e+a;break}return i}function d6(n,r,e){var t=[];switch(n){case"odd-r":case"even-r":t.push({x:0,y:0-e}),t.push({x:0+r*.5,y:0-.5*e}),t.push({x:0+r*.5,y:0+.5*e}),t.push({x:0,y:0+e}),t.push({x:0-r*.5,y:0+.5*e}),t.push({x:0-r*.5,y:0-.5*e});break;case"odd-q":case"even-q":t.push({x:0-e,y:0}),t.push({x:0-.5*e,y:0-r*.5}),t.push({x:0+.5*e,y:0-r*.5}),t.push({x:0+e,y:0}),t.push({x:0+.5*e,y:0+r*.5}),t.push({x:0-.5*e,y:0+r*.5});break}return t}function m6(n){var r="";return n.forEach(function(e){r+=e.x+","+e.y+" "}),r.substring(0,r.length-1)}function y6(n){var r={};r.layout=n.layout,r.hexes={};var e=[];Object.keys(n.hexes).forEach(function(l){e.push(n.hexes[l])});var t=Ce(e,function(l){return+l.q}),i=Zn(e,function(l){return+l.q}),a=Ce(e,function(l){return+l.r}),o=Zn(e,function(l){return+l.r}),f,u,c;for(f=i;f<=t;f++)for(u=o;u<=a;u++)c="Q"+f+"R"+u,r.hexes[c]={q:f,r:u};return r}function w6(n,r,e,t){var i=[],a=n.layout;Object.keys(n.hexes).forEach(function(P){i.push(n.hexes[P])});var o=Ce(i,function(P){return+P.q}),f=Zn(i,function(P){return+P.q}),u=Ce(i,function(P){return+P.r}),c=Zn(i,function(P){return+P.r}),l=o-f+1,v=u-c+1,s;a==="odd-r"||a==="even-r"?s=Zn([r/((l+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):s=Zn([e/((v+.5)*Math.sqrt(3)),r/((l+1/3)*1.5)]);var h=s*Math.sqrt(3),g=[],p=s*s*4,d=i.length;if(d>1){i.forEach(function(P){P.qc=P.q-f,P.rc=u-P.r,P.x=Hc(P,a,h,s),P.y=Yc(P,a,h,s)});for(var S=0;S<d-1;S++)for(var m=S+1;m<d;m++){var y=i[S],E=i[m];if(y[t]!==E[t]&&Math.abs(y.q-E.q)<=1&&Math.abs(y.r-E.r)<=1&&(y.x-E.x)*(y.x-E.x)+(y.y-E.y)*(y.y-E.y)<p){var $={};$.x=E.x+(y.x-E.x)/2,$.y=E.y+(y.y-E.y)/2;var T={},k=Math.sqrt(3)*4;T.dx=(y.y-E.y)/k,T.dy=-(y.x-E.x)/k,g.push({x:$.x-2*T.dx,y:$.y-2*T.dy}),g.push({x:$.x-T.dx,y:$.y-T.dy}),g.push({x:$.x,y:$.y}),g.push({x:$.x+T.dx,y:$.y+T.dy}),g.push({x:$.x+2*T.dx,y:$.y+2*T.dy})}}}return g}function E6(n,r,e,t){var i=[],a=n.layout;Object.keys(n.hexes).forEach(function(R){i.push(n.hexes[R])});var o=Ce(i,function(R){return+R.q}),f=Zn(i,function(R){return+R.q}),u=Ce(i,function(R){return+R.r}),c=Zn(i,function(R){return+R.r}),l=o-f+1,v=u-c+1,s;a==="odd-r"||a==="even-r"?s=Zn([r/((l+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):s=Zn([e/((v+.5)*Math.sqrt(3)),r/((l+1/3)*1.5)]);var h=s*Math.sqrt(3),g=[],p=s*s*4,d=i.length;if(d>1){i.forEach(function(R){R.qc=R.q-f,R.rc=u-R.r,R.x=Hc(R,a,h,s),R.y=Yc(R,a,h,s)});for(var S=0;S<d-1;S++)for(var m=S+1;m<d;m++){var y=i[S],E=i[m];if(y[t]!==E[t]&&Math.abs(y.q-E.q)<=1&&Math.abs(y.r-E.r)<=1&&(y.x-E.x)*(y.x-E.x)+(y.y-E.y)*(y.y-E.y)<p){var $={};$.x=E.x+(y.x-E.x)/2,$.y=E.y+(y.y-E.y)/2;var T={},k=1;y[t]<E[t]&&(k=-1);var P=Math.sqrt(3)*2*k;T.dx=(y.y-E.y)/P,T.dy=-(y.x-E.x)/P,g.push({x1:$.x-T.dx,y1:$.y-T.dy,x2:$.x+T.dx,y2:$.y+T.dy})}}}return g}var S6=Object.freeze(Object.defineProperty({__proto__:null,renderHexJSON:p6,getGridForHexJSON:y6,getBoundaryDotsForHexJSON:w6,getBoundarySegmentsForHexJSON:E6},Symbol.toStringTag,{value:"Module"})),_6=te(S6);Object.defineProperty(vd,"__esModule",{value:!0});var dv=Q,Tl=_6,Ui=W,$6={width:1,height:1};function mv(n){return n.cx=n.x,n.cy=n.y,n.x=[],n.y=[],n.vertices.forEach(function(r){n.x.push(r.x+n.cx),n.y.push(r.y+n.cy)}),n}function Hi(n,r,e){e.dataType=Ui.DataSet.CONSTANTS.HEX,r=dv.assign({},$6,r);var t=r.width,i=r.height,a=dv.deepMix([],n);e._HexJSON=a;var o=e._GridHexJSON=Tl.getGridForHexJSON(a),f=e.rows=Tl.renderHexJSON(a,t,i).map(mv);return e._gridRows=Tl.renderHexJSON(o,t,i).map(mv),f}Ui.DataSet.registerConnector("hex",Hi);Ui.DataSet.registerConnector("hexjson",Hi);Ui.DataSet.registerConnector("hex-json",Hi);Ui.DataSet.registerConnector("HexJSON",Hi);vd.default=Hi;var T6={};function M6(n,r){return n.parent===r.parent?1:2}function P6(n){return n.reduce(x6,0)/n.length}function x6(n,r){return n+r.x}function R6(n){return 1+n.reduce(k6,0)}function k6(n,r){return Math.max(n,r.y)}function b6(n){for(var r;r=n.children;)n=r[0];return n}function C6(n){for(var r;r=n.children;)n=r[r.length-1];return n}function L6(){var n=M6,r=1,e=1,t=!1;function i(a){var o,f=0;a.eachAfter(function(s){var h=s.children;h?(s.x=P6(h),s.y=R6(h)):(s.x=o?f+=n(s,o):0,s.y=0,o=s)});var u=b6(a),c=C6(a),l=u.x-n(u,c)/2,v=c.x+n(c,u)/2;return a.eachAfter(t?function(s){s.x=(s.x-a.x)*r,s.y=(a.y-s.y)*e}:function(s){s.x=(s.x-l)/(v-l)*r,s.y=(1-(a.y?s.y/a.y:1))*e})}return i.separation=function(a){return arguments.length?(n=a,i):n},i.size=function(a){return arguments.length?(t=!1,r=+a[0],e=+a[1],i):t?null:[r,e]},i.nodeSize=function(a){return arguments.length?(t=!0,r=+a[0],e=+a[1],i):t?[r,e]:null},i}function N6(n){var r=0,e=n.children,t=e&&e.length;if(!t)r=1;else for(;--t>=0;)r+=e[t].value;n.value=r}function A6(){return this.eachAfter(N6)}function I6(n){var r=this,e,t=[r],i,a,o;do for(e=t.reverse(),t=[];r=e.pop();)if(n(r),i=r.children,i)for(a=0,o=i.length;a<o;++a)t.push(i[a]);while(t.length);return this}function D6(n){for(var r=this,e=[r],t,i;r=e.pop();)if(n(r),t=r.children,t)for(i=t.length-1;i>=0;--i)e.push(t[i]);return this}function O6(n){for(var r=this,e=[r],t=[],i,a,o;r=e.pop();)if(t.push(r),i=r.children,i)for(a=0,o=i.length;a<o;++a)e.push(i[a]);for(;r=t.pop();)n(r);return this}function q6(n){return this.eachAfter(function(r){for(var e=+n(r.data)||0,t=r.children,i=t&&t.length;--i>=0;)e+=t[i].value;r.value=e})}function F6(n){return this.eachBefore(function(r){r.children&&r.children.sort(n)})}function z6(n){for(var r=this,e=B6(r,n),t=[r];r!==e;)r=r.parent,t.push(r);for(var i=t.length;n!==e;)t.splice(i,0,n),n=n.parent;return t}function B6(n,r){if(n===r)return n;var e=n.ancestors(),t=r.ancestors(),i=null;for(n=e.pop(),r=t.pop();n===r;)i=n,n=e.pop(),r=t.pop();return i}function G6(){for(var n=this,r=[n];n=n.parent;)r.push(n);return r}function U6(){var n=[];return this.each(function(r){n.push(r)}),n}function H6(){var n=[];return this.eachBefore(function(r){r.children||n.push(r)}),n}function Y6(){var n=this,r=[];return n.each(function(e){e!==n&&r.push({source:e.parent,target:e})}),r}function Vc(n,r){var e=new Ct(n),t=+n.value&&(e.value=n.value),i,a=[e],o,f,u,c;for(r==null&&(r=j6);i=a.pop();)if(t&&(i.value=+i.data.value),(f=r(i.data))&&(c=f.length))for(i.children=new Array(c),u=c-1;u>=0;--u)a.push(o=i.children[u]=new Ct(f[u])),o.parent=i,o.depth=i.depth+1;return e.eachBefore(hd)}function V6(){return Vc(this).eachBefore(X6)}function j6(n){return n.children}function X6(n){n.data=n.data.data}function hd(n){var r=0;do n.height=r;while((n=n.parent)&&n.height<++r)}function Ct(n){this.data=n,this.depth=this.height=0,this.parent=null}Ct.prototype=Vc.prototype={constructor:Ct,count:A6,each:I6,eachAfter:O6,eachBefore:D6,sum:q6,sort:F6,path:z6,ancestors:G6,descendants:U6,leaves:H6,links:Y6,copy:V6};var W6=Array.prototype.slice;function J6(n){for(var r=n.length,e,t;r;)t=Math.random()*r--|0,e=n[r],n[r]=n[t],n[t]=e;return n}function gd(n){for(var r=0,e=(n=J6(W6.call(n))).length,t=[],i,a;r<e;)i=n[r],a&&pd(a,i)?++r:(a=Z6(t=K6(t,i)),r=0);return a}function K6(n,r){var e,t;if(Ml(r,n))return[r];for(e=0;e<n.length;++e)if(Ea(r,n[e])&&Ml(ui(n[e],r),n))return[n[e],r];for(e=0;e<n.length-1;++e)for(t=e+1;t<n.length;++t)if(Ea(ui(n[e],n[t]),r)&&Ea(ui(n[e],r),n[t])&&Ea(ui(n[t],r),n[e])&&Ml(dd(n[e],n[t],r),n))return[n[e],n[t],r];throw new Error}function Ea(n,r){var e=n.r-r.r,t=r.x-n.x,i=r.y-n.y;return e<0||e*e<t*t+i*i}function pd(n,r){var e=n.r-r.r+1e-6,t=r.x-n.x,i=r.y-n.y;return e>0&&e*e>t*t+i*i}function Ml(n,r){for(var e=0;e<r.length;++e)if(!pd(n,r[e]))return!1;return!0}function Z6(n){switch(n.length){case 1:return Q6(n[0]);case 2:return ui(n[0],n[1]);case 3:return dd(n[0],n[1],n[2])}}function Q6(n){return{x:n.x,y:n.y,r:n.r}}function ui(n,r){var e=n.x,t=n.y,i=n.r,a=r.x,o=r.y,f=r.r,u=a-e,c=o-t,l=f-i,v=Math.sqrt(u*u+c*c);return{x:(e+a+u/v*l)/2,y:(t+o+c/v*l)/2,r:(v+i+f)/2}}function dd(n,r,e){var t=n.x,i=n.y,a=n.r,o=r.x,f=r.y,u=r.r,c=e.x,l=e.y,v=e.r,s=t-o,h=t-c,g=i-f,p=i-l,d=u-a,S=v-a,m=t*t+i*i-a*a,y=m-o*o-f*f+u*u,E=m-c*c-l*l+v*v,$=h*g-s*p,T=(g*E-p*y)/($*2)-t,k=(p*d-g*S)/$,P=(h*y-s*E)/($*2)-i,R=(s*S-h*d)/$,C=k*k+R*R-1,b=2*(a+T*k+P*R),L=T*T+P*P-a*a,z=-(C?(b+Math.sqrt(b*b-4*C*L))/(2*C):L/b);return{x:t+T+k*z,y:i+P+R*z,r:z}}function yv(n,r,e){var t=n.x-r.x,i,a,o=n.y-r.y,f,u,c=t*t+o*o;c?(a=r.r+e.r,a*=a,u=n.r+e.r,u*=u,a>u?(i=(c+u-a)/(2*c),f=Math.sqrt(Math.max(0,u/c-i*i)),e.x=n.x-i*t-f*o,e.y=n.y-i*o+f*t):(i=(c+a-u)/(2*c),f=Math.sqrt(Math.max(0,a/c-i*i)),e.x=r.x+i*t-f*o,e.y=r.y+i*o+f*t)):(e.x=r.x+e.r,e.y=r.y)}function wv(n,r){var e=n.r+r.r-1e-6,t=r.x-n.x,i=r.y-n.y;return e>0&&e*e>t*t+i*i}function Ev(n){var r=n._,e=n.next._,t=r.r+e.r,i=(r.x*e.r+e.x*r.r)/t,a=(r.y*e.r+e.y*r.r)/t;return i*i+a*a}function Sa(n){this._=n,this.next=null,this.previous=null}function md(n){if(!(i=n.length))return 0;var r,e,t,i,a,o,f,u,c,l,v;if(r=n[0],r.x=0,r.y=0,!(i>1))return r.r;if(e=n[1],r.x=-e.r,e.x=r.r,e.y=0,!(i>2))return r.r+e.r;yv(e,r,t=n[2]),r=new Sa(r),e=new Sa(e),t=new Sa(t),r.next=t.previous=e,e.next=r.previous=t,t.next=e.previous=r;n:for(f=3;f<i;++f){yv(r._,e._,t=n[f]),t=new Sa(t),u=e.next,c=r.previous,l=e._.r,v=r._.r;do if(l<=v){if(wv(u._,t._)){e=u,r.next=e,e.previous=r,--f;continue n}l+=u._.r,u=u.next}else{if(wv(c._,t._)){r=c,r.next=e,e.previous=r,--f;continue n}v+=c._.r,c=c.previous}while(u!==c.next);for(t.previous=r,t.next=e,r.next=e.previous=e=t,a=Ev(r);(t=t.next)!==e;)(o=Ev(t))<a&&(r=t,a=o);e=r.next}for(r=[e._],t=e;(t=t.next)!==e;)r.push(t._);for(t=gd(r),f=0;f<i;++f)r=n[f],r.x-=t.x,r.y-=t.y;return t.r}function nS(n){return md(n),n}function rS(n){return n==null?null:eu(n)}function eu(n){if(typeof n!="function")throw new Error;return n}function je(){return 0}function ft(n){return function(){return n}}function eS(n){return Math.sqrt(n.value)}function tS(){var n=null,r=1,e=1,t=je;function i(a){return a.x=r/2,a.y=e/2,n?a.eachBefore(Sv(n)).eachAfter(Pl(t,.5)).eachBefore(_v(1)):a.eachBefore(Sv(eS)).eachAfter(Pl(je,1)).eachAfter(Pl(t,a.r/Math.min(r,e))).eachBefore(_v(Math.min(r,e)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(n=rS(a),i):n},i.size=function(a){return arguments.length?(r=+a[0],e=+a[1],i):[r,e]},i.padding=function(a){return arguments.length?(t=typeof a=="function"?a:ft(+a),i):t},i}function Sv(n){return function(r){r.children||(r.r=Math.max(0,+n(r)||0))}}function Pl(n,r){return function(e){if(t=e.children){var t,i,a=t.length,o=n(e)*r||0,f;if(o)for(i=0;i<a;++i)t[i].r+=o;if(f=md(t),o)for(i=0;i<a;++i)t[i].r-=o;e.r=f+o}}}function _v(n){return function(r){var e=r.parent;r.r*=n,e&&(r.x=e.x+n*r.x,r.y=e.y+n*r.y)}}function yd(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function Yi(n,r,e,t,i){for(var a=n.children,o,f=-1,u=a.length,c=n.value&&(t-r)/n.value;++f<u;)o=a[f],o.y0=e,o.y1=i,o.x0=r,o.x1=r+=o.value*c}function iS(){var n=1,r=1,e=0,t=!1;function i(o){var f=o.height+1;return o.x0=o.y0=e,o.x1=n,o.y1=r/f,o.eachBefore(a(r,f)),t&&o.eachBefore(yd),o}function a(o,f){return function(u){u.children&&Yi(u,u.x0,o*(u.depth+1)/f,u.x1,o*(u.depth+2)/f);var c=u.x0,l=u.y0,v=u.x1-e,s=u.y1-e;v<c&&(c=v=(c+v)/2),s<l&&(l=s=(l+s)/2),u.x0=c,u.y0=l,u.x1=v,u.y1=s}}return i.round=function(o){return arguments.length?(t=!!o,i):t},i.size=function(o){return arguments.length?(n=+o[0],r=+o[1],i):[n,r]},i.padding=function(o){return arguments.length?(e=+o,i):e},i}var $v="$",aS={depth:-1},Tv={};function oS(n){return n.id}function uS(n){return n.parentId}function lS(){var n=oS,r=uS;function e(t){var i,a,o=t.length,f,u,c,l=new Array(o),v,s,h={};for(a=0;a<o;++a)i=t[a],c=l[a]=new Ct(i),(v=n(i,a,t))!=null&&(v+="")&&(s=$v+(c.id=v),h[s]=s in h?Tv:c);for(a=0;a<o;++a)if(c=l[a],v=r(t[a],a,t),v==null||!(v+="")){if(f)throw new Error("multiple roots");f=c}else{if(u=h[$v+v],!u)throw new Error("missing: "+v);if(u===Tv)throw new Error("ambiguous: "+v);u.children?u.children.push(c):u.children=[c],c.parent=u}if(!f)throw new Error("no root");if(f.parent=aS,f.eachBefore(function(g){g.depth=g.parent.depth+1,--o}).eachBefore(hd),f.parent=null,o>0)throw new Error("cycle");return f}return e.id=function(t){return arguments.length?(n=eu(t),e):n},e.parentId=function(t){return arguments.length?(r=eu(t),e):r},e}function fS(n,r){return n.parent===r.parent?1:2}function xl(n){var r=n.children;return r?r[0]:n.t}function Rl(n){var r=n.children;return r?r[r.length-1]:n.t}function sS(n,r,e){var t=e/(r.i-n.i);r.c-=t,r.s+=e,n.c+=t,r.z+=e,r.m+=e}function cS(n){for(var r=0,e=0,t=n.children,i=t.length,a;--i>=0;)a=t[i],a.z+=r,a.m+=r,r+=a.s+(e+=a.c)}function vS(n,r,e){return n.a.parent===r.parent?n.a:e}function Ua(n,r){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}Ua.prototype=Object.create(Ct.prototype);function hS(n){for(var r=new Ua(n,0),e,t=[r],i,a,o,f;e=t.pop();)if(a=e._.children)for(e.children=new Array(f=a.length),o=f-1;o>=0;--o)t.push(i=e.children[o]=new Ua(a[o],o)),i.parent=e;return(r.parent=new Ua(null,0)).children=[r],r}function gS(){var n=fS,r=1,e=1,t=null;function i(c){var l=hS(c);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),t)c.eachBefore(u);else{var v=c,s=c,h=c;c.eachBefore(function(m){m.x<v.x&&(v=m),m.x>s.x&&(s=m),m.depth>h.depth&&(h=m)});var g=v===s?1:n(v,s)/2,p=g-v.x,d=r/(s.x+g+p),S=e/(h.depth||1);c.eachBefore(function(m){m.x=(m.x+p)*d,m.y=m.depth*S})}return c}function a(c){var l=c.children,v=c.parent.children,s=c.i?v[c.i-1]:null;if(l){cS(c);var h=(l[0].z+l[l.length-1].z)/2;s?(c.z=s.z+n(c._,s._),c.m=c.z-h):c.z=h}else s&&(c.z=s.z+n(c._,s._));c.parent.A=f(c,s,c.parent.A||v[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function f(c,l,v){if(l){for(var s=c,h=c,g=l,p=s.parent.children[0],d=s.m,S=h.m,m=g.m,y=p.m,E;g=Rl(g),s=xl(s),g&&s;)p=xl(p),h=Rl(h),h.a=c,E=g.z+m-s.z-d+n(g._,s._),E>0&&(sS(vS(g,c,v),c,E),d+=E,S+=E),m+=g.m,d+=s.m,y+=p.m,S+=h.m;g&&!Rl(h)&&(h.t=g,h.m+=m-S),s&&!xl(p)&&(p.t=s,p.m+=d-y,v=c)}return v}function u(c){c.x*=r,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(n=c,i):n},i.size=function(c){return arguments.length?(t=!1,r=+c[0],e=+c[1],i):t?null:[r,e]},i.nodeSize=function(c){return arguments.length?(t=!0,r=+c[0],e=+c[1],i):t?[r,e]:null},i}function Au(n,r,e,t,i){for(var a=n.children,o,f=-1,u=a.length,c=n.value&&(i-e)/n.value;++f<u;)o=a[f],o.x0=r,o.x1=t,o.y0=e,o.y1=e+=o.value*c}var wd=(1+Math.sqrt(5))/2;function Ed(n,r,e,t,i,a){for(var o=[],f=r.children,u,c,l=0,v=0,s=f.length,h,g,p=r.value,d,S,m,y,E,$,T;l<s;){h=i-e,g=a-t;do d=f[v++].value;while(!d&&v<s);for(S=m=d,$=Math.max(g/h,h/g)/(p*n),T=d*d*$,E=Math.max(m/T,T/S);v<s;++v){if(d+=c=f[v].value,c<S&&(S=c),c>m&&(m=c),T=d*d*$,y=Math.max(m/T,T/S),y>E){d-=c;break}E=y}o.push(u={value:d,dice:h<g,children:f.slice(l,v)}),u.dice?Yi(u,e,t,i,p?t+=g*d/p:a):Au(u,e,t,p?e+=h*d/p:i,a),p-=d,l=v}return o}var Sd=function n(r){function e(t,i,a,o,f){Ed(r,t,i,a,o,f)}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(wd);function pS(){var n=Sd,r=!1,e=1,t=1,i=[0],a=je,o=je,f=je,u=je,c=je;function l(s){return s.x0=s.y0=0,s.x1=e,s.y1=t,s.eachBefore(v),i=[0],r&&s.eachBefore(yd),s}function v(s){var h=i[s.depth],g=s.x0+h,p=s.y0+h,d=s.x1-h,S=s.y1-h;d<g&&(g=d=(g+d)/2),S<p&&(p=S=(p+S)/2),s.x0=g,s.y0=p,s.x1=d,s.y1=S,s.children&&(h=i[s.depth+1]=a(s)/2,g+=c(s)-h,p+=o(s)-h,d-=f(s)-h,S-=u(s)-h,d<g&&(g=d=(g+d)/2),S<p&&(p=S=(p+S)/2),n(s,g,p,d,S))}return l.round=function(s){return arguments.length?(r=!!s,l):r},l.size=function(s){return arguments.length?(e=+s[0],t=+s[1],l):[e,t]},l.tile=function(s){return arguments.length?(n=eu(s),l):n},l.padding=function(s){return arguments.length?l.paddingInner(s).paddingOuter(s):l.paddingInner()},l.paddingInner=function(s){return arguments.length?(a=typeof s=="function"?s:ft(+s),l):a},l.paddingOuter=function(s){return arguments.length?l.paddingTop(s).paddingRight(s).paddingBottom(s).paddingLeft(s):l.paddingTop()},l.paddingTop=function(s){return arguments.length?(o=typeof s=="function"?s:ft(+s),l):o},l.paddingRight=function(s){return arguments.length?(f=typeof s=="function"?s:ft(+s),l):f},l.paddingBottom=function(s){return arguments.length?(u=typeof s=="function"?s:ft(+s),l):u},l.paddingLeft=function(s){return arguments.length?(c=typeof s=="function"?s:ft(+s),l):c},l}function dS(n,r,e,t,i){var a=n.children,o,f=a.length,u,c=new Array(f+1);for(c[0]=u=o=0;o<f;++o)c[o+1]=u+=a[o].value;l(0,f,n.value,r,e,t,i);function l(v,s,h,g,p,d,S){if(v>=s-1){var m=a[v];m.x0=g,m.y0=p,m.x1=d,m.y1=S;return}for(var y=c[v],E=h/2+y,$=v+1,T=s-1;$<T;){var k=$+T>>>1;c[k]<E?$=k+1:T=k}E-c[$-1]<c[$]-E&&v+1<$&&--$;var P=c[$]-y,R=h-P;if(d-g>S-p){var C=(g*R+d*P)/h;l(v,$,P,g,p,C,S),l($,s,R,C,p,d,S)}else{var b=(p*R+S*P)/h;l(v,$,P,g,p,d,b),l($,s,R,g,b,d,S)}}}function mS(n,r,e,t,i){(n.depth&1?Au:Yi)(n,r,e,t,i)}var yS=function n(r){function e(t,i,a,o,f){if((u=t._squarify)&&u.ratio===r)for(var u,c,l,v,s=-1,h,g=u.length,p=t.value;++s<g;){for(c=u[s],l=c.children,v=c.value=0,h=l.length;v<h;++v)c.value+=l[v].value;c.dice?Yi(c,i,a,o,a+=(f-a)*c.value/p):Au(c,i,a,i+=(o-i)*c.value/p,f),p-=c.value}else t._squarify=u=Ed(r,t,i,a,o,f),u.ratio=r}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(wd),wS=Object.freeze(Object.defineProperty({__proto__:null,cluster:L6,hierarchy:Vc,pack:tS,packSiblings:nS,packEnclose:gd,partition:iS,stratify:lS,tree:gS,treemap:pS,treemapBinary:dS,treemapDice:Yi,treemapSlice:Au,treemapSliceDice:mS,treemapSquarify:Sd,treemapResquarify:yS},Symbol.toStringTag,{value:"Module"})),qt=te(wS);Object.defineProperty(T6,"__esModule",{value:!0});var ES=Q,SS=qt,jc=W;function _d(n,r,e){e.dataType=jc.DataSet.CONSTANTS.HIERARCHY;var t=r&&r.children?r.children:null;if(t&&!ES.isFunction(t))throw new TypeError("Invalid children: must be a function!");return r.pureData?e.rows=e.root=n:e.rows=e.root=SS.hierarchy(n,t),n}jc.DataSet.registerConnector("hierarchy",_d);jc.DataSet.registerConnector("tree",_d);var _S={};function $d(n){return n}function Xc(n){if(n==null)return $d;var r,e,t=n.scale[0],i=n.scale[1],a=n.translate[0],o=n.translate[1];return function(f,u){u||(r=e=0);var c=2,l=f.length,v=new Array(l);for(v[0]=(r+=f[0])*t+a,v[1]=(e+=f[1])*i+o;c<l;)v[c]=f[c],++c;return v}}function Td(n){var r=Xc(n.transform),e,t=1/0,i=t,a=-t,o=-t;function f(c){c=r(c),c[0]<t&&(t=c[0]),c[0]>a&&(a=c[0]),c[1]<i&&(i=c[1]),c[1]>o&&(o=c[1])}function u(c){switch(c.type){case"GeometryCollection":c.geometries.forEach(u);break;case"Point":f(c.coordinates);break;case"MultiPoint":c.coordinates.forEach(f);break}}n.arcs.forEach(function(c){for(var l=-1,v=c.length,s;++l<v;)s=r(c[l],l),s[0]<t&&(t=s[0]),s[0]>a&&(a=s[0]),s[1]<i&&(i=s[1]),s[1]>o&&(o=s[1])});for(e in n.objects)u(n.objects[e]);return[t,i,a,o]}function $S(n,r){for(var e,t=n.length,i=t-r;i<--t;)e=n[i],n[i++]=n[t],n[t]=e}function TS(n,r){return typeof r=="string"&&(r=n.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(e){return Mv(n,e)})}:Mv(n,r)}function Mv(n,r){var e=r.id,t=r.bbox,i=r.properties==null?{}:r.properties,a=Iu(n,r);return e==null&&t==null?{type:"Feature",properties:i,geometry:a}:t==null?{type:"Feature",id:e,properties:i,geometry:a}:{type:"Feature",id:e,bbox:t,properties:i,geometry:a}}function Iu(n,r){var e=Xc(n.transform),t=n.arcs;function i(l,v){v.length&&v.pop();for(var s=t[l<0?~l:l],h=0,g=s.length;h<g;++h)v.push(e(s[h],h));l<0&&$S(v,g)}function a(l){return e(l)}function o(l){for(var v=[],s=0,h=l.length;s<h;++s)i(l[s],v);return v.length<2&&v.push(v[0]),v}function f(l){for(var v=o(l);v.length<4;)v.push(v[0]);return v}function u(l){return l.map(f)}function c(l){var v=l.type,s;switch(v){case"GeometryCollection":return{type:v,geometries:l.geometries.map(c)};case"Point":s=a(l.coordinates);break;case"MultiPoint":s=l.coordinates.map(a);break;case"LineString":s=o(l.arcs);break;case"MultiLineString":s=l.arcs.map(o);break;case"Polygon":s=u(l.arcs);break;case"MultiPolygon":s=l.arcs.map(u);break;default:return null}return{type:v,coordinates:s}}return c(r)}function Md(n,r){var e={},t={},i={},a=[],o=-1;r.forEach(function(c,l){var v=n.arcs[c<0?~c:c],s;v.length<3&&!v[1][0]&&!v[1][1]&&(s=r[++o],r[o]=c,r[l]=s)}),r.forEach(function(c){var l=f(c),v=l[0],s=l[1],h,g;if(h=i[v])if(delete i[h.end],h.push(c),h.end=s,g=t[s]){delete t[g.start];var p=g===h?h:h.concat(g);t[p.start=h.start]=i[p.end=g.end]=p}else t[h.start]=i[h.end]=h;else if(h=t[s])if(delete t[h.start],h.unshift(c),h.start=v,g=i[v]){delete i[g.end];var d=g===h?h:g.concat(h);t[d.start=g.start]=i[d.end=h.end]=d}else t[h.start]=i[h.end]=h;else h=[c],t[h.start=v]=i[h.end=s]=h});function f(c){var l=n.arcs[c<0?~c:c],v=l[0],s;return n.transform?(s=[0,0],l.forEach(function(h){s[0]+=h[0],s[1]+=h[1]})):s=l[l.length-1],c<0?[s,v]:[v,s]}function u(c,l){for(var v in c){var s=c[v];delete l[s.start],delete s.start,delete s.end,s.forEach(function(h){e[h<0?~h:h]=1}),a.push(s)}}return u(i,t),u(t,i),r.forEach(function(c){e[c<0?~c:c]||a.push([c])}),a}function MS(n){return Iu(n,Pd.apply(this,arguments))}function Pd(n,r,e){var t,i,a;if(arguments.length>1)t=PS(n,r,e);else for(i=0,t=new Array(a=n.arcs.length);i<a;++i)t[i]=i;return{type:"MultiLineString",arcs:Md(n,t)}}function PS(n,r,e){var t=[],i=[],a;function o(v){var s=v<0?~v:v;(i[s]||(i[s]=[])).push({i:v,g:a})}function f(v){v.forEach(o)}function u(v){v.forEach(f)}function c(v){v.forEach(u)}function l(v){switch(a=v,v.type){case"GeometryCollection":v.geometries.forEach(l);break;case"LineString":f(v.arcs);break;case"MultiLineString":case"Polygon":u(v.arcs);break;case"MultiPolygon":c(v.arcs);break}}return l(r),i.forEach(e==null?function(v){t.push(v[0].i)}:function(v){e(v[0].g,v[v.length-1].g)&&t.push(v[0].i)}),t}function xS(n){for(var r=-1,e=n.length,t,i=n[e-1],a=0;++r<e;)t=i,i=n[r],a+=t[0]*i[1]-t[1]*i[0];return Math.abs(a)}function RS(n){return Iu(n,xd.apply(this,arguments))}function xd(n,r){var e={},t=[],i=[];r.forEach(a);function a(u){switch(u.type){case"GeometryCollection":u.geometries.forEach(a);break;case"Polygon":o(u.arcs);break;case"MultiPolygon":u.arcs.forEach(o);break}}function o(u){u.forEach(function(c){c.forEach(function(l){(e[l=l<0?~l:l]||(e[l]=[])).push(u)})}),t.push(u)}function f(u){return xS(Iu(n,{type:"Polygon",arcs:[u]}).coordinates[0])}return t.forEach(function(u){if(!u._){var c=[],l=[u];for(u._=1,i.push(c);u=l.pop();)c.push(u),u.forEach(function(v){v.forEach(function(s){e[s<0?~s:s].forEach(function(h){h._||(h._=1,l.push(h))})})})}}),t.forEach(function(u){delete u._}),{type:"MultiPolygon",arcs:i.map(function(u){var c=[],l;if(u.forEach(function(p){p.forEach(function(d){d.forEach(function(S){e[S<0?~S:S].length<2&&c.push(S)})})}),c=Md(n,c),(l=c.length)>1)for(var v=1,s=f(c[0]),h,g;v<l;++v)(h=f(c[v]))>s&&(g=c[0],c[0]=c[v],c[v]=g,s=h);return c}).filter(function(u){return u.length>0})}}function Pv(n,r){for(var e=0,t=n.length;e<t;){var i=e+t>>>1;n[i]<r?e=i+1:t=i}return e}function kS(n){var r={},e=n.map(function(){return[]});function t(p,d){p.forEach(function(S){S<0&&(S=~S);var m=r[S];m?m.push(d):r[S]=[d]})}function i(p,d){p.forEach(function(S){t(S,d)})}function a(p,d){p.type==="GeometryCollection"?p.geometries.forEach(function(S){a(S,d)}):p.type in o&&o[p.type](p.arcs,d)}var o={LineString:t,MultiLineString:i,Polygon:i,MultiPolygon:function(p,d){p.forEach(function(S){i(S,d)})}};n.forEach(a);for(var f in r)for(var u=r[f],c=u.length,l=0;l<c;++l)for(var v=l+1;v<c;++v){var s=u[l],h=u[v],g;(g=e[s])[f=Pv(g,h)]!==h&&g.splice(f,0,h),(g=e[h])[f=Pv(g,s)]!==s&&g.splice(f,0,s)}return e}function Rd(n){if(n==null)return $d;var r,e,t=n.scale[0],i=n.scale[1],a=n.translate[0],o=n.translate[1];return function(f,u){u||(r=e=0);var c=2,l=f.length,v=new Array(l),s=Math.round((f[0]-a)/t),h=Math.round((f[1]-o)/i);for(v[0]=s-r,r=s,v[1]=h-e,e=h;c<l;)v[c]=f[c],++c;return v}}function bS(n,r){if(n.transform)throw new Error("already quantized");if(!r||!r.scale){if(!((o=Math.floor(r))>=2))throw new Error("n must be \u22652");u=n.bbox||Td(n);var e=u[0],t=u[1],i=u[2],a=u[3],o;r={scale:[i-e?(i-e)/(o-1):1,a-t?(a-t)/(o-1):1],translate:[e,t]}}else u=n.bbox;var f=Rd(r),u,c,l=n.objects,v={};function s(p){return f(p)}function h(p){var d;switch(p.type){case"GeometryCollection":d={type:"GeometryCollection",geometries:p.geometries.map(h)};break;case"Point":d={type:"Point",coordinates:s(p.coordinates)};break;case"MultiPoint":d={type:"MultiPoint",coordinates:p.coordinates.map(s)};break;default:return p}return p.id!=null&&(d.id=p.id),p.bbox!=null&&(d.bbox=p.bbox),p.properties!=null&&(d.properties=p.properties),d}function g(p){var d=0,S=1,m=p.length,y,E=new Array(m);for(E[0]=f(p[0],0);++d<m;)((y=f(p[d],d))[0]||y[1])&&(E[S++]=y);return S===1&&(E[S++]=[0,0]),E.length=S,E}for(c in l)v[c]=h(l[c]);return{type:"Topology",bbox:u,transform:r,objects:v,arcs:n.arcs.map(g)}}var CS=Object.freeze(Object.defineProperty({__proto__:null,bbox:Td,feature:TS,mesh:MS,meshArcs:Pd,merge:RS,mergeArcs:xd,neighbors:kS,quantize:bS,transform:Xc,untransform:Rd},Symbol.toStringTag,{value:"Module"})),LS=te(CS);Object.defineProperty(_S,"__esModule",{value:!0});var NS=fn.exports,AS=Q,IS=LS,DS=NS.__importDefault(Gc),kd=W;function bd(n,r,e){var t=r.object;if(!AS.isString(t))throw new TypeError("Invalid object: must be a string!");var i=IS.feature(n,n.objects[t]);return DS.default(i,void 0,e)}kd.DataSet.registerConnector("topojson",bd);kd.DataSet.registerConnector("TopoJSON",bd);var OS={};Object.defineProperty(OS,"__esModule",{value:!0});var qS=W;qS.DataSet.registerTransform("default",function(n){return n});var FS={};Object.defineProperty(FS,"__esModule",{value:!0});var zS=W;function BS(n){return!!n}zS.DataSet.registerTransform("filter",function(n,r){n.rows=n.rows.filter(r.callback||BS)});var GS={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.getFields=_n.getField=void 0;var ke=Q,kl="Invalid field: it must be a string!",Ht="Invalid fields: it must be an array!";function US(n,r){var e=n.field,t=n.fields;if(ke.isString(e))return e;if(ke.isArray(e))return console.warn(kl),e[0];if(console.warn(kl+" will try to get fields instead."),ke.isString(t))return t;if(ke.isArray(t)&&t.length)return t[0];if(r)return r;throw new TypeError(kl)}_n.getField=US;function HS(n,r){var e=n.field,t=n.fields;if(ke.isArray(t))return t;if(ke.isString(t))return console.warn(Ht),[t];if(console.warn(Ht+" will try to get field instead."),ke.isString(e))return console.warn(Ht),[e];if(ke.isArray(e)&&e.length)return console.warn(Ht),e;if(r)return r;throw new TypeError(Ht)}_n.getFields=HS;Object.defineProperty(GS,"__esModule",{value:!0});var bl=Q,YS=W,VS=_n,jS={fields:[],key:"key",retains:[],value:"value"};YS.DataSet.registerTransform("fold",function(n,r){var e=n.getColumnNames();r=bl.assign({},jS,r);var t=VS.getFields(r);t.length===0&&(console.warn("warning: option fields is not specified, will fold all columns."),t=e);var i=r.key,a=r.value,o=r.retains;(!o||o.length===0)&&(o=bl.difference(e,t));var f=[];n.rows.forEach(function(u){t.forEach(function(c){var l=bl.pick(u,o);l[i]=c,l[a]=u[c],f.push(l)})}),n.rows=f});var XS={};Object.defineProperty(XS,"__esModule",{value:!0});var WS=W;function JS(n){return n}WS.DataSet.registerTransform("map",function(n,r){n.rows=n.rows.map(r.callback||JS)});var KS={};Object.defineProperty(KS,"__esModule",{value:!0});var ZS=fn.exports,Zf=Q,Cd=ZS.__importDefault(xr),Wc=W,Ld={groupBy:[],orderBy:[]};Wc.DataSet.registerTransform("partition",function(n,r){r=Zf.assign({},Ld,r),n.rows=Cd.default(n.rows,r.groupBy,r.orderBy)});function Nd(n,r){r=Zf.assign({},Ld,r),n.rows=Zf.values(Cd.default(n.rows,r.groupBy,r.orderBy))}Wc.DataSet.registerTransform("group",Nd);Wc.DataSet.registerTransform("groups",Nd);var QS={};Object.defineProperty(QS,"__esModule",{value:!0});var n8=fn.exports,ut=Q,xv=we,Rv=n8.__importDefault(xr),r8=W,e8=_n,t8={groupBy:[],as:"_percent"};function i8(n,r){r=ut.assign({},t8,r);var e=e8.getField(r),t=r.dimension,i=r.groupBy,a=r.as;if(!ut.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(ut.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!ut.isString(a))throw new TypeError("Invalid as: must be a string!");var o=n.rows,f=[],u=Rv.default(o,i);ut.forIn(u,function(c){var l=xv.sum(c.map(function(s){return s[e]})),v=Rv.default(c,[t]);ut.forIn(v,function(s){var h=xv.sum(s.map(function(d){return d[e]})),g=s[0],p=g[t];g[e]=h,g[t]=p,l===0?g[a]=0:g[a]=h/l,f.push(g)})}),n.rows=f}r8.DataSet.registerTransform("percent",i8);var a8={};Object.defineProperty(a8,"__esModule",{value:!0});var o8=Q,u8=W,l8=_n;u8.DataSet.registerTransform("pick",function(n,r){var e=l8.getFields(r,n.getColumnNames());n.rows=n.rows.map(function(t){return o8.pick(t,e)})});var f8={};Object.defineProperty(f8,"__esModule",{value:!0});var s8=fn.exports,lt=Q,kv=s8.__importDefault(xr),c8=W,v8=_n,h8={groupBy:[],as:"_proportion"};function g8(n,r){r=lt.assign({},h8,r);var e=v8.getField(r),t=r.dimension,i=r.groupBy,a=r.as;if(!lt.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(lt.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!lt.isString(a))throw new TypeError("Invalid as: must be a string!");var o=n.rows,f=[],u=kv.default(o,i);lt.forIn(u,function(c){var l=c.length,v=kv.default(c,[t]);lt.forIn(v,function(s){var h=s.length,g=s[0],p=g[t];g[e]=h,g[t]=p,g[a]=h/l,f.push(g)})}),n.rows=f}c8.DataSet.registerTransform("proportion",g8);var p8={};Object.defineProperty(p8,"__esModule",{value:!0});var Yt=Q,Ad=W;function Id(n,r){var e=r.map||{},t={};Yt.isPlainObject(e)&&Yt.forIn(e,function(i,a){Yt.isString(i)&&Yt.isString(a)&&(t[a]=i)}),n.rows.forEach(function(i){Yt.forIn(t,function(a,o){var f=i[o];delete i[o],i[a]=f})})}Ad.DataSet.registerTransform("rename",Id);Ad.DataSet.registerTransform("rename-fields",Id);var d8={};Object.defineProperty(d8,"__esModule",{value:!0});var m8=W;m8.DataSet.registerTransform("reverse",function(n){n.rows.reverse()});var y8={};Object.defineProperty(y8,"__esModule",{value:!0});var w8=W;w8.DataSet.registerTransform("sort",function(n,r){var e=n.getColumnName(0);n.rows.sort(r.callback||function(t,i){return t[e]-i[e]})});var E8={};Object.defineProperty(E8,"__esModule",{value:!0});var bv=Q,Dd=W,S8=_n,Cv=["ASC","DESC"];function Od(n,r){var e=S8.getFields(r,[n.getColumnName(0)]);if(!bv.isArray(e))throw new TypeError("Invalid fields: must be an array with strings!");n.rows=bv.sortBy(n.rows,e);var t=r.order;if(t&&Cv.indexOf(t)===-1)throw new TypeError("Invalid order: "+t+" must be one of "+Cv.join(", "));t==="DESC"&&n.rows.reverse()}Dd.DataSet.registerTransform("sort-by",Od);Dd.DataSet.registerTransform("sortBy",Od);var _8={};Object.defineProperty(_8,"__esModule",{value:!0});var $8=W,T8=_n;$8.DataSet.registerTransform("subset",function(n,r){var e=r.startRowIndex||0,t=r.endRowIndex||n.rows.length-1,i=T8.getFields(r,n.getColumnNames());n.rows=n.getSubset(e,t,i)});var M8={};Object.defineProperty(M8,"__esModule",{value:!0});var P8=fn.exports,Cl=Q,x8=P8.__importDefault(xr),qd=W,R8={fillBy:"group",groupBy:[],orderBy:[]};function Lv(n,r){var e=n.map(function(t){return t});return r.forEach(function(t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}),e}function Fd(n,r){r=Cl.assign({},R8,r);var e=n.rows,t=r.groupBy,i=r.orderBy,a=x8.default(e,t,i),o=0,f=[];Cl.forIn(a,function(g){g.length>o&&(o=g.length,f=g)});var u=[],c={};if(f.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");u.push(p),c[p]=g}),r.fillBy==="order"){var l=f[0],v=[],s={};e.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");v.indexOf(p)===-1&&(v.push(p),s[p]=g)});var h=Lv(v,u);h.forEach(function(g){var p={};t.forEach(function(d){p[d]=l[d]}),i.forEach(function(d){p[d]=s[g][d]}),e.push(p),f.push(p),u.push(g),c[g]=p}),o=f.length}Cl.forIn(a,function(g){if(g!==f&&g.length<o){var p=g[0],d=[];g.forEach(function(m){d.push(i.map(function(y){return m[y]}).join("-"))});var S=Lv(u,d);S.some(function(m,y){if(y>=o-g.length)return!0;var E=c[m],$={};return t.forEach(function(T){$[T]=p[T]}),i.forEach(function(T){$[T]=E[T]}),e.push($),!1})}})}qd.DataSet.registerTransform("fill-rows",Fd);qd.DataSet.registerTransform("fillRows",Fd);var k8={};Object.defineProperty(k8,"__esModule",{value:!0});var zd=fn.exports,Ye=Q,b8=zd.__importStar(we),C8=zd.__importDefault(xr),L8=W,N8=_n,A8={groupBy:[]};function Nv(n){return n.filter(function(r){return!Ye.isUndefined(r)})}var Bd=["mean","median","max","min"],Jc={};Bd.forEach(function(n){Jc[n]=function(r,e){return b8[n](e)}});Jc.value=function(n,r,e){return e};function I8(n,r){r=Ye.assign({},A8,r);var e=N8.getField(r),t=r.method;if(!t)throw new TypeError("Invalid method!");if(t==="value"&&!Ye.has(r,"value"))throw new TypeError("Invalid value: it is nil.");var i=Nv(n.getColumn(e)),a=C8.default(n.rows,r.groupBy);Ye.forIn(a,function(o){var f=Nv(o.map(function(u){return u[e]}));f.length===0&&(f=i),o.forEach(function(u){if(Ye.isUndefined(u[e]))if(Ye.isFunction(t))u[e]=t(u,f,r.value,o);else if(Ye.isString(t))u[e]=Jc[t](u,f,r.value);else throw new TypeError("Invalid method: must be a function or one of "+Bd.join(", "))})})}L8.DataSet.registerTransform("impute",I8);var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});var Ud=fn.exports,qr=Q,D8=Ud.__importStar(we),O8=Ud.__importDefault(xr),Hd=W,Yd=Hd.DataSet.registerTransform,q8=_n,F8={as:[],fields:[],groupBy:[],operations:[]},Av="count",Ni={count:function(n){return n.length},distinct:function(n,r){var e=qr.uniq(n.map(function(t){return t[r]}));return e.length}};Hd.DataSet.CONSTANTS.STATISTICS_METHODS.forEach(function(n){Ni[n]=function(r,e){var t=r.map(function(i){return i[e]});return qr.isArray(t)&&qr.isArray(t[0])&&(t=qr.flattenDeep(t)),D8[n](t)}});Ni.average=Ni.mean;function Vd(n,r){r=qr.assign({},F8,r);var e=q8.getFields(r);if(!qr.isArray(e))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var t=r.as||[];qr.isString(t)&&(t=[t]);var i=r.operations;qr.isString(i)&&(i=[i]);var a=[Av];if((!qr.isArray(i)||!i.length)&&(console.warn('operations is not defined, will use [ "count" ] directly.'),i=a,t=i),!(i.length===1&&i[0]===Av)){if(i.length!==e.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(t.length!==e.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var o=O8.default(n.rows,r.groupBy),f=[];qr.forIn(o,function(u){var c=u[0];i.forEach(function(l,v){var s=t[v],h=e[v];c[s]=Ni[l](u,h)}),f.push(c)}),n.rows=f}Yd("aggregate",Vd);Yd("summary",Vd);Gd.default={VALID_AGGREGATES:qr.keys(Ni)};var jd={},Xd={exports:{}};(function(n,r){(function(e,t){t(n)})(xh,function(e){function t(s,h,g){return h in s?Object.defineProperty(s,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):s[h]=g,s}var i=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(s[p]=g[p])}return s};function a(s){if(Array.isArray(s)){for(var h=0,g=Array(s.length);h<s.length;h++)g[h]=s[h];return g}else return Array.from(s)}var o={order:2,precision:2,period:null};function f(s,h){var g=[],p=[];s.forEach(function(E,$){E[1]!==null&&(p.push(E),g.push(h[$]))});var d=p.reduce(function(E,$){return E+$[1]},0),S=d/p.length,m=p.reduce(function(E,$){var T=$[1]-S;return E+T*T},0),y=p.reduce(function(E,$,T){var k=g[T],P=$[1]-k[1];return E+P*P},0);return 1-y/m}function u(s,h){for(var g=s,p=s.length-1,d=[h],S=0;S<p;S++){for(var m=S,y=S+1;y<p;y++)Math.abs(g[S][y])>Math.abs(g[S][m])&&(m=y);for(var E=S;E<p+1;E++){var $=g[E][S];g[E][S]=g[E][m],g[E][m]=$}for(var T=S+1;T<p;T++)for(var k=p;k>=S;k--)g[k][T]-=g[k][S]*g[S][T]/g[S][S]}for(var P=p-1;P>=0;P--){for(var R=0,C=P+1;C<p;C++)R+=g[C][P]*d[C];d[P]=(g[p][P]-R)/g[P][P]}return d}function c(s,h){var g=Math.pow(10,h);return Math.round(s*g)/g}var l={linear:function(h,g){for(var p=[0,0,0,0,0],d=0,S=0;S<h.length;S++)h[S][1]!==null&&(d++,p[0]+=h[S][0],p[1]+=h[S][1],p[2]+=h[S][0]*h[S][0],p[3]+=h[S][0]*h[S][1],p[4]+=h[S][1]*h[S][1]);var m=d*p[2]-p[0]*p[0],y=d*p[3]-p[0]*p[1],E=m===0?0:c(y/m,g.precision),$=c(p[1]/d-E*p[0]/d,g.precision),T=function(R){return[c(R,g.precision),c(E*R+$,g.precision)]},k=h.map(function(P){return T(P[0])});return{points:k,predict:T,equation:[E,$],r2:c(f(h,k),g.precision),string:$===0?"y = "+E+"x":"y = "+E+"x + "+$}},exponential:function(h,g){for(var p=[0,0,0,0,0,0],d=0;d<h.length;d++)h[d][1]!==null&&(p[0]+=h[d][0],p[1]+=h[d][1],p[2]+=h[d][0]*h[d][0]*h[d][1],p[3]+=h[d][1]*Math.log(h[d][1]),p[4]+=h[d][0]*h[d][1]*Math.log(h[d][1]),p[5]+=h[d][0]*h[d][1]);var S=p[1]*p[2]-p[5]*p[5],m=Math.exp((p[2]*p[3]-p[5]*p[4])/S),y=(p[1]*p[4]-p[5]*p[3])/S,E=c(m,g.precision),$=c(y,g.precision),T=function(R){return[c(R,g.precision),c(E*Math.exp($*R),g.precision)]},k=h.map(function(P){return T(P[0])});return{points:k,predict:T,equation:[E,$],string:"y = "+E+"e^("+$+"x)",r2:c(f(h,k),g.precision)}},logarithmic:function(h,g){for(var p=[0,0,0,0],d=h.length,S=0;S<d;S++)h[S][1]!==null&&(p[0]+=Math.log(h[S][0]),p[1]+=h[S][1]*Math.log(h[S][0]),p[2]+=h[S][1],p[3]+=Math.pow(Math.log(h[S][0]),2));var m=(d*p[1]-p[2]*p[0])/(d*p[3]-p[0]*p[0]),y=c(m,g.precision),E=c((p[2]-y*p[0])/d,g.precision),$=function(P){return[c(P,g.precision),c(c(E+y*Math.log(P),g.precision),g.precision)]},T=h.map(function(k){return $(k[0])});return{points:T,predict:$,equation:[E,y],string:"y = "+E+" + "+y+" ln(x)",r2:c(f(h,T),g.precision)}},power:function(h,g){for(var p=[0,0,0,0,0],d=h.length,S=0;S<d;S++)h[S][1]!==null&&(p[0]+=Math.log(h[S][0]),p[1]+=Math.log(h[S][1])*Math.log(h[S][0]),p[2]+=Math.log(h[S][1]),p[3]+=Math.pow(Math.log(h[S][0]),2));var m=(d*p[1]-p[0]*p[2])/(d*p[3]-Math.pow(p[0],2)),y=(p[2]-m*p[0])/d,E=c(Math.exp(y),g.precision),$=c(m,g.precision),T=function(R){return[c(R,g.precision),c(c(E*Math.pow(R,$),g.precision),g.precision)]},k=h.map(function(P){return T(P[0])});return{points:k,predict:T,equation:[E,$],string:"y = "+E+"x^"+$,r2:c(f(h,k),g.precision)}},polynomial:function(h,g){for(var p=[],d=[],S=0,m=0,y=h.length,E=g.order+1,$=0;$<E;$++){for(var T=0;T<y;T++)h[T][1]!==null&&(S+=Math.pow(h[T][0],$)*h[T][1]);p.push(S),S=0;for(var k=[],P=0;P<E;P++){for(var R=0;R<y;R++)h[R][1]!==null&&(m+=Math.pow(h[R][0],$+P));k.push(m),m=0}d.push(k)}d.push(p);for(var C=u(d,E).map(function(w){return c(w,g.precision)}),b=function(M){return[c(M,g.precision),c(C.reduce(function(x,N,U){return x+N*Math.pow(M,U)},0),g.precision)]},L=h.map(function(w){return b(w[0])}),z="y = ",_=C.length-1;_>=0;_--)_>1?z+=C[_]+"x^"+_+" + ":_===1?z+=C[_]+"x + ":z+=C[_];return{string:z,points:L,predict:b,equation:[].concat(a(C)).reverse(),r2:c(f(h,L),g.precision)}}};function v(){var s=function(g,p){return i({_round:c},g,t({},p,function(d,S){return l[p](d,i({},o,S))}))};return Object.keys(l).reduce(s,{})}e.exports=v()})})(Xd);var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});var z8=fn.exports;Ft.default=function(n,r){for(var e=r||1,t=z8.__read(n,2),i=t[0],a=t[1],o=[],f=i;f<a;)o.push(f),f+=e;return o.push(a),o};var de={};Object.defineProperty(de,"__esModule",{value:!0});de.nrd=de.silverman=void 0;var Qf=we;function B8(n){var r=Qf.standardDeviation(n),e=4*Math.pow(r,5),t=3*n.length;return Math.pow(e/t,.2)}de.silverman=B8;function G8(n){var r=Qf.standardDeviation(n),e=Qf.interquartileRange(n);return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*Math.pow(n.length,-.2)}de.nrd=G8;Object.defineProperty(jd,"__esModule",{value:!0});var _i=fn.exports,U8=_i.__importDefault(Xd.exports),_a=Q,H8=_i.__importDefault(Ft),Y8=W,V8=_n,j8=de,X8={as:["x","y"],method:"linear",order:2,precision:2},ns=["linear","exponential","logarithmic","power","polynomial"];function W8(n,r){r=_a.assign({},X8,r);var e=V8.getFields(r);if(!_a.isArray(e)||e.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings.");var t=_i.__read(e,2),i=t[0],a=t[1],o=r.method;if(ns.indexOf(o)===-1)throw new TypeError("invalid method: "+o+". Must be one of "+ns.join(", "));var f=n.rows.map(function(d){return[d[i],d[a]]}),u=U8.default[o](f,r),c=r.extent;(!_a.isArray(c)||c.length!==2)&&(c=n.range(i));var l=r.bandwidth;(!_a.isNumber(l)||l<=0)&&(l=j8.silverman(n.getColumn(i)));var v=H8.default(c,l),s=[],h=_i.__read(r.as,2),g=h[0],p=h[1];v.forEach(function(d){var S={},m=_i.__read(u.predict(d),2),y=m[0],E=m[1];S[g]=y,S[p]=E,isFinite(E)&&s.push(S)}),n.rows=s}Y8.DataSet.registerTransform("regression",W8);jd.default={REGRESSION_METHODS:ns};var Wd={},Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});function Iv(n){return Math.abs(n)<=1?.5:0}function J8(n){var r=1-Math.pow(Math.abs(n),3);return Math.pow(r,3)}Vi.default={boxcar:Iv,cosine:function(n){return Math.abs(n)<=1?Math.PI/4*Math.cos(Math.PI/2*n):0},epanechnikov:function(n){return Math.abs(n)<1?.75*(1-n*n):0},gaussian:function(n){return .3989422804*Math.exp(-.5*n*n)},quartic:function(n){if(Math.abs(n)<1){var r=1-n*n;return 15/16*r*r}return 0},triangular:function(n){var r=Math.abs(n);return r<1?1-r:0},tricube:function(n){return Math.abs(n)<1?70/81*J8(n):0},triweight:function(n){if(Math.abs(n)<1){var r=1-n*n;return 35/32*r*r*r}return 0},uniform:Iv};Object.defineProperty(Wd,"__esModule",{value:!0});var Je=fn.exports,Wn=Q,K8=Je.__importDefault(Ft),Jd=Je.__importDefault(Vi),Ha=Je.__importStar(de),Z8=Je.__importDefault(xr),Kc=W,Q8=_n,n7=we,r7={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},rs=Wn.keys(Jd.default),e7=Wn.keys(Ha);function Zc(n,r){r=Wn.assign({},r7,r);var e=Q8.getFields(r);if(!Wn.isArray(e)||e.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var t=r.as;if(!Wn.isArray(t)||t.length!==3)throw new TypeError("invalid as: must be an array of 3 strings!");var i=r.method;if(Wn.isString(i)){if(rs.indexOf(i)===-1)throw new TypeError("invalid method: "+i+". Must be one of "+rs.join(", "));i=Jd.default[i]}if(!Wn.isFunction(i))throw new TypeError("invalid method: kernel method must be a function!");var a=r.extent;if(!Wn.isArray(a)||a.length===0){var o=[];Wn.each(e,function(s){var h=n.range(s);o=o.concat(h)}),a=[Math.min.apply(Math,Je.__spread(o)),Math.max.apply(Math,Je.__spread(o))]}var f=r.bandwidth;Wn.isString(f)&&Ha[f]?f=Ha[f](n.getColumn(e[0])):Wn.isFunction(f)?f=f(n.getColumn(e[0])):(!Wn.isNumber(f)||f<=0)&&(f=Ha.nrd(n.getColumn(e[0])));var u=K8.default(a,r.step?r.step:f),c=[],l=r.groupBy,v=Z8.default(n.rows,l);Wn.forIn(v,function(s){var h={};Wn.each(e,function(g){var p=Wn.pick(s[0],l);h[g]=n7.kernelDensityEstimation(s.map(function(E){return E[g]}),i,f);var d=Je.__read(t,3),S=d[0],m=d[1],y=d[2];p[S]=g,p[m]=[],p[y]=[],Wn.each(u,function(E){var $=h[g](E);$>=r.minSize&&(p[m].push(E),p[y].push($))}),c.push(p)})}),n.rows=c}Kc.DataSet.registerTransform("kernel-density-estimation",Zc);Kc.DataSet.registerTransform("kde",Zc);Kc.DataSet.registerTransform("KDE",Zc);Wd.default={KERNEL_METHODS:rs,BANDWIDTH_METHODS:e7};var t7={};Object.defineProperty(t7,"__esModule",{value:!0});var Or=fn.exports,$a=Q,Qc=W,i7=_n,a7={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},Dv=Math.sqrt(3),Vt=Math.PI/3,o7=[0,Vt,2*Vt,3*Vt,4*Vt,5*Vt];function Ov(n,r,e,t){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}function qv(n,r,e){var t=n-e;r=r/2;var i=Math.floor(t/r),a=r*(i+(Math.abs(i%2)===1?1:0)),o=r*(i+(Math.abs(i%2)===1?0:1));return[a+e,o+e]}function u7(n,r,e){r===void 0&&(r=[1,1]),e===void 0&&(e=[0,0]);var t={},i=Or.__read(r,2),a=i[0],o=i[1],f=Or.__read(e,2),u=f[0],c=f[1];return n.forEach(function(l){var v,s,h=Or.__read(l,2),g=h[0],p=h[1],d=Or.__read(qv(g,a,u),2),S=d[0],m=d[1],y=Or.__read(qv(p,o,c),2),E=y[0],$=y[1],T=Ov(g,p,S,E),k=Ov(g,p,m,$),P,R,C;T<k?(P="x"+S+"y"+E,v=Or.__read([S,E],2),R=v[0],C=v[1]):(P="x"+m+"y"+$,s=Or.__read([m,$],2),R=s[0],C=s[1]),t[P]=t[P]||{x:R,y:C,count:0},t[P].count++}),t}function n0(n,r){r=$a.assign({},a7,r);var e=i7.getFields(r);if(!$a.isArray(e)||e.length!==2)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var t=Or.__read(e,2),i=t[0],a=t[1],o=n.range(i),f=n.range(a),u=o[1]-o[0],c=f[1]-f[0],l=r.binWidth||[];if(l.length!==2){var v=Or.__read(r.bins,2),s=v[0],h=v[1];if(s<=0||h<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");l=[u/s,c/h]}var g=Or.__read(r.offset,2),p=g[0],d=g[1],S=3*l[0]/(Dv*l[1]),m=n.rows.map(function(L){return[L[i],S*L[a]]}),y=u7(m,[l[0],S*l[1]],[p,S*d]),E=Or.__read(r.as,3),$=E[0],T=E[1],k=E[2];if(!$||!T||!k)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var P=l[0]/Dv,R=o7.map(function(L){return[Math.sin(L)*P,-Math.cos(L)*P]}),C=[],b=0;r.sizeByCount&&$a.forIn(y,function(L){L.count>b&&(b=L.count)}),$a.forIn(y,function(L){var z=L.x,_=L.y,w=L.count,M={};M[k]=w,r.sizeByCount?(M[$]=R.map(function(x){return z+L.count/b*x[0]}),M[T]=R.map(function(x){return(_+L.count/b*x[1])/S})):(M[$]=R.map(function(x){return z+x[0]}),M[T]=R.map(function(x){return(_+x[1])/S})),C.push(M)}),n.rows=C}Qc.DataSet.registerTransform("bin.hexagon",n0);Qc.DataSet.registerTransform("bin.hex",n0);Qc.DataSet.registerTransform("hexbin",n0);var l7={};Object.defineProperty(l7,"__esModule",{value:!0});var es=fn.exports,jt=Q,f7=es.__importDefault(xr),Kd=W,s7=_n,c7={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function v7(n,r,e){var t=n-e,i=Math.floor(t/r);return[i*r+e,(i+1)*r+e]}function h7(n){return Math.ceil(Math.log(n)/Math.LN2)+1}function Zd(n,r){r=jt.assign({},c7,r);var e=s7.getField(r);if(n.rows.length!==0){var t=n.range(e),i=t[1]-t[0],a=r.binWidth,o=r.bins;if(!a&&o){if(o<=0)throw new TypeError("Invalid bins: it must be a positive number!");a=i/o}if(!a&&!o){var f=h7(n.rows.length);a=i/f}var u=r.offset%a,c=[],l=r.groupBy,v=f7.default(n.rows,l);jt.forIn(v,function(s){var h={},g=s.map(function(y){return y[e]});g.forEach(function(y){var E=es.__read(v7(y,a,u),2),$=E[0],T=E[1],k=$+"-"+T;h[k]=h[k]||{x0:$,x1:T,count:0},h[k].count++});var p=es.__read(r.as,2),d=p[0],S=p[1];if(!d||!S)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var m=jt.pick(s[0],l);jt.forIn(h,function(y){var E=jt.assign({},m);E[d]=[y.x0,y.x1],E[S]=y.count,c.push(E)})}),n.rows=c}}Kd.DataSet.registerTransform("bin.histogram",Zd);Kd.DataSet.registerTransform("bin.dot",Zd);var g7={};Object.defineProperty(g7,"__esModule",{value:!0});var Qd=fn.exports,Ta=Q,p7=we,d7=Qd.__importDefault(xr),m7=Qd.__importDefault(bu),y7=W,w7=y7.DataSet.registerTransform,E7=_n,S7={as:"_bin",groupBy:[],fraction:4};function _7(n,r){r=Ta.assign({},S7,r);var e=E7.getField(r),t=r.as;if(!Ta.isString(t))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var i=r.p,a=r.fraction;(!Ta.isArray(i)||i.length===0)&&(i=m7.default(a));var o=n.rows,f=r.groupBy,u=d7.default(o,f),c=[];Ta.forIn(u,function(l){var v=l[0],s=l.map(function(g){return g[e]}),h=i.map(function(g){return p7.quantile(s,g)});v[t]=h,c.push(v)}),n.rows=c}w7("bin.quantile",_7);var $7={};Object.defineProperty($7,"__esModule",{value:!0});var Fe=fn.exports,Ma=Q,T7=W,n2=T7.DataSet.registerTransform,M7=_n,P7={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function Fv(n,r,e){var t=n-e,i=Math.floor(t/r);return[i*r+e,(i+1)*r+e]}function r2(n,r){r=Ma.assign({},P7,r);var e=Fe.__read(M7.getFields(r),2),t=e[0],i=e[1];if(!t||!i)throw new TypeError("Invalid fields: must be an array with 2 strings!");var a=n.range(t),o=n.range(i),f=a[1]-a[0],u=o[1]-o[0],c=r.binWidth||[];if(c.length!==2){var l=Fe.__read(r.bins,2),v=l[0],s=l[1];if(v<=0||s<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");c=[f/v,u/s]}var h=n.rows.map(function(P){return[P[t],P[i]]}),g={},p=Fe.__read(r.offset,2),d=p[0],S=p[1];h.forEach(function(P){var R=Fe.__read(Fv(P[0],c[0],d),2),C=R[0],b=R[1],L=Fe.__read(Fv(P[1],c[1],S),2),z=L[0],_=L[1],w=C+"-"+b+"-"+z+"-"+_;g[w]=g[w]||{x0:C,x1:b,y0:z,y1:_,count:0},g[w].count++});var m=[],y=Fe.__read(r.as,3),E=y[0],$=y[1],T=y[2];if(!E||!$||!T)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(!r.sizeByCount)Ma.forIn(g,function(P){var R={};R[E]=[P.x0,P.x1,P.x1,P.x0],R[$]=[P.y0,P.y0,P.y1,P.y1],R[T]=P.count,m.push(R)});else{var k=0;Ma.forIn(g,function(P){P.count>k&&(k=P.count)}),Ma.forIn(g,function(P){var R=P.x0,C=P.x1,b=P.y0,L=P.y1,z=P.count,_=z/k,w=Fe.__read([(R+C)/2,(b+L)/2],2),M=w[0],x=w[1],N=(C-R)*_/2,U=(L-b)*_/2,vn=M-N,K=M+N,an=x-U,ln=x+U,On={};On[E]=[vn,K,K,vn],On[$]=[an,an,ln,ln],On[T]=z,m.push(On)})}n.rows=m}n2("bin.rectangle",r2);n2("bin.rect",r2);var x7={};Object.defineProperty(x7,"__esModule",{value:!0});var Ll=Q,R7=W,k7=R7.DataSet.registerTransform,b7=_n,C7={as:["_centroid_x","_centroid_y"]};function L7(n,r){r=Ll.assign({},C7,r);var e=b7.getField(r),t=r.geoView||r.geoDataView;if(Ll.isString(t)&&n.dataSet&&(t=n.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=r.as;if(!Ll.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var a=i[0],o=i[1];n.rows.forEach(function(f){var u=t.geoFeatureByName(f[e]);u&&(t._projectedAs?(f[a]=u[t._projectedAs[2]],f[o]=u[t._projectedAs[3]]):(f[a]=u.centroidX,f[o]=u.centroidY))})}k7("geo.centroid",L7);var N7={};Object.defineProperty(N7,"__esModule",{value:!0});var r0=fn.exports,zv=Q,A7=Fi,I7=r0.__importDefault(sd),D7=W,O7=D7.DataSet.registerTransform,q7=r0.__importDefault(xu),F7={as:["_x","_y","_centroid_x","_centroid_y"]};function z7(n,r){if(n.dataType!=="geo"&&n.dataType!=="geo-graticule")throw new TypeError("Invalid dataView: this transform is for Geo data only!");r=zv.assign({},F7,r);var e=r.projection;if(!e)throw new TypeError("Invalid projection!");e=q7.default(e);var t=A7.geoPath(e),i=r.as;if(!zv.isArray(i)||i.length!==4)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');n._projectedAs=i;var a=r0.__read(i,4),o=a[0],f=a[1],u=a[2],c=a[3];n.rows.forEach(function(l){l[o]=[],l[f]=[];var v=t(l);if(v){var s=I7.default(v);s._path.forEach(function(g){l[o].push(g[1]),l[f].push(g[2])});var h=t.centroid(l);l[u]=h[0],l[c]=h[1]}}),n.rows=n.rows.filter(function(l){return l[o].length!==0})}O7("geo.projection",z7);var B7={};Object.defineProperty(B7,"__esModule",{value:!0});var Nl=Q,G7=W,U7=G7.DataSet.registerTransform,H7=_n,Y7={as:["_x","_y"]};function V7(n,r){r=Nl.assign({},Y7,r);var e=H7.getField(r),t=r.geoView||r.geoDataView;if(Nl.isString(t)&&(t=n.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=r.as;if(!Nl.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var a=i[0],o=i[1];n.rows.forEach(function(f){var u=t.geoFeatureByName(f[e]);u&&(t._projectedAs?(f[a]=u[t._projectedAs[0]],f[o]=u[t._projectedAs[1]]):(f[a]=u.longitude,f[o]=u.latitude))})}U7("geo.region",V7);var j7={};Object.defineProperty(j7,"__esModule",{value:!0});var Lt=Q,e2=W,X7={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(n){return n.id},source:function(n){return n.source},target:function(n){return n.target},sourceWeight:function(n){return n.value||1},targetWeight:function(n){return n.value||1},sortBy:null};function W7(n,r,e){return e===void 0&&(e={}),n.forEach(function(t){var i=r.edgeSource(t),a=r.edgeTarget(t);e[i]||(e[i]={id:i}),e[a]||(e[a]={id:a})}),Lt.values(e)}function J7(n,r,e){Lt.forIn(n,function(t,i){t.inEdges=r.filter(function(a){return""+e.target(a)==""+i}),t.outEdges=r.filter(function(a){return""+e.source(a)==""+i}),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach(function(a){t.value+=e.targetWeight(a)}),t.outEdges.forEach(function(a){t.value+=e.sourceWeight(a)})})}function K7(n,r){var e={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return(""+r.id(i)).localeCompare(""+r.id(a))}},t=e[r.sortBy];!t&&Lt.isFunction(r.sortBy)&&(t=r.sortBy),t&&n.sort(t)}function Z7(n,r){var e=n.length;if(!e)throw new TypeError("Invalid nodes: it's empty!");if(r.weight){var t=r.marginRatio;if(t<0||t>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=t/(2*e),a=r.thickness;if(a<=0||a>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var o=0;n.forEach(function(u){o+=u.value}),n.forEach(function(u){u.weight=u.value/o,u.width=u.weight*(1-t),u.height=a}),n.forEach(function(u,c){for(var l=0,v=c-1;v>=0;v--)l+=n[v].width+2*i;var s=u.minX=i+l,h=u.maxX=u.minX+u.width,g=u.minY=r.y-a/2,p=u.maxY=g+a;u.x=[s,h,h,s],u.y=[g,g,p,p]})}else{var f=1/e;n.forEach(function(u,c){u.x=(c+.5)*f,u.y=r.y})}}function Q7(n,r,e){if(e.weight){var t={};Lt.forIn(n,function(i,a){t[a]=i.value}),r.forEach(function(i){var a=e.source(i),o=e.target(i),f=n[a],u=n[o];if(f&&u){var c=t[a],l=e.sourceWeight(i),v=f.minX+(f.value-c)/f.value*f.width,s=v+l/f.value*f.width;t[a]-=l;var h=t[o],g=e.targetWeight(i),p=u.minX+(u.value-h)/u.value*u.width,d=p+g/u.value*u.width;t[o]-=g;var S=e.y;i.x=[v,s,p,d],i.y=[S,S,S,S]}})}else r.forEach(function(i){var a=n[e.source(i)],o=n[e.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y])})}function t2(n,r){r=Lt.assign({},X7,r);var e={},t=n.nodes,i=n.edges;(!Lt.isArray(t)||t.length===0)&&(t=W7(i,r,e)),t.forEach(function(a){var o=r.id(a);e[o]=a}),J7(e,i,r),K7(t,r),Z7(t,r),Q7(e,i,r),n.nodes=t,n.edges=i}e2.DataSet.registerTransform("diagram.arc",t2);e2.DataSet.registerTransform("arc",t2);var n_={},tu;if(typeof Rh=="function")try{tu=require("graphlib")}catch{}tu||(tu=window.graphlib);var Vr=tu,iu;if(typeof Rh=="function")try{iu={cloneDeep:require("lodash/cloneDeep"),constant:require("lodash/constant"),defaults:require("lodash/defaults"),each:require("lodash/each"),filter:require("lodash/filter"),find:require("lodash/find"),flatten:require("lodash/flatten"),forEach:require("lodash/forEach"),forIn:require("lodash/forIn"),has:require("lodash/has"),isUndefined:require("lodash/isUndefined"),last:require("lodash/last"),map:require("lodash/map"),mapValues:require("lodash/mapValues"),max:require("lodash/max"),merge:require("lodash/merge"),min:require("lodash/min"),minBy:require("lodash/minBy"),now:require("lodash/now"),pick:require("lodash/pick"),range:require("lodash/range"),reduce:require("lodash/reduce"),sortBy:require("lodash/sortBy"),uniqueId:require("lodash/uniqueId"),values:require("lodash/values"),zipObject:require("lodash/zipObject")}}catch{}iu||(iu=window._);var Ln=iu,r_=Du;function Du(){var n={};n._next=n._prev=n,this._sentinel=n}Du.prototype.dequeue=function(){var n=this._sentinel,r=n._prev;if(r!==n)return i2(r),r};Du.prototype.enqueue=function(n){var r=this._sentinel;n._prev&&n._next&&i2(n),n._next=r._next,r._next._prev=n,r._next=n,n._prev=r};Du.prototype.toString=function(){for(var n=[],r=this._sentinel,e=r._prev;e!==r;)n.push(JSON.stringify(e,e_)),e=e._prev;return"["+n.join(", ")+"]"};function i2(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function e_(n,r){if(n!=="_next"&&n!=="_prev")return r}var fe=Ln,t_=Vr.Graph,i_=r_,a_=u_,o_=fe.constant(1);function u_(n,r){if(n.nodeCount()<=1)return[];var e=f_(n,r||o_),t=l_(e.graph,e.buckets,e.zeroIdx);return fe.flatten(fe.map(t,function(i){return n.outEdges(i.v,i.w)}),!0)}function l_(n,r,e){for(var t=[],i=r[r.length-1],a=r[0],o;n.nodeCount();){for(;o=a.dequeue();)Al(n,r,e,o);for(;o=i.dequeue();)Al(n,r,e,o);if(n.nodeCount()){for(var f=r.length-2;f>0;--f)if(o=r[f].dequeue(),o){t=t.concat(Al(n,r,e,o,!0));break}}}return t}function Al(n,r,e,t,i){var a=i?[]:void 0;return fe.forEach(n.inEdges(t.v),function(o){var f=n.edge(o),u=n.node(o.v);i&&a.push({v:o.v,w:o.w}),u.out-=f,ts(r,e,u)}),fe.forEach(n.outEdges(t.v),function(o){var f=n.edge(o),u=o.w,c=n.node(u);c.in-=f,ts(r,e,c)}),n.removeNode(t.v),a}function f_(n,r){var e=new t_,t=0,i=0;fe.forEach(n.nodes(),function(f){e.setNode(f,{v:f,in:0,out:0})}),fe.forEach(n.edges(),function(f){var u=e.edge(f.v,f.w)||0,c=r(f),l=u+c;e.setEdge(f.v,f.w,l),i=Math.max(i,e.node(f.v).out+=c),t=Math.max(t,e.node(f.w).in+=c)});var a=fe.range(i+t+3).map(function(){return new i_}),o=t+1;return fe.forEach(e.nodes(),function(f){ts(a,o,e.node(f))}),{graph:e,buckets:a,zeroIdx:o}}function ts(n,r,e){e.out?e.in?n[e.out-e.in+r].enqueue(e):n[n.length-1].enqueue(e):n[0].enqueue(e)}var Xe=Ln,s_=a_,c_={run:v_,undo:g_};function v_(n){var r=n.graph().acyclicer==="greedy"?s_(n,e(n)):h_(n);Xe.forEach(r,function(t){var i=n.edge(t);n.removeEdge(t),i.forwardName=t.name,i.reversed=!0,n.setEdge(t.w,t.v,i,Xe.uniqueId("rev"))});function e(t){return function(i){return t.edge(i).weight}}}function h_(n){var r=[],e={},t={};function i(a){Xe.has(t,a)||(t[a]=!0,e[a]=!0,Xe.forEach(n.outEdges(a),function(o){Xe.has(e,o.w)?r.push(o):i(o.w)}),delete e[a])}return Xe.forEach(n.nodes(),i),r}function g_(n){Xe.forEach(n.edges(),function(r){var e=n.edge(r);if(e.reversed){n.removeEdge(r);var t=e.forwardName;delete e.reversed,delete e.forwardName,n.setEdge(r.w,r.v,e,t)}})}var Sn=Ln,a2=Vr.Graph,hr={addDummyNode:o2,simplify:p_,asNonCompoundGraph:d_,successorWeights:m_,predecessorWeights:y_,intersectRect:w_,buildLayerMatrix:E_,normalizeRanks:S_,removeEmptyRanks:__,addBorderNode:$_,maxRank:u2,partition:T_,time:M_,notime:P_};function o2(n,r,e,t){var i;do i=Sn.uniqueId(t);while(n.hasNode(i));return e.dummy=r,n.setNode(i,e),i}function p_(n){var r=new a2().setGraph(n.graph());return Sn.forEach(n.nodes(),function(e){r.setNode(e,n.node(e))}),Sn.forEach(n.edges(),function(e){var t=r.edge(e.v,e.w)||{weight:0,minlen:1},i=n.edge(e);r.setEdge(e.v,e.w,{weight:t.weight+i.weight,minlen:Math.max(t.minlen,i.minlen)})}),r}function d_(n){var r=new a2({multigraph:n.isMultigraph()}).setGraph(n.graph());return Sn.forEach(n.nodes(),function(e){n.children(e).length||r.setNode(e,n.node(e))}),Sn.forEach(n.edges(),function(e){r.setEdge(e,n.edge(e))}),r}function m_(n){var r=Sn.map(n.nodes(),function(e){var t={};return Sn.forEach(n.outEdges(e),function(i){t[i.w]=(t[i.w]||0)+n.edge(i).weight}),t});return Sn.zipObject(n.nodes(),r)}function y_(n){var r=Sn.map(n.nodes(),function(e){var t={};return Sn.forEach(n.inEdges(e),function(i){t[i.v]=(t[i.v]||0)+n.edge(i).weight}),t});return Sn.zipObject(n.nodes(),r)}function w_(n,r){var e=n.x,t=n.y,i=r.x-e,a=r.y-t,o=n.width/2,f=n.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,c;return Math.abs(a)*o>Math.abs(i)*f?(a<0&&(f=-f),u=f*i/a,c=f):(i<0&&(o=-o),u=o,c=o*a/i),{x:e+u,y:t+c}}function E_(n){var r=Sn.map(Sn.range(u2(n)+1),function(){return[]});return Sn.forEach(n.nodes(),function(e){var t=n.node(e),i=t.rank;Sn.isUndefined(i)||(r[i][t.order]=e)}),r}function S_(n){var r=Sn.min(Sn.map(n.nodes(),function(e){return n.node(e).rank}));Sn.forEach(n.nodes(),function(e){var t=n.node(e);Sn.has(t,"rank")&&(t.rank-=r)})}function __(n){var r=Sn.min(Sn.map(n.nodes(),function(a){return n.node(a).rank})),e=[];Sn.forEach(n.nodes(),function(a){var o=n.node(a).rank-r;e[o]||(e[o]=[]),e[o].push(a)});var t=0,i=n.graph().nodeRankFactor;Sn.forEach(e,function(a,o){Sn.isUndefined(a)&&o%i!==0?--t:t&&Sn.forEach(a,function(f){n.node(f).rank+=t})})}function $_(n,r,e,t){var i={width:0,height:0};return arguments.length>=4&&(i.rank=e,i.order=t),o2(n,"border",i,r)}function u2(n){return Sn.max(Sn.map(n.nodes(),function(r){var e=n.node(r).rank;if(!Sn.isUndefined(e))return e}))}function T_(n,r){var e={lhs:[],rhs:[]};return Sn.forEach(n,function(t){r(t)?e.lhs.push(t):e.rhs.push(t)}),e}function M_(n,r){var e=Sn.now();try{return r()}finally{console.log(n+" time: "+(Sn.now()-e)+"ms")}}function P_(n,r){return r()}var l2=Ln,x_=hr,R_={run:k_,undo:C_};function k_(n){n.graph().dummyChains=[],l2.forEach(n.edges(),function(r){b_(n,r)})}function b_(n,r){var e=r.v,t=n.node(e).rank,i=r.w,a=n.node(i).rank,o=r.name,f=n.edge(r),u=f.labelRank;if(a!==t+1){n.removeEdge(r);var c,l,v;for(v=0,++t;t<a;++v,++t)f.points=[],l={width:0,height:0,edgeLabel:f,edgeObj:r,rank:t},c=x_.addDummyNode(n,"edge",l,"_d"),t===u&&(l.width=f.width,l.height=f.height,l.dummy="edge-label",l.labelpos=f.labelpos),n.setEdge(e,c,{weight:f.weight},o),v===0&&n.graph().dummyChains.push(c),e=c;n.setEdge(e,i,{weight:f.weight},o)}}function C_(n){l2.forEach(n.graph().dummyChains,function(r){var e=n.node(r),t=e.edgeLabel,i;for(n.setEdge(e.edgeObj,t);e.dummy;)i=n.successors(r)[0],n.removeNode(r),t.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height),r=i,e=n.node(r)})}var Pa=Ln,Ou={longestPath:L_,slack:N_};function L_(n){var r={};function e(t){var i=n.node(t);if(Pa.has(r,t))return i.rank;r[t]=!0;var a=Pa.min(Pa.map(n.outEdges(t),function(o){return e(o.w)-n.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}Pa.forEach(n.sources(),e)}function N_(n,r){return n.node(r.w).rank-n.node(r.v).rank-n.edge(r).minlen}var au=Ln,A_=Vr.Graph,ou=Ou.slack,f2=I_;function I_(n){var r=new A_({directed:!1}),e=n.nodes()[0],t=n.nodeCount();r.setNode(e,{});for(var i,a;D_(r,n)<t;)i=O_(r,n),a=r.hasNode(i.v)?ou(n,i):-ou(n,i),q_(r,n,a);return r}function D_(n,r){function e(t){au.forEach(r.nodeEdges(t),function(i){var a=i.v,o=t===a?i.w:a;!n.hasNode(o)&&!ou(r,i)&&(n.setNode(o,{}),n.setEdge(t,o,{}),e(o))})}return au.forEach(n.nodes(),e),n.nodeCount()}function O_(n,r){return au.minBy(r.edges(),function(e){if(n.hasNode(e.v)!==n.hasNode(e.w))return ou(r,e)})}function q_(n,r,e){au.forEach(n.nodes(),function(t){r.node(t).rank+=e})}var me=Ln,F_=f2,z_=Ou.slack,B_=Ou.longestPath,G_=Vr.alg.preorder,U_=Vr.alg.postorder,H_=hr.simplify,Y_=tt;tt.initLowLimValues=t0;tt.initCutValues=e0;tt.calcCutValue=s2;tt.leaveEdge=v2;tt.enterEdge=h2;tt.exchangeEdges=g2;function tt(n){n=H_(n),B_(n);var r=F_(n);t0(r),e0(r,n);for(var e,t;e=v2(r);)t=h2(r,n,e),g2(r,n,e,t)}function e0(n,r){var e=U_(n,n.nodes());e=e.slice(0,e.length-1),me.forEach(e,function(t){V_(n,r,t)})}function V_(n,r,e){var t=n.node(e),i=t.parent;n.edge(e,i).cutvalue=s2(n,r,e)}function s2(n,r,e){var t=n.node(e),i=t.parent,a=!0,o=r.edge(e,i),f=0;return o||(a=!1,o=r.edge(i,e)),f=o.weight,me.forEach(r.nodeEdges(e),function(u){var c=u.v===e,l=c?u.w:u.v;if(l!==i){var v=c===a,s=r.edge(u).weight;if(f+=v?s:-s,X_(n,e,l)){var h=n.edge(e,l).cutvalue;f+=v?-h:h}}}),f}function t0(n,r){arguments.length<2&&(r=n.nodes()[0]),c2(n,{},1,r)}function c2(n,r,e,t,i){var a=e,o=n.node(t);return r[t]=!0,me.forEach(n.neighbors(t),function(f){me.has(r,f)||(e=c2(n,r,e,f,t))}),o.low=a,o.lim=e++,i?o.parent=i:delete o.parent,e}function v2(n){return me.find(n.edges(),function(r){return n.edge(r).cutvalue<0})}function h2(n,r,e){var t=e.v,i=e.w;r.hasEdge(t,i)||(t=e.w,i=e.v);var a=n.node(t),o=n.node(i),f=a,u=!1;a.lim>o.lim&&(f=o,u=!0);var c=me.filter(r.edges(),function(l){return u===Bv(n,n.node(l.v),f)&&u!==Bv(n,n.node(l.w),f)});return me.minBy(c,function(l){return z_(r,l)})}function g2(n,r,e,t){var i=e.v,a=e.w;n.removeEdge(i,a),n.setEdge(t.v,t.w,{}),t0(n),e0(n,r),j_(n,r)}function j_(n,r){var e=me.find(n.nodes(),function(i){return!r.node(i).parent}),t=G_(n,e);t=t.slice(1),me.forEach(t,function(i){var a=n.node(i).parent,o=r.edge(i,a),f=!1;o||(o=r.edge(a,i),f=!0),r.node(i).rank=r.node(a).rank+(f?o.minlen:-o.minlen)})}function X_(n,r,e){return n.hasEdge(r,e)}function Bv(n,r,e){return e.low<=r.lim&&r.lim<=e.lim}var W_=Ou,p2=W_.longestPath,J_=f2,K_=Y_,Z_=Q_;function Q_(n){switch(n.graph().ranker){case"network-simplex":Gv(n);break;case"tight-tree":r$(n);break;case"longest-path":n$(n);break;default:Gv(n)}}var n$=p2;function r$(n){p2(n),J_(n)}function Gv(n){K_(n)}var is=Ln,e$=t$;function t$(n){var r=a$(n);is.forEach(n.graph().dummyChains,function(e){for(var t=n.node(e),i=t.edgeObj,a=i$(n,r,i.v,i.w),o=a.path,f=a.lca,u=0,c=o[u],l=!0;e!==i.w;){if(t=n.node(e),l){for(;(c=o[u])!==f&&n.node(c).maxRank<t.rank;)u++;c===f&&(l=!1)}if(!l){for(;u<o.length-1&&n.node(c=o[u+1]).minRank<=t.rank;)u++;c=o[u]}n.setParent(e,c),e=n.successors(e)[0]}})}function i$(n,r,e,t){var i=[],a=[],o=Math.min(r[e].low,r[t].low),f=Math.max(r[e].lim,r[t].lim),u,c;u=e;do u=n.parent(u),i.push(u);while(u&&(r[u].low>o||f>r[u].lim));for(c=u,u=t;(u=n.parent(u))!==c;)a.push(u);return{path:i.concat(a.reverse()),lca:c}}function a$(n){var r={},e=0;function t(i){var a=e;is.forEach(n.children(i),t),r[i]={low:a,lim:e++}}return is.forEach(n.children(),t),r}var se=Ln,as=hr,o$={run:u$,cleanup:s$};function u$(n){var r=as.addDummyNode(n,"root",{},"_root"),e=l$(n),t=se.max(se.values(e))-1,i=2*t+1;n.graph().nestingRoot=r,se.forEach(n.edges(),function(o){n.edge(o).minlen*=i});var a=f$(n)+1;se.forEach(n.children(),function(o){d2(n,r,i,a,t,e,o)}),n.graph().nodeRankFactor=i}function d2(n,r,e,t,i,a,o){var f=n.children(o);if(!f.length){o!==r&&n.setEdge(r,o,{weight:0,minlen:e});return}var u=as.addBorderNode(n,"_bt"),c=as.addBorderNode(n,"_bb"),l=n.node(o);n.setParent(u,o),l.borderTop=u,n.setParent(c,o),l.borderBottom=c,se.forEach(f,function(v){d2(n,r,e,t,i,a,v);var s=n.node(v),h=s.borderTop?s.borderTop:v,g=s.borderBottom?s.borderBottom:v,p=s.borderTop?t:2*t,d=h!==g?1:i-a[o]+1;n.setEdge(u,h,{weight:p,minlen:d,nestingEdge:!0}),n.setEdge(g,c,{weight:p,minlen:d,nestingEdge:!0})}),n.parent(o)||n.setEdge(r,u,{weight:0,minlen:i+a[o]})}function l$(n){var r={};function e(t,i){var a=n.children(t);a&&a.length&&se.forEach(a,function(o){e(o,i+1)}),r[t]=i}return se.forEach(n.children(),function(t){e(t,1)}),r}function f$(n){return se.reduce(n.edges(),function(r,e){return r+n.edge(e).weight},0)}function s$(n){var r=n.graph();n.removeNode(r.nestingRoot),delete r.nestingRoot,se.forEach(n.edges(),function(e){var t=n.edge(e);t.nestingEdge&&n.removeEdge(e)})}var Il=Ln,c$=hr,v$=h$;function h$(n){function r(e){var t=n.children(e),i=n.node(e);if(t.length&&Il.forEach(t,r),Il.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)Uv(n,"borderLeft","_bl",e,i,a),Uv(n,"borderRight","_br",e,i,a)}}Il.forEach(n.children(),r)}function Uv(n,r,e,t,i,a){var o={width:0,height:0,rank:a,borderType:r},f=i[r][a-1],u=c$.addDummyNode(n,"border",o,e);i[r][a]=u,n.setParent(u,t),f&&n.setEdge(f,u,{weight:1})}var ne=Ln,g$={adjust:p$,undo:d$};function p$(n){var r=n.graph().rankdir.toLowerCase();(r==="lr"||r==="rl")&&m2(n)}function d$(n){var r=n.graph().rankdir.toLowerCase();(r==="bt"||r==="rl")&&m$(n),(r==="lr"||r==="rl")&&(y$(n),m2(n))}function m2(n){ne.forEach(n.nodes(),function(r){Hv(n.node(r))}),ne.forEach(n.edges(),function(r){Hv(n.edge(r))})}function Hv(n){var r=n.width;n.width=n.height,n.height=r}function m$(n){ne.forEach(n.nodes(),function(r){Dl(n.node(r))}),ne.forEach(n.edges(),function(r){var e=n.edge(r);ne.forEach(e.points,Dl),ne.has(e,"y")&&Dl(e)})}function Dl(n){n.y=-n.y}function y$(n){ne.forEach(n.nodes(),function(r){Ol(n.node(r))}),ne.forEach(n.edges(),function(r){var e=n.edge(r);ne.forEach(e.points,Ol),ne.has(e,"x")&&Ol(e)})}function Ol(n){var r=n.x;n.x=n.y,n.y=r}var ae=Ln,w$=E$;function E$(n){var r={},e=ae.filter(n.nodes(),function(f){return!n.children(f).length}),t=ae.max(ae.map(e,function(f){return n.node(f).rank})),i=ae.map(ae.range(t+1),function(){return[]});function a(f){if(!ae.has(r,f)){r[f]=!0;var u=n.node(f);i[u.rank].push(f),ae.forEach(n.successors(f),a)}}var o=ae.sortBy(e,function(f){return n.node(f).rank});return ae.forEach(o,a),i}var Se=Ln,S$=_$;function _$(n,r){for(var e=0,t=1;t<r.length;++t)e+=$$(n,r[t-1],r[t]);return e}function $$(n,r,e){for(var t=Se.zipObject(e,Se.map(e,function(c,l){return l})),i=Se.flatten(Se.map(r,function(c){return Se.sortBy(Se.map(n.outEdges(c),function(l){return{pos:t[l.w],weight:n.edge(l).weight}}),"pos")}),!0),a=1;a<e.length;)a<<=1;var o=2*a-1;a-=1;var f=Se.map(new Array(o),function(){return 0}),u=0;return Se.forEach(i.forEach(function(c){var l=c.pos+a;f[l]+=c.weight;for(var v=0;l>0;)l%2&&(v+=f[l+1]),l=l-1>>1,f[l]+=c.weight;u+=c.weight*v})),u}var Yv=Ln,T$=M$;function M$(n,r){return Yv.map(r,function(e){var t=n.inEdges(e);if(t.length){var i=Yv.reduce(t,function(a,o){var f=n.edge(o),u=n.node(o.v);return{sum:a.sum+f.weight*u.order,weight:a.weight+f.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:e}})}var wr=Ln,P$=x$;function x$(n,r){var e={};wr.forEach(n,function(i,a){var o=e[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};wr.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),wr.forEach(r.edges(),function(i){var a=e[i.v],o=e[i.w];!wr.isUndefined(a)&&!wr.isUndefined(o)&&(o.indegree++,a.out.push(e[i.w]))});var t=wr.filter(e,function(i){return!i.indegree});return R$(t)}function R$(n){var r=[];function e(a){return function(o){o.merged||(wr.isUndefined(o.barycenter)||wr.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&k$(a,o)}}function t(a){return function(o){o.in.push(a),--o.indegree===0&&n.push(o)}}for(;n.length;){var i=n.pop();r.push(i),wr.forEach(i.in.reverse(),e(i)),wr.forEach(i.out,t(i))}return wr.map(wr.filter(r,function(a){return!a.merged}),function(a){return wr.pick(a,["vs","i","barycenter","weight"])})}function k$(n,r){var e=0,t=0;n.weight&&(e+=n.barycenter*n.weight,t+=n.weight),r.weight&&(e+=r.barycenter*r.weight,t+=r.weight),n.vs=r.vs.concat(n.vs),n.barycenter=e/t,n.weight=t,n.i=Math.min(r.i,n.i),r.merged=!0}var li=Ln,b$=hr,C$=L$;function L$(n,r){var e=b$.partition(n,function(l){return li.has(l,"barycenter")}),t=e.lhs,i=li.sortBy(e.rhs,function(l){return-l.i}),a=[],o=0,f=0,u=0;t.sort(N$(!!r)),u=Vv(a,i,u),li.forEach(t,function(l){u+=l.vs.length,a.push(l.vs),o+=l.barycenter*l.weight,f+=l.weight,u=Vv(a,i,u)});var c={vs:li.flatten(a,!0)};return f&&(c.barycenter=o/f,c.weight=f),c}function Vv(n,r,e){for(var t;r.length&&(t=li.last(r)).i<=e;)r.pop(),n.push(t.vs),e++;return e}function N$(n){return function(r,e){return r.barycenter<e.barycenter?-1:r.barycenter>e.barycenter?1:n?e.i-r.i:r.i-e.i}}var xe=Ln,A$=T$,I$=P$,D$=C$,O$=y2;function y2(n,r,e,t){var i=n.children(r),a=n.node(r),o=a?a.borderLeft:void 0,f=a?a.borderRight:void 0,u={};o&&(i=xe.filter(i,function(g){return g!==o&&g!==f}));var c=A$(n,i);xe.forEach(c,function(g){if(n.children(g.v).length){var p=y2(n,g.v,e,t);u[g.v]=p,xe.has(p,"barycenter")&&F$(g,p)}});var l=I$(c,e);q$(l,u);var v=D$(l,t);if(o&&(v.vs=xe.flatten([o,v.vs,f],!0),n.predecessors(o).length)){var s=n.node(n.predecessors(o)[0]),h=n.node(n.predecessors(f)[0]);xe.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+s.order+h.order)/(v.weight+2),v.weight+=2}return v}function q$(n,r){xe.forEach(n,function(e){e.vs=xe.flatten(e.vs.map(function(t){return r[t]?r[t].vs:t}),!0)})}function F$(n,r){xe.isUndefined(n.barycenter)?(n.barycenter=r.barycenter,n.weight=r.weight):(n.barycenter=(n.barycenter*n.weight+r.barycenter*r.weight)/(n.weight+r.weight),n.weight+=r.weight)}var fi=Ln,z$=Vr.Graph,B$=G$;function G$(n,r,e){var t=U$(n),i=new z$({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(a){return n.node(a)});return fi.forEach(n.nodes(),function(a){var o=n.node(a),f=n.parent(a);(o.rank===r||o.minRank<=r&&r<=o.maxRank)&&(i.setNode(a),i.setParent(a,f||t),fi.forEach(n[e](a),function(u){var c=u.v===a?u.w:u.v,l=i.edge(c,a),v=fi.isUndefined(l)?0:l.weight;i.setEdge(c,a,{weight:n.edge(u).weight+v})}),fi.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[r],borderRight:o.borderRight[r]}))}),i}function U$(n){for(var r;n.hasNode(r=fi.uniqueId("_root")););return r}var H$=Ln,Y$=V$;function V$(n,r,e){var t={},i;H$.forEach(e,function(a){for(var o=n.parent(a),f,u;o;){if(f=n.parent(o),f?(u=t[f],t[f]=o):(u=i,i=o),u&&u!==o){r.setEdge(u,o);return}o=f}})}var be=Ln,j$=w$,X$=S$,W$=O$,J$=B$,K$=Y$,Z$=Vr.Graph,jv=hr,Q$=nT;function nT(n){var r=jv.maxRank(n),e=Xv(n,be.range(1,r+1),"inEdges"),t=Xv(n,be.range(r-1,-1,-1),"outEdges"),i=j$(n);Wv(n,i);for(var a=Number.POSITIVE_INFINITY,o,f=0,u=0;u<4;++f,++u){rT(f%2?e:t,f%4>=2),i=jv.buildLayerMatrix(n);var c=X$(n,i);c<a&&(u=0,o=be.cloneDeep(i),a=c)}Wv(n,o)}function Xv(n,r,e){return be.map(r,function(t){return J$(n,t,e)})}function rT(n,r){var e=new Z$;be.forEach(n,function(t){var i=t.graph().root,a=W$(t,i,e,r);be.forEach(a.vs,function(o,f){t.node(o).order=f}),K$(t,e,a.vs)})}function Wv(n,r){be.forEach(r,function(e){be.forEach(e,function(t,i){n.node(t).order=i})})}var rn=Ln,eT=Vr.Graph,tT=hr,iT={positionX:uT,findType1Conflicts:w2,findType2Conflicts:E2,addConflict:i0,hasConflict:S2,verticalAlignment:_2,horizontalCompaction:$2,alignCoordinates:M2,findSmallestWidthAlignment:T2,balance:P2};function w2(n,r){var e={};function t(i,a){var o=0,f=0,u=i.length,c=rn.last(a);return rn.forEach(a,function(l,v){var s=aT(n,l),h=s?n.node(s).order:u;(s||l===c)&&(rn.forEach(a.slice(f,v+1),function(g){rn.forEach(n.predecessors(g),function(p){var d=n.node(p),S=d.order;(S<o||h<S)&&!(d.dummy&&n.node(g).dummy)&&i0(e,p,g)})}),f=v+1,o=h)}),a}return rn.reduce(r,t),e}function E2(n,r){var e={};function t(a,o,f,u,c){var l;rn.forEach(rn.range(o,f),function(v){l=a[v],n.node(l).dummy&&rn.forEach(n.predecessors(l),function(s){var h=n.node(s);h.dummy&&(h.order<u||h.order>c)&&i0(e,s,l)})})}function i(a,o){var f=-1,u,c=0;return rn.forEach(o,function(l,v){if(n.node(l).dummy==="border"){var s=n.predecessors(l);s.length&&(u=n.node(s[0]).order,t(o,c,v,f,u),c=v,f=u)}t(o,c,o.length,u,a.length)}),o}return rn.reduce(r,i),e}function aT(n,r){if(n.node(r).dummy)return rn.find(n.predecessors(r),function(e){return n.node(e).dummy})}function i0(n,r,e){if(r>e){var t=r;r=e,e=t}var i=n[r];i||(n[r]=i={}),i[e]=!0}function S2(n,r,e){if(r>e){var t=r;r=e,e=t}return rn.has(n[r],e)}function _2(n,r,e,t){var i={},a={},o={};return rn.forEach(r,function(f){rn.forEach(f,function(u,c){i[u]=u,a[u]=u,o[u]=c})}),rn.forEach(r,function(f){var u=-1;rn.forEach(f,function(c){var l=t(c);if(l.length){l=rn.sortBy(l,function(p){return o[p]});for(var v=(l.length-1)/2,s=Math.floor(v),h=Math.ceil(v);s<=h;++s){var g=l[s];a[c]===c&&u<o[g]&&!S2(e,c,g)&&(a[g]=c,a[c]=i[c]=i[g],u=o[g])}}})}),{root:i,align:a}}function $2(n,r,e,t,i){var a={},o=oT(n,r,e,i),f=i?"borderLeft":"borderRight";function u(v,s){for(var h=o.nodes(),g=h.pop(),p={};g;)p[g]?v(g):(p[g]=!0,h.push(g),h=h.concat(s(g))),g=h.pop()}function c(v){a[v]=o.inEdges(v).reduce(function(s,h){return Math.max(s,a[h.v]+o.edge(h))},0)}function l(v){var s=o.outEdges(v).reduce(function(g,p){return Math.min(g,a[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=n.node(v);s!==Number.POSITIVE_INFINITY&&h.borderType!==f&&(a[v]=Math.max(a[v],s))}return u(c,o.predecessors.bind(o)),u(l,o.successors.bind(o)),rn.forEach(t,function(v){a[v]=a[e[v]]}),a}function oT(n,r,e,t){var i=new eT,a=n.graph(),o=lT(a.nodesep,a.edgesep,t);return rn.forEach(r,function(f){var u;rn.forEach(f,function(c){var l=e[c];if(i.setNode(l),u){var v=e[u],s=i.edge(v,l);i.setEdge(v,l,Math.max(o(n,c,u),s||0))}u=c})}),i}function T2(n,r){return rn.minBy(rn.values(r),function(e){var t=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return rn.forIn(e,function(a,o){var f=fT(n,o)/2;t=Math.max(a+f,t),i=Math.min(a-f,i)}),t-i})}function M2(n,r){var e=rn.values(r),t=rn.min(e),i=rn.max(e);rn.forEach(["u","d"],function(a){rn.forEach(["l","r"],function(o){var f=a+o,u=n[f],c;if(u!==r){var l=rn.values(u);c=o==="l"?t-rn.min(l):i-rn.max(l),c&&(n[f]=rn.mapValues(u,function(v){return v+c}))}})})}function P2(n,r){return rn.mapValues(n.ul,function(e,t){if(r)return n[r.toLowerCase()][t];var i=rn.sortBy(rn.map(n,t));return(i[1]+i[2])/2})}function uT(n){var r=tT.buildLayerMatrix(n),e=rn.merge(w2(n,r),E2(n,r)),t={},i;rn.forEach(["u","d"],function(o){i=o==="u"?r:rn.values(r).reverse(),rn.forEach(["l","r"],function(f){f==="r"&&(i=rn.map(i,function(v){return rn.values(v).reverse()}));var u=(o==="u"?n.predecessors:n.successors).bind(n),c=_2(n,i,e,u),l=$2(n,i,c.root,c.align,f==="r");f==="r"&&(l=rn.mapValues(l,function(v){return-v})),t[o+f]=l})});var a=T2(n,t);return M2(t,a),P2(t,n.graph().align)}function lT(n,r,e){return function(t,i,a){var o=t.node(i),f=t.node(a),u=0,c;if(u+=o.width/2,rn.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(u+=e?c:-c),c=0,u+=(o.dummy?r:n)/2,u+=(f.dummy?r:n)/2,u+=f.width/2,rn.has(f,"labelpos"))switch(f.labelpos.toLowerCase()){case"l":c=f.width/2;break;case"r":c=-f.width/2;break}return c&&(u+=e?c:-c),c=0,u}}function fT(n,r){return n.node(r).width}var si=Ln,x2=hr,sT=iT.positionX,cT=vT;function vT(n){n=x2.asNonCompoundGraph(n),hT(n),si.forEach(sT(n),function(r,e){n.node(e).x=r})}function hT(n){var r=x2.buildLayerMatrix(n),e=n.graph().ranksep,t=0;si.forEach(r,function(i){var a=si.max(si.map(i,function(o){return n.node(o).height}));si.forEach(i,function(o){n.node(o).y=t+a/2}),t+=a+e})}var un=Ln,Jv=c_,Kv=R_,gT=Z_,pT=hr.normalizeRanks,dT=e$,mT=hr.removeEmptyRanks,Zv=o$,yT=v$,Qv=g$,wT=Q$,ET=cT,Ne=hr,ST=Vr.Graph,_T=$T;function $T(n,r){var e=r&&r.debugTiming?Ne.time:Ne.notime;e("layout",function(){var t=e("  buildLayoutGraph",function(){return AT(n)});e("  runLayout",function(){TT(t,e)}),e("  updateInputGraph",function(){MT(n,t)})})}function TT(n,r){r("    makeSpaceForEdgeLabels",function(){IT(n)}),r("    removeSelfEdges",function(){HT(n)}),r("    acyclic",function(){Jv.run(n)}),r("    nestingGraph.run",function(){Zv.run(n)}),r("    rank",function(){gT(Ne.asNonCompoundGraph(n))}),r("    injectEdgeLabelProxies",function(){DT(n)}),r("    removeEmptyRanks",function(){mT(n)}),r("    nestingGraph.cleanup",function(){Zv.cleanup(n)}),r("    normalizeRanks",function(){pT(n)}),r("    assignRankMinMax",function(){OT(n)}),r("    removeEdgeLabelProxies",function(){qT(n)}),r("    normalize.run",function(){Kv.run(n)}),r("    parentDummyChains",function(){dT(n)}),r("    addBorderSegments",function(){yT(n)}),r("    order",function(){wT(n)}),r("    insertSelfEdges",function(){YT(n)}),r("    adjustCoordinateSystem",function(){Qv.adjust(n)}),r("    position",function(){ET(n)}),r("    positionSelfEdges",function(){VT(n)}),r("    removeBorderNodes",function(){UT(n)}),r("    normalize.undo",function(){Kv.undo(n)}),r("    fixupEdgeLabelCoords",function(){BT(n)}),r("    undoCoordinateSystem",function(){Qv.undo(n)}),r("    translateGraph",function(){FT(n)}),r("    assignNodeIntersects",function(){zT(n)}),r("    reversePoints",function(){GT(n)}),r("    acyclic.undo",function(){Jv.undo(n)})}function MT(n,r){un.forEach(n.nodes(),function(e){var t=n.node(e),i=r.node(e);t&&(t.x=i.x,t.y=i.y,r.children(e).length&&(t.width=i.width,t.height=i.height))}),un.forEach(n.edges(),function(e){var t=n.edge(e),i=r.edge(e);t.points=i.points,un.has(i,"x")&&(t.x=i.x,t.y=i.y)}),n.graph().width=r.graph().width,n.graph().height=r.graph().height}var PT=["nodesep","edgesep","ranksep","marginx","marginy"],xT={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},RT=["acyclicer","ranker","rankdir","align"],kT=["width","height"],bT={width:0,height:0},CT=["minlen","weight","width","height","labeloffset"],LT={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},NT=["labelpos"];function AT(n){var r=new ST({multigraph:!0,compound:!0}),e=Fl(n.graph());return r.setGraph(un.merge({},xT,ql(e,PT),un.pick(e,RT))),un.forEach(n.nodes(),function(t){var i=Fl(n.node(t));r.setNode(t,un.defaults(ql(i,kT),bT)),r.setParent(t,n.parent(t))}),un.forEach(n.edges(),function(t){var i=Fl(n.edge(t));r.setEdge(t,un.merge({},LT,ql(i,CT),un.pick(i,NT)))}),r}function IT(n){var r=n.graph();r.ranksep/=2,un.forEach(n.edges(),function(e){var t=n.edge(e);t.minlen*=2,t.labelpos.toLowerCase()!=="c"&&(r.rankdir==="TB"||r.rankdir==="BT"?t.width+=t.labeloffset:t.height+=t.labeloffset)})}function DT(n){un.forEach(n.edges(),function(r){var e=n.edge(r);if(e.width&&e.height){var t=n.node(r.v),i=n.node(r.w),a={rank:(i.rank-t.rank)/2+t.rank,e:r};Ne.addDummyNode(n,"edge-proxy",a,"_ep")}})}function OT(n){var r=0;un.forEach(n.nodes(),function(e){var t=n.node(e);t.borderTop&&(t.minRank=n.node(t.borderTop).rank,t.maxRank=n.node(t.borderBottom).rank,r=un.max(r,t.maxRank))}),n.graph().maxRank=r}function qT(n){un.forEach(n.nodes(),function(r){var e=n.node(r);e.dummy==="edge-proxy"&&(n.edge(e.e).labelRank=e.rank,n.removeNode(r))})}function FT(n){var r=Number.POSITIVE_INFINITY,e=0,t=Number.POSITIVE_INFINITY,i=0,a=n.graph(),o=a.marginx||0,f=a.marginy||0;function u(c){var l=c.x,v=c.y,s=c.width,h=c.height;r=Math.min(r,l-s/2),e=Math.max(e,l+s/2),t=Math.min(t,v-h/2),i=Math.max(i,v+h/2)}un.forEach(n.nodes(),function(c){u(n.node(c))}),un.forEach(n.edges(),function(c){var l=n.edge(c);un.has(l,"x")&&u(l)}),r-=o,t-=f,un.forEach(n.nodes(),function(c){var l=n.node(c);l.x-=r,l.y-=t}),un.forEach(n.edges(),function(c){var l=n.edge(c);un.forEach(l.points,function(v){v.x-=r,v.y-=t}),un.has(l,"x")&&(l.x-=r),un.has(l,"y")&&(l.y-=t)}),a.width=e-r+o,a.height=i-t+f}function zT(n){un.forEach(n.edges(),function(r){var e=n.edge(r),t=n.node(r.v),i=n.node(r.w),a,o;e.points?(a=e.points[0],o=e.points[e.points.length-1]):(e.points=[],a=i,o=t),e.points.unshift(Ne.intersectRect(t,a)),e.points.push(Ne.intersectRect(i,o))})}function BT(n){un.forEach(n.edges(),function(r){var e=n.edge(r);if(un.has(e,"x"))switch((e.labelpos==="l"||e.labelpos==="r")&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;break}})}function GT(n){un.forEach(n.edges(),function(r){var e=n.edge(r);e.reversed&&e.points.reverse()})}function UT(n){un.forEach(n.nodes(),function(r){if(n.children(r).length){var e=n.node(r),t=n.node(e.borderTop),i=n.node(e.borderBottom),a=n.node(un.last(e.borderLeft)),o=n.node(un.last(e.borderRight));e.width=Math.abs(o.x-a.x),e.height=Math.abs(i.y-t.y),e.x=a.x+e.width/2,e.y=t.y+e.height/2}}),un.forEach(n.nodes(),function(r){n.node(r).dummy==="border"&&n.removeNode(r)})}function HT(n){un.forEach(n.edges(),function(r){if(r.v===r.w){var e=n.node(r.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:r,label:n.edge(r)}),n.removeEdge(r)}})}function YT(n){var r=Ne.buildLayerMatrix(n);un.forEach(r,function(e){var t=0;un.forEach(e,function(i,a){var o=n.node(i);o.order=a+t,un.forEach(o.selfEdges,function(f){Ne.addDummyNode(n,"selfedge",{width:f.label.width,height:f.label.height,rank:o.rank,order:a+ ++t,e:f.e,label:f.label},"_se")}),delete o.selfEdges})})}function VT(n){un.forEach(n.nodes(),function(r){var e=n.node(r);if(e.dummy==="selfedge"){var t=n.node(e.e.v),i=t.x+t.width/2,a=t.y,o=e.x-i,f=t.height/2;n.setEdge(e.e,e.label),n.removeNode(r),e.label.points=[{x:i+2*o/3,y:a-f},{x:i+5*o/6,y:a-f},{x:i+o,y:a},{x:i+5*o/6,y:a+f},{x:i+2*o/3,y:a+f}],e.label.x=e.x,e.label.y=e.y}})}function ql(n,r){return un.mapValues(un.pick(n,r),Number)}function Fl(n){var r={};return un.forEach(n,function(e,t){r[t.toLowerCase()]=e}),r}var xa=Ln,jT=hr,XT=Vr.Graph,WT={debugOrdering:JT};function JT(n){var r=jT.buildLayerMatrix(n),e=new XT({compound:!0,multigraph:!0}).setGraph({});return xa.forEach(n.nodes(),function(t){e.setNode(t,{label:t}),e.setParent(t,"layer"+n.node(t).rank)}),xa.forEach(n.edges(),function(t){e.setEdge(t.v,t.w,{},t.name)}),xa.forEach(r,function(t,i){var a="layer"+i;e.setNode(a,{rank:"same"}),xa.reduce(t,function(o,f){return e.setEdge(o,f,{style:"invis"}),f})}),e}var KT="0.8.5",ZT={graphlib:Vr,layout:_T,debug:WT,util:{time:hr.time,notime:hr.notime},version:KT};Object.defineProperty(n_,"__esModule",{value:!0});var QT=fn.exports,nM=Q,nh=QT.__importDefault(ZT),R2=W,rM={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(n){return n.source},target:function(n){return n.target}};function k2(n,r){r=nM.assign({},rM,r);var e=new nh.default.graphlib.Graph;e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),n.nodes.forEach(function(a){var o=r.nodeId?r.nodeId(a):a.id;!a.height&&!a.width&&(a.height=a.width=r.edgesep),e.setNode(o,a)}),n.edges.forEach(function(a){e.setEdge(r.source(a),r.target(a))}),nh.default.layout(e);var t=[],i=[];e.nodes().forEach(function(a){var o=e.node(a),f=o.x,u=o.y,c=o.height,l=o.width;o.x=[f-l/2,f+l/2,f+l/2,f-l/2],o.y=[u+c/2,u+c/2,u-c/2,u-c/2],t.push(o)}),e.edges().forEach(function(a){var o=e.edge(a).points,f={};f.x=o.map(function(u){return u.x}),f.y=o.map(function(u){return u.y}),i.push(f)}),n.nodes=t,n.edges=i}R2.DataSet.registerTransform("diagram.dagre",k2);R2.DataSet.registerTransform("dagre",k2);var eM={},Rr="$";function uu(){}uu.prototype=ji.prototype={constructor:uu,has:function(n){return Rr+n in this},get:function(n){return this[Rr+n]},set:function(n,r){return this[Rr+n]=r,this},remove:function(n){var r=Rr+n;return r in this&&delete this[r]},clear:function(){for(var n in this)n[0]===Rr&&delete this[n]},keys:function(){var n=[];for(var r in this)r[0]===Rr&&n.push(r.slice(1));return n},values:function(){var n=[];for(var r in this)r[0]===Rr&&n.push(this[r]);return n},entries:function(){var n=[];for(var r in this)r[0]===Rr&&n.push({key:r.slice(1),value:this[r]});return n},size:function(){var n=0;for(var r in this)r[0]===Rr&&++n;return n},empty:function(){for(var n in this)if(n[0]===Rr)return!1;return!0},each:function(n){for(var r in this)r[0]===Rr&&n(this[r],r.slice(1),this)}};function ji(n,r){var e=new uu;if(n instanceof uu)n.each(function(f,u){e.set(u,f)});else if(Array.isArray(n)){var t=-1,i=n.length,a;if(r==null)for(;++t<i;)e.set(t,n[t]);else for(;++t<i;)e.set(r(a=n[t],t,n),a)}else if(n)for(var o in n)e.set(o,n[o]);return e}function tM(){var n=[],r=[],e,t,i;function a(f,u,c,l){if(u>=n.length)return e!=null&&f.sort(e),t!=null?t(f):f;for(var v=-1,s=f.length,h=n[u++],g,p,d=ji(),S,m=c();++v<s;)(S=d.get(g=h(p=f[v])+""))?S.push(p):d.set(g,[p]);return d.each(function(y,E){l(m,E,a(y,u,c,l))}),m}function o(f,u){if(++u>n.length)return f;var c,l=r[u-1];return t!=null&&u>=n.length?c=f.entries():(c=[],f.each(function(v,s){c.push({key:s,values:o(v,u)})})),l!=null?c.sort(function(v,s){return l(v.key,s.key)}):c}return i={object:function(f){return a(f,0,iM,aM)},map:function(f){return a(f,0,rh,eh)},entries:function(f){return o(a(f,0,rh,eh),0)},key:function(f){return n.push(f),i},sortKeys:function(f){return r[n.length-1]=f,i},sortValues:function(f){return e=f,i},rollup:function(f){return t=f,i}}}function iM(){return{}}function aM(n,r,e){n[r]=e}function rh(){return ji()}function eh(n,r,e){n.set(r,e)}function th(){}var ze=ji.prototype;th.prototype={constructor:th,has:ze.has,add:function(n){return n+="",this[Rr+n]=n,this},remove:ze.remove,clear:ze.clear,values:ze.keys,size:ze.size,empty:ze.empty,each:ze.each};function oM(n){return n.target.depth}function uM(n){return n.depth}function lM(n,r){return r-1-n.height}function b2(n,r){return n.sourceLinks.length?n.depth:r-1}function fM(n){return n.targetLinks.length?n.depth:n.sourceLinks.length?Zn(n.sourceLinks,oM)-1:0}function Ra(n){return function(){return n}}function ih(n,r){return a0(n.source,r.source)||n.index-r.index}function ah(n,r){return a0(n.target,r.target)||n.index-r.index}function a0(n,r){return n.y0-r.y0}function zl(n){return n.value}function sM(n){return n.index}function cM(n){return n.nodes}function vM(n){return n.links}function oh(n,r){var e=n.get(r);if(!e)throw new Error("missing: "+r);return e}function hM(){var n=0,r=0,e=1,t=1,i=24,a=8,o=sM,f=b2,u,c=cM,l=vM,v=6;function s(){var m={nodes:c.apply(null,arguments),links:l.apply(null,arguments)};return h(m),g(m),p(m),d(m),S(m),m}s.update=function(m){return S(m),m},s.nodeId=function(m){return arguments.length?(o=typeof m=="function"?m:Ra(m),s):o},s.nodeAlign=function(m){return arguments.length?(f=typeof m=="function"?m:Ra(m),s):f},s.nodeSort=function(m){return arguments.length?(u=m,s):u},s.nodeWidth=function(m){return arguments.length?(i=+m,s):i},s.nodePadding=function(m){return arguments.length?(a=+m,s):a},s.nodes=function(m){return arguments.length?(c=typeof m=="function"?m:Ra(m),s):c},s.links=function(m){return arguments.length?(l=typeof m=="function"?m:Ra(m),s):l},s.size=function(m){return arguments.length?(n=r=0,e=+m[0],t=+m[1],s):[e-n,t-r]},s.extent=function(m){return arguments.length?(n=+m[0][0],e=+m[1][0],r=+m[0][1],t=+m[1][1],s):[[n,r],[e,t]]},s.iterations=function(m){return arguments.length?(v=+m,s):v};function h(m){m.nodes.forEach(function(E,$){E.index=$,E.sourceLinks=[],E.targetLinks=[]});var y=ji(m.nodes,o);m.links.forEach(function(E,$){E.index=$;var T=E.source,k=E.target;typeof T!="object"&&(T=E.source=oh(y,T)),typeof k!="object"&&(k=E.target=oh(y,k)),T.sourceLinks.push(E),k.targetLinks.push(E)})}function g(m){m.nodes.forEach(function(y){y.value=Math.max(Vu(y.sourceLinks,zl),Vu(y.targetLinks,zl))})}function p(m){var y,E,$,T=m.nodes.length;for(y=m.nodes,E=[],$=0;y.length;++$,y=E,E=[]){if($>T)throw new Error("circular link");y.forEach(function(P){P.depth=$,P.sourceLinks.forEach(function(R){E.indexOf(R.target)<0&&E.push(R.target)})})}for(y=m.nodes,E=[],$=0;y.length;++$,y=E,E=[]){if($>T)throw new Error("circular link");y.forEach(function(P){P.height=$,P.targetLinks.forEach(function(R){E.indexOf(R.source)<0&&E.push(R.source)})})}var k=(e-n-i)/($-1);m.nodes.forEach(function(P){P.x1=(P.x0=n+Math.max(0,Math.min($-1,Math.floor(f.call(null,P,$))))*k)+i})}function d(m){var y=tM().key(function(C){return C.x0}).sortKeys(ms).entries(m.nodes).map(function(C){return C.values});T(),R();for(var E=.9,$=v;$>0;--$,E*=.9)P(E),R(),k(E),R();function T(){var C=Zn(y,function(b){return(t-r-(b.length-1)*a)/Vu(b,zl)});y.forEach(function(b){u!=null&&b.sort(u),b.forEach(function(L,z){L.y1=(L.y0=z)+L.value*C})}),m.links.forEach(function(b){b.width=b.value*C})}function k(C){y.forEach(function(b){b.forEach(function(L){let z=L.y0;for(const{target:_,width:w,value:M}of L.sourceLinks.sort(ah)){if(M>0){let x=0;for(const{source:N,width:U}of _.targetLinks){if(N===L)break;x+=U+a/2}x=(z-x-_.y0)*C*(M/Math.min(L.value,_.value)),_.y0+=x,_.y1+=x}z+=w+a/2}})})}function P(C){y.slice().reverse().forEach(function(b){b.forEach(function(L){let z=L.y0;for(const{source:_,width:w,value:M}of L.targetLinks.sort(ih)){if(M>0){let x=0;for(const{target:N,width:U}of _.sourceLinks){if(N===L)break;x+=U+a/2}x=(z-x-_.y0)*C*(M/Math.min(L.value,_.value)),_.y0+=x,_.y1+=x}z+=w+a/2}})})}function R(){y.forEach(function(C){var b,L,z=r,_=C.length,w;for(u===void 0&&C.sort(a0),w=0;w<_;++w)b=C[w],L=z-b.y0,L>0&&(b.y0+=L,b.y1+=L),z=b.y1+a;if(L=z-a-t,L>0)for(z=b.y0-=L,b.y1-=L,w=_-2;w>=0;--w)b=C[w],L=b.y1+a-z,L>0&&(b.y0-=L,b.y1-=L),z=b.y0})}}function S(m){m.nodes.forEach(function(y){y.sourceLinks.sort(ah),y.targetLinks.sort(ih)}),m.nodes.forEach(function(y){var E=y.y0,$=E;y.sourceLinks.forEach(function(T){T.y0=E+T.width/2,E+=T.width}),y.targetLinks.forEach(function(T){T.y1=$+T.width/2,$+=T.width})})}return s}var os=Math.PI,us=2*os,Ve=1e-6,gM=us-Ve;function ls(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function C2(){return new ls}ls.prototype=C2.prototype={constructor:ls,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,t){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(n,r,e,t,i,a){this._+="C"+ +n+","+ +r+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(n,r,e,t,i){n=+n,r=+r,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,f=e-n,u=t-r,c=a-n,l=o-r,v=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(v>Ve)if(!(Math.abs(l*f-u*c)>Ve)||!i)this._+="L"+(this._x1=n)+","+(this._y1=r);else{var s=e-a,h=t-o,g=f*f+u*u,p=s*s+h*h,d=Math.sqrt(g),S=Math.sqrt(v),m=i*Math.tan((os-Math.acos((g+v-p)/(2*d*S)))/2),y=m/S,E=m/d;Math.abs(y-1)>Ve&&(this._+="L"+(n+y*c)+","+(r+y*l)),this._+="A"+i+","+i+",0,0,"+ +(l*s>c*h)+","+(this._x1=n+E*f)+","+(this._y1=r+E*u)}},arc:function(n,r,e,t,i,a){n=+n,r=+r,e=+e,a=!!a;var o=e*Math.cos(t),f=e*Math.sin(t),u=n+o,c=r+f,l=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Ve||Math.abs(this._y1-c)>Ve)&&(this._+="L"+u+","+c),e&&(v<0&&(v=v%us+us),v>gM?this._+="A"+e+","+e+",0,1,"+l+","+(n-o)+","+(r-f)+"A"+e+","+e+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):v>Ve&&(this._+="A"+e+","+e+",0,"+ +(v>=os)+","+l+","+(this._x1=n+e*Math.cos(i))+","+(this._y1=r+e*Math.sin(i))))},rect:function(n,r,e,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function uh(n){return function(){return n}}function pM(n){return n[0]}function dM(n){return n[1]}var mM=Array.prototype.slice;function yM(n){return n.source}function wM(n){return n.target}function EM(n){var r=yM,e=wM,t=pM,i=dM,a=null;function o(){var f,u=mM.call(arguments),c=r.apply(this,u),l=e.apply(this,u);if(a||(a=f=C2()),n(a,+t.apply(this,(u[0]=c,u)),+i.apply(this,u),+t.apply(this,(u[0]=l,u)),+i.apply(this,u)),f)return a=null,f+""||null}return o.source=function(f){return arguments.length?(r=f,o):r},o.target=function(f){return arguments.length?(e=f,o):e},o.x=function(f){return arguments.length?(t=typeof f=="function"?f:uh(+f),o):t},o.y=function(f){return arguments.length?(i=typeof f=="function"?f:uh(+f),o):i},o.context=function(f){return arguments.length?(a=f==null?null:f,o):a},o}function SM(n,r,e,t,i){n.moveTo(r,e),n.bezierCurveTo(r=(r+t)/2,e,r,i,t,i)}function _M(){return EM(SM)}function $M(n){return[n.source.x1,n.y0]}function TM(n){return[n.target.x0,n.y1]}function MM(){return _M().source($M).target(TM)}var PM=Object.freeze(Object.defineProperty({__proto__:null,sankey:hM,sankeyCenter:fM,sankeyLeft:uM,sankeyRight:lM,sankeyJustify:b2,sankeyLinkHorizontal:MM},Symbol.toStringTag,{value:"Module"})),xM=te(PM);Object.defineProperty(eM,"__esModule",{value:!0});var ka=Q,ci=xM,L2=W,RM={sankeyLeft:ci.sankeyLeft,sankeyRight:ci.sankeyRight,sankeyCenter:ci.sankeyCenter,sankeyJustify:ci.sankeyJustify},kM={value:function(n){return n.value},source:function(n){return n.source},target:function(n){return n.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function N2(n,r){r=ka.assign({},kM,r);var e=null;ka.isString(r.nodeAlign)?e=RM[r.nodeAlign]:ka.isFunction(r.nodeAlign)&&(e=r.nodeAlign);var t=ci.sankey().nodeSort(r.sort).links(function(i){return i.edges}).nodeWidth(r.nodeWidth).nodePadding(r.nodePadding).extent([[0,0],[1,1]]);ka.isFunction(r.nodeId)&&t.nodeId(r.nodeId),e&&t.nodeAlign(e),t(n),n.nodes.forEach(function(i){var a=i.x0,o=i.x1,f=i.y0,u=i.y1;i.x=[a,o,o,a],i.y=[f,f,u,u]}),n.edges.forEach(function(i){var a=i.source,o=i.target,f=a.x1,u=o.x0;i.x=[f,f,u,u];var c=i.width/2;i.y=[i.y0+c,i.y0-c,i.y1+c,i.y1-c]})}L2.DataSet.registerTransform("diagram.sankey",N2);L2.DataSet.registerTransform("sankey",N2);var bM={};function lh(n){return function(){return n}}function CM(n){return n[0]}function LM(n){return n[1]}function lu(){this._=null}function qu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}lu.prototype={constructor:lu,insert:function(n,r){var e,t,i;if(n){if(r.P=n,r.N=n.N,n.N&&(n.N.P=r),n.N=r,n.R){for(n=n.R;n.L;)n=n.L;n.L=r}else n.R=r;e=n}else this._?(n=fh(this._),r.P=null,r.N=n,n.P=n.L=r,e=n):(r.P=r.N=null,this._=r,e=null);for(r.L=r.R=null,r.U=e,r.C=!0,n=r;e&&e.C;)t=e.U,e===t.L?(i=t.R,i&&i.C?(e.C=i.C=!1,t.C=!0,n=t):(n===e.R&&(Xt(this,e),n=e,e=n.U),e.C=!1,t.C=!0,Wt(this,t))):(i=t.L,i&&i.C?(e.C=i.C=!1,t.C=!0,n=t):(n===e.L&&(Wt(this,e),n=e,e=n.U),e.C=!1,t.C=!0,Xt(this,t))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var r=n.U,e,t=n.L,i=n.R,a,o;if(t?i?a=fh(i):a=t:a=i,r?r.L===n?r.L=a:r.R=a:this._=a,t&&i?(o=a.C,a.C=n.C,a.L=t,t.U=a,a!==i?(r=a.U,a.U=n.U,n=a.R,r.L=n,a.R=i,i.U=a):(a.U=r,r=a,n=a.R)):(o=n.C,n=a),n&&(n.U=r),!o){if(n&&n.C){n.C=!1;return}do{if(n===this._)break;if(n===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,Xt(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){(!e.R||!e.R.C)&&(e.L.C=!1,e.C=!0,Wt(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Xt(this,r),n=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,Wt(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){(!e.L||!e.L.C)&&(e.R.C=!1,e.C=!0,Xt(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Wt(this,r),n=this._;break}e.C=!0,n=r,r=r.U}while(!n.C);n&&(n.C=!1)}}};function Xt(n,r){var e=r,t=r.R,i=e.U;i?i.L===e?i.L=t:i.R=t:n._=t,t.U=i,e.U=t,e.R=t.L,e.R&&(e.R.U=e),t.L=e}function Wt(n,r){var e=r,t=r.L,i=e.U;i?i.L===e?i.L=t:i.R=t:n._=t,t.U=i,e.U=t,e.L=t.R,e.L&&(e.L.U=e),t.R=e}function fh(n){for(;n.L;)n=n.L;return n}function vi(n,r,e,t){var i=[null,null],a=Jn.push(i)-1;return i.left=n,i.right=r,e&&fu(i,n,r,e),t&&fu(i,r,n,t),_r[n.index].halfedges.push(a),_r[r.index].halfedges.push(a),i}function Jt(n,r,e){var t=[r,e];return t.left=n,t}function fu(n,r,e,t){!n[0]&&!n[1]?(n[0]=t,n.left=r,n.right=e):n.left===e?n[1]=t:n[0]=t}function NM(n,r,e,t,i){var a=n[0],o=n[1],f=a[0],u=a[1],c=o[0],l=o[1],v=0,s=1,h=c-f,g=l-u,p;if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<v)return;p<s&&(s=p)}else if(h>0){if(p>s)return;p>v&&(v=p)}if(p=t-f,!(!h&&p<0)){if(p/=h,h<0){if(p>s)return;p>v&&(v=p)}else if(h>0){if(p<v)return;p<s&&(s=p)}if(p=e-u,!(!g&&p>0)){if(p/=g,g<0){if(p<v)return;p<s&&(s=p)}else if(g>0){if(p>s)return;p>v&&(v=p)}if(p=i-u,!(!g&&p<0)){if(p/=g,g<0){if(p>s)return;p>v&&(v=p)}else if(g>0){if(p<v)return;p<s&&(s=p)}return!(v>0)&&!(s<1)||(v>0&&(n[0]=[f+v*h,u+v*g]),s<1&&(n[1]=[f+s*h,u+s*g])),!0}}}}}function AM(n,r,e,t,i){var a=n[1];if(a)return!0;var o=n[0],f=n.left,u=n.right,c=f[0],l=f[1],v=u[0],s=u[1],h=(c+v)/2,g=(l+s)/2,p,d;if(s===l){if(h<r||h>=t)return;if(c>v){if(!o)o=[h,e];else if(o[1]>=i)return;a=[h,i]}else{if(!o)o=[h,i];else if(o[1]<e)return;a=[h,e]}}else if(p=(c-v)/(s-l),d=g-p*h,p<-1||p>1)if(c>v){if(!o)o=[(e-d)/p,e];else if(o[1]>=i)return;a=[(i-d)/p,i]}else{if(!o)o=[(i-d)/p,i];else if(o[1]<e)return;a=[(e-d)/p,e]}else if(l<s){if(!o)o=[r,p*r+d];else if(o[0]>=t)return;a=[t,p*t+d]}else{if(!o)o=[t,p*t+d];else if(o[0]<r)return;a=[r,p*r+d]}return n[0]=o,n[1]=a,!0}function IM(n,r,e,t){for(var i=Jn.length,a;i--;)(!AM(a=Jn[i],n,r,e,t)||!NM(a,n,r,e,t)||!(Math.abs(a[0][0]-a[1][0])>Mn||Math.abs(a[0][1]-a[1][1])>Mn))&&delete Jn[i]}function DM(n){return _r[n.index]={site:n,halfedges:[]}}function OM(n,r){var e=n.site,t=r.left,i=r.right;return e===i&&(i=t,t=e),i?Math.atan2(i[1]-t[1],i[0]-t[0]):(e===t?(t=r[1],i=r[0]):(t=r[0],i=r[1]),Math.atan2(t[0]-i[0],i[1]-t[1]))}function A2(n,r){return r[+(r.left!==n.site)]}function qM(n,r){return r[+(r.left===n.site)]}function FM(){for(var n=0,r=_r.length,e,t,i,a;n<r;++n)if((e=_r[n])&&(a=(t=e.halfedges).length)){var o=new Array(a),f=new Array(a);for(i=0;i<a;++i)o[i]=i,f[i]=OM(e,Jn[t[i]]);for(o.sort(function(u,c){return f[c]-f[u]}),i=0;i<a;++i)f[i]=t[o[i]];for(i=0;i<a;++i)t[i]=f[i]}}function zM(n,r,e,t){var i=_r.length,a,o,f,u,c,l,v,s,h,g,p,d,S=!0;for(a=0;a<i;++a)if(o=_r[a]){for(f=o.site,c=o.halfedges,u=c.length;u--;)Jn[c[u]]||c.splice(u,1);for(u=0,l=c.length;u<l;)g=qM(o,Jn[c[u]]),p=g[0],d=g[1],v=A2(o,Jn[c[++u%l]]),s=v[0],h=v[1],(Math.abs(p-s)>Mn||Math.abs(d-h)>Mn)&&(c.splice(u,0,Jn.push(Jt(f,g,Math.abs(p-n)<Mn&&t-d>Mn?[n,Math.abs(s-n)<Mn?h:t]:Math.abs(d-t)<Mn&&e-p>Mn?[Math.abs(h-t)<Mn?s:e,t]:Math.abs(p-e)<Mn&&d-r>Mn?[e,Math.abs(s-e)<Mn?h:r]:Math.abs(d-r)<Mn&&p-n>Mn?[Math.abs(h-r)<Mn?s:n,r]:null))-1),++l);l&&(S=!1)}if(S){var m,y,E,$=1/0;for(a=0,S=null;a<i;++a)(o=_r[a])&&(f=o.site,m=f[0]-n,y=f[1]-r,E=m*m+y*y,E<$&&($=E,S=o));if(S){var T=[n,r],k=[n,t],P=[e,t],R=[e,r];S.halfedges.push(Jn.push(Jt(f=S.site,T,k))-1,Jn.push(Jt(f,k,P))-1,Jn.push(Jt(f,P,R))-1,Jn.push(Jt(f,R,T))-1)}}for(a=0;a<i;++a)(o=_r[a])&&(o.halfedges.length||delete _r[a])}var I2=[],o0;function BM(){qu(this),this.x=this.y=this.arc=this.site=this.cy=null}function vt(n){var r=n.P,e=n.N;if(!(!r||!e)){var t=r.site,i=n.site,a=e.site;if(t!==a){var o=i[0],f=i[1],u=t[0]-o,c=t[1]-f,l=a[0]-o,v=a[1]-f,s=2*(u*v-c*l);if(!(s>=-VM)){var h=u*u+c*c,g=l*l+v*v,p=(v*h-c*g)/s,d=(u*g-l*h)/s,S=I2.pop()||new BM;S.arc=n,S.site=i,S.x=p+o,S.y=(S.cy=d+f)+Math.sqrt(p*p+d*d),n.circle=S;for(var m=null,y=Ai._;y;)if(S.y<y.y||S.y===y.y&&S.x<=y.x)if(y.L)y=y.L;else{m=y.P;break}else if(y.R)y=y.R;else{m=y;break}Ai.insert(m,S),m||(o0=S)}}}}function mt(n){var r=n.circle;r&&(r.P||(o0=r.N),Ai.remove(r),I2.push(r),qu(r),n.circle=null)}var D2=[];function GM(){qu(this),this.edge=this.site=this.circle=null}function sh(n){var r=D2.pop()||new GM;return r.site=n,r}function Bl(n){mt(n),yt.remove(n),D2.push(n),qu(n)}function UM(n){var r=n.circle,e=r.x,t=r.cy,i=[e,t],a=n.P,o=n.N,f=[n];Bl(n);for(var u=a;u.circle&&Math.abs(e-u.circle.x)<Mn&&Math.abs(t-u.circle.cy)<Mn;)a=u.P,f.unshift(u),Bl(u),u=a;f.unshift(u),mt(u);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<Mn&&Math.abs(t-c.circle.cy)<Mn;)o=c.N,f.push(c),Bl(c),c=o;f.push(c),mt(c);var l=f.length,v;for(v=1;v<l;++v)c=f[v],u=f[v-1],fu(c.edge,u.site,c.site,i);u=f[0],c=f[l-1],c.edge=vi(u.site,c.site,null,i),vt(u),vt(c)}function HM(n){for(var r=n[0],e=n[1],t,i,a,o,f=yt._;f;)if(a=O2(f,e)-r,a>Mn)f=f.L;else if(o=r-YM(f,e),o>Mn){if(!f.R){t=f;break}f=f.R}else{a>-Mn?(t=f.P,i=f):o>-Mn?(t=f,i=f.N):t=i=f;break}DM(n);var u=sh(n);if(yt.insert(t,u),!(!t&&!i)){if(t===i){mt(t),i=sh(t.site),yt.insert(u,i),u.edge=i.edge=vi(t.site,u.site),vt(t),vt(i);return}if(!i){u.edge=vi(t.site,u.site);return}mt(t),mt(i);var c=t.site,l=c[0],v=c[1],s=n[0]-l,h=n[1]-v,g=i.site,p=g[0]-l,d=g[1]-v,S=2*(s*d-h*p),m=s*s+h*h,y=p*p+d*d,E=[(d*m-h*y)/S+l,(s*y-p*m)/S+v];fu(i.edge,c,g,E),u.edge=vi(c,n,null,E),i.edge=vi(n,g,null,E),vt(t),vt(i)}}function O2(n,r){var e=n.site,t=e[0],i=e[1],a=i-r;if(!a)return t;var o=n.P;if(!o)return-1/0;e=o.site;var f=e[0],u=e[1],c=u-r;if(!c)return f;var l=f-t,v=1/a-1/c,s=l/c;return v?(-s+Math.sqrt(s*s-2*v*(l*l/(-2*c)-u+c/2+i-a/2)))/v+t:(t+f)/2}function YM(n,r){var e=n.N;if(e)return O2(e,r);var t=n.site;return t[1]===r?t[0]:1/0}var Mn=1e-6,VM=1e-12,yt,_r,Ai,Jn;function jM(n,r,e){return(n[0]-e[0])*(r[1]-n[1])-(n[0]-r[0])*(e[1]-n[1])}function XM(n,r){return r[1]-n[1]||r[0]-n[0]}function fs(n,r){var e=n.sort(XM).pop(),t,i,a;for(Jn=[],_r=new Array(n.length),yt=new lu,Ai=new lu;;)if(a=o0,e&&(!a||e[1]<a.y||e[1]===a.y&&e[0]<a.x))(e[0]!==t||e[1]!==i)&&(HM(e),t=e[0],i=e[1]),e=n.pop();else if(a)UM(a.arc);else break;if(FM(),r){var o=+r[0][0],f=+r[0][1],u=+r[1][0],c=+r[1][1];IM(o,f,u,c),zM(o,f,u,c)}this.edges=Jn,this.cells=_r,yt=Ai=Jn=_r=null}fs.prototype={constructor:fs,polygons:function(){var n=this.edges;return this.cells.map(function(r){var e=r.halfedges.map(function(t){return A2(r,n[t])});return e.data=r.site.data,e})},triangles:function(){var n=[],r=this.edges;return this.cells.forEach(function(e,t){if(!!(f=(a=e.halfedges).length))for(var i=e.site,a,o=-1,f,u,c=r[a[f-1]],l=c.left===i?c.right:c.left;++o<f;)u=l,c=r[a[o]],l=c.left===i?c.right:c.left,u&&l&&t<u.index&&t<l.index&&jM(i,u,l)<0&&n.push([i.data,u.data,l.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,r,e){for(var t=this,i,a=t._found||0,o=t.cells.length,f;!(f=t.cells[a]);)if(++a>=o)return null;var u=n-f.site[0],c=r-f.site[1],l=u*u+c*c;do f=t.cells[i=a],a=null,f.halfedges.forEach(function(v){var s=t.edges[v],h=s.left;if(!((h===f.site||!h)&&!(h=s.right))){var g=n-h[0],p=r-h[1],d=g*g+p*p;d<l&&(l=d,a=h.index)}});while(a!==null);return t._found=i,e==null||l<=e*e?f.site:null}};function WM(){var n=CM,r=LM,e=null;function t(i){return new fs(i.map(function(a,o){var f=[Math.round(n(a,o,i)/Mn)*Mn,Math.round(r(a,o,i)/Mn)*Mn];return f.index=o,f.data=a,f}),e)}return t.polygons=function(i){return t(i).polygons()},t.links=function(i){return t(i).links()},t.triangles=function(i){return t(i).triangles()},t.x=function(i){return arguments.length?(n=typeof i=="function"?i:lh(+i),t):n},t.y=function(i){return arguments.length?(r=typeof i=="function"?i:lh(+i),t):r},t.extent=function(i){return arguments.length?(e=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],t):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},t.size=function(i){return arguments.length?(e=i==null?null:[[0,0],[+i[0],+i[1]]],t):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},t}var JM=Object.freeze(Object.defineProperty({__proto__:null,voronoi:WM},Symbol.toStringTag,{value:"Module"})),KM=te(JM);Object.defineProperty(bM,"__esModule",{value:!0});var ZM=fn.exports,QM=ZM.__importStar(KM),Gl=Q,nP=W,q2=nP.DataSet.registerTransform,rP=_n,eP={as:["_x","_y"]};function F2(n,r){r=Gl.assign({},eP,r);var e=r.as;if(!Gl.isArray(e)||e.length!==2)throw new TypeError("Invalid as: must be an array with two strings!");var t=e[0],i=e[1],a=rP.getFields(r);if(!Gl.isArray(a)||a.length!==2)throw new TypeError("Invalid fields: must be an array with two strings!");var o=a[0],f=a[1],u=n.rows,c=u.map(function(s){return[s[o],s[f]]}),l=QM.voronoi();r.extend&&l.extent(r.extend),r.size&&l.size(r.size);var v=l(c).polygons();u.forEach(function(s,h){var g=v[h].filter(function(p){return!!p});s[t]=g.map(function(p){return p[0]}),s[i]=g.map(function(p){return p[1]})})}q2("diagram.voronoi",F2);q2("voronoi",F2);var tP={};Object.defineProperty(tP,"__esModule",{value:!0});var iP=fn.exports,aP=iP.__importStar(qt),ch=Q,u0=W,oP=_n,uP={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function z2(n,r){if(n.dataType!==u0.DataSet.CONSTANTS.HIERARCHY||!n.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=ch.assign({},uP,r);var t=r.as;if(!ch.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i=void 0;try{i=oP.getField(r)}catch(u){console.warn(u)}i&&e.sum(function(u){return u[i]});var a=aP.cluster();a.size(r.size),r.nodeSize&&a.nodeSize(r.nodeSize),r.separation&&a.separation(r.separation),a(e);var o=t[0],f=t[1];e.each(function(u){u[o]=u.x,u[f]=u.y})}u0.DataSet.registerTransform("hierarchy.cluster",z2);u0.DataSet.registerTransform("dendrogram",z2);var lP={},fP=Q,sP=fP.mix,it={assign:sP},B2=it,l0=18,cP=l0*2,vh=l0,vP={getId:function(r){return r.id||r.name},getPreH:function(r){return r.preH||0},getPreV:function(r){return r.preV||0},getHGap:function(r){return r.hgap||vh},getVGap:function(r){return r.vgap||vh},getChildren:function(r){return r.children},getHeight:function(r){return r.height||cP},getWidth:function(r){var e=r.label||" ";return r.width||e.split("").length*l0}};function su(n,r){var e=this;if(e.vgap=e.hgap=0,n instanceof su)return n;e.data=n;var t=r.getHGap(n),i=r.getVGap(n);return e.preH=r.getPreH(n),e.preV=r.getPreV(n),e.width=r.getWidth(n),e.height=r.getHeight(n),e.width+=e.preH,e.height+=e.preV,e.id=r.getId(n),e.x=e.y=0,e.depth=0,e.children||(e.children=[]),e.addGap(t,i),e}B2.assign(su.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(r,e){var t=this;t.hgap+=r,t.vgap+=e,t.width+=2*r,t.height+=2*e},eachNode:function(r){for(var e=this,t=[e],i;i=t.shift();)r(i),t=i.children.concat(t)},DFTraverse:function(r){this.eachNode(r)},BFTraverse:function(r){for(var e=this,t=[e],i;i=t.shift();)r(i),t=t.concat(i.children)},getBoundingBox:function(){var r={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){r.left=Math.min(r.left,e.x),r.top=Math.min(r.top,e.y),r.width=Math.max(r.width,e.x+e.width),r.height=Math.max(r.height,e.y+e.height)}),r},translate:function(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this.eachNode(function(t){t.x+=r,t.y+=e,t.x+=t.preH,t.y+=t.preV})},right2left:function(){var r=this,e=r.getBoundingBox();r.eachNode(function(t){t.x=t.x-(t.x-e.left)*2-t.width}),r.translate(e.width,0)},bottom2top:function(){var r=this,e=r.getBoundingBox();r.eachNode(function(t){t.y=t.y-(t.y-e.top)*2-t.height}),r.translate(0,e.height)}});function hP(n,r,e){r===void 0&&(r={}),r=B2.assign({},vP,r);var t=new su(n,r),i=[t],a;if(!e&&!n.collapsed){for(;a=i.shift();)if(!a.data.collapsed){var o=r.getChildren(a.data),f=o?o.length:0;if(a.children=new Array(f),o&&f)for(var u=0;u<f;u++){var c=new su(o[u],r);a.children[u]=c,i.push(c),c.parent=a,c.depth=a.depth+1}}}return t}var G2=hP,gP=G2,pP=function(){function n(e,t){t===void 0&&(t={});var i=this;i.options=t,i.rootNode=gP(e,t)}var r=n.prototype;return r.execute=function(){throw new Error("please override this method")},n}(),Fu=pP;function hi(n,r,e,t){t===void 0&&(t=[]);var i=this;i.w=n||0,i.h=r||0,i.y=e||0,i.x=0,i.c=t||[],i.cs=t.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}hi.fromNode=function(n,r){if(!n)return null;var e=[];return n.children.forEach(function(t){e.push(hi.fromNode(t,r))}),r?new hi(n.height,n.width,n.x,e):new hi(n.width,n.height,n.y,e)};function U2(n,r,e){e?n.y+=r:n.x+=r,n.children.forEach(function(t){U2(t,r,e)})}function H2(n,r){var e=r?n.y:n.x;return n.children.forEach(function(t){e=Math.min(H2(t,r),e)}),e}function dP(n,r){var e=H2(n,r);U2(n,-e,r)}function Y2(n,r,e){e?r.y=n.x:r.x=n.x,n.c.forEach(function(t,i){Y2(t,r.children[i],e)})}function V2(n,r,e){e===void 0&&(e=0),r?(n.x=e,e+=n.width):(n.y=e,e+=n.height),n.children.forEach(function(t){V2(t,r,e)})}var mP=function(n,r){r===void 0&&(r={});var e=r.isHorizontal;function t(m){if(m.cs===0){i(m);return}t(m.c[0]);for(var y=d(c(m.c[0].el),0,null),E=1;E<m.cs;++E){t(m.c[E]);var $=c(m.c[E].er);a(m,E,y),y=d($,E,y)}s(m),i(m)}function i(m){m.cs===0?(m.el=m,m.er=m,m.msel=m.mser=0):(m.el=m.c[0].el,m.msel=m.c[0].msel,m.er=m.c[m.cs-1].er,m.mser=m.c[m.cs-1].mser)}function a(m,y,E){for(var $=m.c[y-1],T=$.mod,k=m.c[y],P=k.mod;$!==null&&k!==null;){c($)>E.low&&(E=E.nxt);var R=T+$.prelim+$.w-(P+k.prelim);R>0&&(P+=R,o(m,y,E.index,R));var C=c($),b=c(k);C<=b&&($=u($),$!==null&&(T+=$.mod)),C>=b&&(k=f(k),k!==null&&(P+=k.mod))}!$&&!!k?l(m,y,k,P):!!$&&!k&&v(m,y,$,T)}function o(m,y,E,$){m.c[y].mod+=$,m.c[y].msel+=$,m.c[y].mser+=$,g(m,y,E,$)}function f(m){return m.cs===0?m.tl:m.c[0]}function u(m){return m.cs===0?m.tr:m.c[m.cs-1]}function c(m){return m.y+m.h}function l(m,y,E,$){var T=m.c[0].el;T.tl=E;var k=$-E.mod-m.c[0].msel;T.mod+=k,T.prelim-=k,m.c[0].el=m.c[y].el,m.c[0].msel=m.c[y].msel}function v(m,y,E,$){var T=m.c[y].er;T.tr=E;var k=$-E.mod-m.c[y].mser;T.mod+=k,T.prelim-=k,m.c[y].er=m.c[y-1].er,m.c[y].mser=m.c[y-1].mser}function s(m){m.prelim=(m.c[0].prelim+m.c[0].mod+m.c[m.cs-1].mod+m.c[m.cs-1].prelim+m.c[m.cs-1].w)/2-m.w/2}function h(m,y){y+=m.mod,m.x=m.prelim+y,p(m);for(var E=0;E<m.cs;E++)h(m.c[E],y)}function g(m,y,E,$){if(E!==y-1){var T=y-E;m.c[E+1].shift+=$/T,m.c[y].shift-=$/T,m.c[y].change-=$-$/T}}function p(m){for(var y=0,E=0,$=0;$<m.cs;$++)y+=m.c[$].shift,E+=y+m.c[$].change,m.c[$].mod+=E}function d(m,y,E){for(;E!==null&&m>=E.low;)E=E.nxt;return{low:m,index:y,nxt:E}}V2(n,e);var S=hi.fromNode(n,e);return t(S),h(S,0),Y2(S,n,e),dP(n,e),n},hh=G2,j2=function(n,r){for(var e=hh(n.data,r,!0),t=hh(n.data,r,!0),i=n.children.length,a=Math.round(i/2),o=r.getSide||function(l,v){return v<a?"right":"left"},f=0;f<i;f++){var u=n.children[f],c=o(u,f);c==="right"?t.children.push(u):e.children.push(u)}return e.eachNode(function(l){l.isRoot()||(l.side="left")}),t.eachNode(function(l){l.isRoot()||(l.side="right")}),{left:e,right:t}},yP=j2,$e=["LR","RL","TB","BT","H","V"],wP=["LR","RL","H"],EP=function(r){return wP.indexOf(r)>-1},SP=$e[0],f0=function(n,r,e){var t=r.direction||SP;if(r.isHorizontal=EP(t),t&&$e.indexOf(t)===-1)throw new TypeError("Invalid direction: "+t);if(t===$e[0])e(n,r);else if(t===$e[1])e(n,r),n.right2left();else if(t===$e[2])e(n,r);else if(t===$e[3])e(n,r),n.bottom2top();else if(t===$e[4]||t===$e[5]){var i=yP(n,r),a=i.left,o=i.right;e(a,r),e(o,r),r.isHorizontal?a.right2left():a.bottom2top(),o.translate(a.x-o.x,a.y-o.y),n.x=a.x,n.y=o.y;var f=n.getBoundingBox();r.isHorizontal?f.top<0&&n.translate(0,-f.top):f.left<0&&n.translate(-f.left,0)}var u=r.fixedRoot;return u===void 0&&(u=!0),u&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),n};function _P(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var $P=Fu,TP=mP,MP=f0,PP=it,xP=function(n){_P(r,n);function r(){return n.apply(this,arguments)||this}var e=r.prototype;return e.execute=function(){var i=this;return MP(i.rootNode,i.options,TP)},r}($P),RP={};function kP(n,r){return r=PP.assign({},RP,r),new xP(n,r).execute()}var bP=kP,CP=it;function LP(n,r){r===void 0&&(r=[]);var e=this;e.x=e.y=0,e.leftChild=e.rightChild=null,e.height=0,e.children=r}var NP={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function X2(n,r,e){e?(r.x=n.x,r.y=n.y):(r.x=n.y,r.y=n.x),n.children.forEach(function(t,i){X2(t,r.children[i],e)})}var AP=function(n,r){r===void 0&&(r={}),r=CP.assign({},NP,r);var e=0;function t(u){if(!u)return null;u.width=0,u.depth&&u.depth>e&&(e=u.depth);var c=u.children,l=c.length,v=new LP(u.height,[]);return c.forEach(function(s,h){var g=t(s);v.children.push(g),h===0&&(v.leftChild=g),h===l-1&&(v.rightChild=g)}),v.originNode=u,v.isLeaf=u.isLeaf(),v}function i(u){if(u.isLeaf||u.children.length===0)u.drawingDepth=e;else{var c=u.children.map(function(v){return i(v)}),l=Math.min.apply(null,c);u.drawingDepth=l-1}return u.drawingDepth}var a;function o(u){u.x=u.drawingDepth*r.rankSep,u.isLeaf?(u.y=0,a&&(u.y=a.y+a.height+r.nodeSep,u.originNode.parent!==a.originNode.parent&&(u.y+=r.subTreeSep)),a=u):(u.children.forEach(function(c){o(c)}),u.y=(u.leftChild.y+u.rightChild.y)/2)}var f=t(n);return i(f),o(f),X2(f,n,r.isHorizontal),n};function IP(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var DP=Fu,OP=AP,qP=f0,FP=it,zP=function(n){IP(r,n);function r(){return n.apply(this,arguments)||this}var e=r.prototype;return e.execute=function(){var i=this;return i.rootNode.width=0,qP(i.rootNode,i.options,OP)},r}(DP),BP={};function GP(n,r){return r=FP.assign({},BP,r),new zP(n,r).execute()}var UP=GP;function HP(n,r,e,t){var i=typeof e=="function"?e(n):e*n.depth;if(!t)try{if(n.id===n.parent.children[0].id){n.x+=i,n.y=r?r.y:0;return}}catch{}n.x+=i,n.y=r?r.y+r.height:0}var YP=function(n,r,e){var t=null;n.eachNode(function(i){HP(i,t,r,e),t=i})};function VP(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var jP=Fu,ba=YP,XP=j2,WP=it,gi=["LR","RL","H"],JP=gi[0],KP=function(n){VP(r,n);function r(){return n.apply(this,arguments)||this}var e=r.prototype;return e.execute=function(){var i=this,a=i.options,o=i.rootNode;a.isHorizontal=!0;var f=a.indent,u=f===void 0?20:f,c=a.dropCap,l=c===void 0?!0:c,v=a.direction||JP;if(v&&gi.indexOf(v)===-1)throw new TypeError("Invalid direction: "+v);if(v===gi[0])ba(o,u,l);else if(v===gi[1])ba(o,u,l),o.right2left();else if(v===gi[2]){var s=XP(o,a),h=s.left,g=s.right;ba(h,u,l),h.right2left(),ba(g,u,l);var p=h.getBoundingBox();g.translate(p.width,0),o.x=g.x-o.width/2}return o},r}(jP),ZP={};function QP(n,r){return r=WP.assign({},ZP,r),new KP(n,r).execute()}var nx=QP,rx=it;function W2(n,r){var e=0;return n.children.length?n.children.forEach(function(t){e+=W2(t,r)}):e=n.height,n._subTreeSep=r.getSubTreeSep(n.data),n.totalHeight=Math.max(n.height,e)+2*n._subTreeSep,n.totalHeight}function J2(n){var r=n.children,e=r.length;if(e){r.forEach(function(u){J2(u)});var t=r[0],i=r[e-1],a=i.y-t.y+i.height,o=0;if(r.forEach(function(u){o+=u.totalHeight}),a>n.height)n.y=t.y+a/2-n.height/2;else if(r.length!==1||n.height>o){var f=n.y+(n.height-a)/2-t.y;r.forEach(function(u){u.translate(0,f)})}else n.y=(t.y+t.height/2+i.y+i.height/2)/2-n.height/2}}var ex={getSubTreeSep:function(){return 0}},tx=function(n,r){r===void 0&&(r={}),r=rx.assign({},ex,r),n.parent={x:0,width:0,height:0,y:0},n.BFTraverse(function(e){e.x=e.parent.x+e.parent.width}),n.parent=null,W2(n,r),n.startY=0,n.y=n.totalHeight/2-n.height/2,n.eachNode(function(e){var t=e.children,i=t.length;if(i){var a=t[0];if(a.startY=e.startY+e._subTreeSep,i===1)a.y=e.y+e.height/2-a.height/2;else{a.y=a.startY+a.totalHeight/2-a.height/2;for(var o=1;o<i;o++){var f=t[o];f.startY=t[o-1].startY+t[o-1].totalHeight,f.y=f.startY+f.totalHeight/2-f.height/2}}}}),J2(n)};function ix(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var ax=Fu,ox=tx,ux=f0,lx=it,fx=function(n){ix(r,n);function r(){return n.apply(this,arguments)||this}var e=r.prototype;return e.execute=function(){var i=this;return ux(i.rootNode,i.options,ox)},r}(ax),sx={};function cx(n,r){return r=lx.assign({},sx,r),new fx(n,r).execute()}var vx=cx,hx={compactBox:bP,dendrogram:UP,indented:nx,mindmap:vx},s0=hx;Object.defineProperty(lP,"__esModule",{value:!0});var gx=fn.exports,px=gx.__importDefault(s0),Xi=W,dx={};function zu(n,r){var e=n.root;if(r=Object.assign({},dx,r),n.dataType!==Xi.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=px.default.compactBox(e,r)}Xi.DataSet.registerTransform("hierarchy.compact-box",zu);Xi.DataSet.registerTransform("compact-box-tree",zu);Xi.DataSet.registerTransform("non-layered-tidy-tree",zu);Xi.DataSet.registerTransform("mindmap-logical",zu);var mx={};Object.defineProperty(mx,"__esModule",{value:!0});var yx=fn.exports,wx=yx.__importDefault(s0),c0=W,Ex={};function K2(n,r){var e=n.root;if(r=Object.assign({},Ex,r),n.dataType!==c0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=wx.default.dendrogram(e,r)}c0.DataSet.registerTransform("hierarchy.dendrogram",K2);c0.DataSet.registerTransform("dendrogram",K2);var Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});var _x=fn.exports,$x=_x.__importDefault(s0),v0=W,Tx={};function Z2(n,r){var e=n.root;if(r=Object.assign({},Tx,r),n.dataType!==v0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=$x.default.indented(e,r)}v0.DataSet.registerTransform("hierarchy.indented",Z2);v0.DataSet.registerTransform("indented-tree",Z2);var Mx={};Object.defineProperty(Mx,"__esModule",{value:!0});var Px=fn.exports,gh=Q,xx=Px.__importStar(qt),Bu=W,Rx=_n,kx={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function h0(n,r){if(n.dataType!==Bu.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=gh.assign({},kx,r);var t=r.as;if(!gh.isArray(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var i;try{i=Rx.getField(r)}catch(c){console.warn(c)}i&&e.sum(function(c){return c[i]}).sort(function(c,l){return l[i]-c[i]});var a=xx.pack();a.size(r.size),r.padding&&a.padding(r.padding),a(e);var o=t[0],f=t[1],u=t[2];e.each(function(c){c[o]=c.x,c[f]=c.y,c[u]=c.r})}Bu.DataSet.registerTransform("hierarchy.pack",h0);Bu.DataSet.registerTransform("hierarchy.circle-packing",h0);Bu.DataSet.registerTransform("circle-packing",h0);var bx={};Object.defineProperty(bx,"__esModule",{value:!0});var Cx=fn.exports,Lx=Cx.__importStar(qt),ph=Q,g0=W,Nx=_n,Ax={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function Q2(n,r){if(n.dataType!==g0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=ph.assign({},Ax,r);var t=r.as;if(!ph.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=Nx.getField(r)}catch(u){console.warn(u)}i&&e.sum(function(u){return u[i]});var a=Lx.partition();a.size(r.size).round(r.round).padding(r.padding),a(e);var o=t[0],f=t[1];e.each(function(u){u[o]=[u.x0,u.x1,u.x1,u.x0],u[f]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete u[c]})})}g0.DataSet.registerTransform("hierarchy.partition",Q2);g0.DataSet.registerTransform("adjacency",Q2);var Ix={};Object.defineProperty(Ix,"__esModule",{value:!0});var Dx=fn.exports,Ox=Dx.__importStar(qt),dh=Q,p0=W,qx=_n,Fx={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function nm(n,r){if(n.dataType!==p0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=dh.assign({},Fx,r);var t=r.as;if(!dh.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=qx.getField(r)}catch(u){console.warn(u)}i&&e.sum(function(u){return u[i]});var a=Ox.tree();a.size(r.size),r.nodeSize&&a.nodeSize(r.nodeSize),r.separation&&a.separation(r.separation),a(e);var o=t[0],f=t[1];e.each(function(u){u[o]=u.x,u[f]=u.y})}p0.DataSet.registerTransform("hierarchy.tree",nm);p0.DataSet.registerTransform("tree",nm);var zx={};Object.defineProperty(zx,"__esModule",{value:!0});var Bx=fn.exports,mh=Bx.__importStar(qt),yh=Q,d0=W,Gx=_n,Ux={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function rm(n,r){if(n.dataType!==d0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=yh.assign({},Ux,r);var t=r.as;if(!yh.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=Gx.getField(r)}catch(u){console.warn(u)}i&&e.sum(function(u){return u[i]});var a=mh.treemap();a.tile(mh[r.tile]).size(r.size).round(r.round).padding(r.padding).paddingInner(r.paddingInner).paddingOuter(r.paddingOuter).paddingTop(r.paddingTop).paddingRight(r.paddingRight).paddingBottom(r.paddingBottom).paddingLeft(r.paddingLeft),a(e);var o=t[0],f=t[1];e.each(function(u){u[o]=[u.x0,u.x1,u.x1,u.x0],u[f]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete u[c]})})}d0.DataSet.registerTransform("hierarchy.treemap",rm);d0.DataSet.registerTransform("treemap",rm);var Hx={},m0={};Object.defineProperty(m0,"__esModule",{value:!0});var wh=fn.exports,Ul=Math.PI/180,pi=1<<11>>5,Ya=1<<11;function Yx(n){return n.text}function Vx(){return"serif"}function Eh(){return"normal"}function jx(n){return n.value}function Xx(){return~~(Math.random()*2)*90}function Wx(){return 1}function Jx(n,r,e,t){if(!r.sprite){var i=n.context,a=n.ratio;i.clearRect(0,0,(pi<<5)/a,Ya/a);var o=0,f=0,u=0,c=e.length;for(--t;++t<c;){r=e[t],i.save(),i.font=r.style+" "+r.weight+" "+~~((r.size+1)/a)+"px "+r.font;var l=i.measureText(r.text+"m").width*a,v=r.size<<1;if(r.rotate){var s=Math.sin(r.rotate*Ul),h=Math.cos(r.rotate*Ul),g=l*h,p=l*s,d=v*h,S=v*s;l=Math.max(Math.abs(g+S),Math.abs(g-S))+31>>5<<5,v=~~Math.max(Math.abs(p+d),Math.abs(p-d))}else l=l+31>>5<<5;if(v>u&&(u=v),o+l>=pi<<5&&(o=0,f+=u,u=0),f+v>=Ya)break;i.translate((o+(l>>1))/a,(f+(v>>1))/a),r.rotate&&i.rotate(r.rotate*Ul),i.fillText(r.text,0,0),r.padding&&(i.lineWidth=2*r.padding,i.strokeText(r.text,0,0)),i.restore(),r.width=l,r.height=v,r.xoff=o,r.yoff=f,r.x1=l>>1,r.y1=v>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,o+=l}for(var m=i.getImageData(0,0,(pi<<5)/a,Ya/a).data,y=[];--t>=0;)if(r=e[t],!!r.hasText){for(var l=r.width,E=l>>5,v=r.y1-r.y0,$=0;$<v*E;$++)y[$]=0;if(o=r.xoff,o==null)return;f=r.yoff;for(var T=0,k=-1,P=0;P<v;P++){for(var $=0;$<l;$++){var R=E*P+($>>5),C=m[(f+P)*(pi<<5)+(o+$)<<2]?1<<31-$%32:0;y[R]|=C,T|=C}T?k=P:(r.y0++,v--,P--,f++)}r.y1=r.y0+k,r.sprite=y.slice(0,(r.y1-r.y0)*E)}}}function Kx(n,r,e){e>>=5;for(var t=n.sprite,i=n.width>>5,a=n.x-(i<<4),o=a&127,f=32-o,u=n.y1-n.y0,c=(n.y+n.y0)*e+(a>>5),l,v=0;v<u;v++){l=0;for(var s=0;s<=i;s++)if((l<<f|(s<i?(l=t[v*i+s])>>>o:0))&r[c+s])return!0;c+=e}return!1}function Zx(n,r){var e=n[0],t=n[1];r.x+r.x0<e.x&&(e.x=r.x+r.x0),r.y+r.y0<e.y&&(e.y=r.y+r.y0),r.x+r.x1>t.x&&(t.x=r.x+r.x1),r.y+r.y1>t.y&&(t.y=r.y+r.y1)}function Qx(n,r){return n.x+n.x1>r[0].x&&n.x+n.x0<r[1].x&&n.y+n.y1>r[0].y&&n.y+n.y0<r[1].y}function em(n){var r=n[0]/n[1];return function(e){return[r*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function nR(n){var r=4,e=r*n[0]/n[1],t=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:t+=e;break;case 1:i+=r;break;case 2:t-=e;break;default:i-=r;break}return[t,i]}}function Sh(n){for(var r=[],e=-1;++e<n;)r[e]=0;return r}function rR(){return document.createElement("canvas")}function _e(n){return typeof n=="function"?n:function(){return n}}var eR={archimedean:em,rectangular:nR};function tR(){var n=[256,256],r=Yx,e=Vx,t=jx,i=Eh,a=Eh,o=Xx,f=Wx,u=em,c=[],l=1/0,v=Math.random,s=rR,h={};h.canvas=function(d){return arguments.length?(s=_e(d),h):s},h.start=function(){var d=wh.__read(n,2),S=d[0],m=d[1],y=g(s()),E=h.board?h.board:Sh((n[0]>>5)*n[1]),$=c.length,T=[],k=c.map(function(b,L){return b.text=r.call(this,b,L),b.font=e.call(this,b,L),b.style=i.call(this,b,L),b.weight=a.call(this,b,L),b.rotate=o.call(this,b,L),b.size=~~t.call(this,b,L),b.padding=f.call(this,b,L),b}).sort(function(b,L){return L.size-b.size}),P=-1,R=h.board?[{x:0,y:0},{x:S,y:m}]:null;C();function C(){for(var b=Date.now();Date.now()-b<l&&++P<$;){var L=k[P];L.x=S*(v()+.5)>>1,L.y=m*(v()+.5)>>1,Jx(y,L,k,P),L.hasText&&p(E,L,R)&&(T.push(L),R?h.hasImage||Zx(R,L):R=[{x:L.x+L.x0,y:L.y+L.y0},{x:L.x+L.x1,y:L.y+L.y1}],L.x-=n[0]>>1,L.y-=n[1]>>1)}h._tags=T,h._bounds=R}return h};function g(d){d.width=d.height=1;var S=Math.sqrt(d.getContext("2d").getImageData(0,0,1,1).data.length>>2);d.width=(pi<<5)/S,d.height=Ya/S;var m=d.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:S}}function p(d,S,m){for(var y=S.x,E=S.y,$=Math.sqrt(n[0]*n[0]+n[1]*n[1]),T=u(n),k=v()<.5?1:-1,P,R=-k,C,b;(P=T(R+=k))&&(C=~~P[0],b=~~P[1],!(Math.min(Math.abs(C),Math.abs(b))>=$));)if(S.x=y+C,S.y=E+b,!(S.x+S.x0<0||S.y+S.y0<0||S.x+S.x1>n[0]||S.y+S.y1>n[1])&&(!m||!Kx(S,d,n[0]))&&(!m||Qx(S,m))){for(var L=S.sprite,z=S.width>>5,_=n[0]>>5,w=S.x-(z<<4),M=w&127,x=32-M,N=S.y1-S.y0,U=void 0,vn=(S.y+S.y0)*_+(w>>5),K=0;K<N;K++){U=0;for(var an=0;an<=z;an++)d[vn+an]|=U<<x|(an<z?(U=L[K*z+an])>>>M:0);vn+=_}return delete S.sprite,!0}return!1}return h.createMask=function(d){var S=document.createElement("canvas"),m=wh.__read(n,2),y=m[0],E=m[1];if(!(!y||!E)){var $=y>>5,T=Sh((y>>5)*E);S.width=y,S.height=E;var k=S.getContext("2d");k.drawImage(d,0,0,d.width,d.height,0,0,y,E);for(var P=k.getImageData(0,0,y,E).data,R=0;R<E;R++)for(var C=0;C<y;C++){var b=$*R+(C>>5),L=R*y+C<<2,z=P[L]>=250&&P[L+1]>=250&&P[L+2]>=250,_=z?1<<31-C%32:0;T[b]|=_}h.board=T,h.hasImage=!0}},h.timeInterval=function(d){return arguments.length?(l=d==null?1/0:d,h):l},h.words=function(d){return arguments.length?(c=d,h):c},h.size=function(d){return arguments.length?(n=[+d[0],+d[1]],h):n},h.font=function(d){return arguments.length?(e=_e(d),h):e},h.fontStyle=function(d){return arguments.length?(i=_e(d),h):i},h.fontWeight=function(d){return arguments.length?(a=_e(d),h):a},h.rotate=function(d){return arguments.length?(o=_e(d),h):o},h.text=function(d){return arguments.length?(r=_e(d),h):r},h.spiral=function(d){return arguments.length?(u=eR[d]||d,h):u},h.fontSize=function(d){return arguments.length?(t=_e(d),h):t},h.padding=function(d){return arguments.length?(f=_e(d),h):f},h.random=function(d){return arguments.length?(v=d,h):v},h}m0.default=tR;Object.defineProperty(Hx,"__esModule",{value:!0});var ss=fn.exports,Hl=Q,tm=W,iR=ss.__importDefault(m0),aR=_n,oR={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function im(n,r){r=Hl.assign({},oR,r);var e=iR.default();if(!r.size[0]||!r.size[1]){n.rows=[],n._tagCloud=e;return}["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach(function(p){r[p]&&e[p](r[p])});var t=aR.getFields(r),i=ss.__read(t,2),a=i[0],o=i[1];if(!Hl.isString(a)||!Hl.isString(o))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var f=n.rows.map(function(p){return p.text=p[a],p.value=p[o],p});e.words(f),r.imageMask&&e.createMask(r.imageMask);var u=e.start(),c=u._tags,l=u._bounds||[{x:0,y:0},{x:r.size[0],y:r.size[1]}];c.forEach(function(p){p.x+=r.size[0]/2,p.y+=r.size[1]/2});var v=ss.__read(r.size,2),s=v[0],h=v[1],g=u.hasImage;c.push({text:"",value:0,x:g?0:l[0].x,y:g?0:l[0].y,opacity:0}),c.push({text:"",value:0,x:g?s:l[1].x,y:g?h:l[1].y,opacity:0}),n.rows=c,n._tagCloud=u}tm.DataSet.registerTransform("tag-cloud",im);tm.DataSet.registerTransform("word-cloud",im);var uR={};Object.defineProperty(uR,"__esModule",{value:!0});var Va=fn.exports,Be=Q,lR=we,fR=Va.__importDefault(xr),sR=W,cR=_n,vR={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function hR(n,r){r=Be.assign({},vR,r);var e=cR.getFields(r),t=Va.__read(e,2),i=t[0],a=t[1],o=Va.__read(r.as,2),f=o[0],u=o[1],c=r.groupBy,l=fR.default(n.rows,c),v=Be.keys(l),s=Va.__read(r.size,2),h=s[0],g=s[1],p=r.maxCount,d=v.length,S=g/d,m=r.rows,y=r.gapRatio,E=[],$=r.scale,T=0,k=0;Be.forIn(l,function(P){var R=lR.sum(Be.map(P,function(b){return b[a]})),C=Math.ceil(R*$/m);R*$>p&&($=p/R,C=Math.ceil(R*$/m)),k=h/C}),Be.forIn(l,function(P){var R=[T*S,(T+1)*S],C=R[1]-R[0],b=C*(1-y)/m,L=0,z=0;Be.each(P,function(_){for(var w=_[a],M=Math.round(w*$),x=0;x<M;x++){z===m&&(z=0,L++);var N=Be.pick(_,[i,a].concat(c));N[f]=L*k+k/2,N[u]=z*b+b/2+R[0],N._wStep=k,N._hStep=b,z++,E.push(N)}}),T+=1}),n.rows=E}sR.DataSet.registerTransform("waffle",hR);var am={};Object.defineProperty(am,"__esModule",{value:!0});var ht=fn.exports,Te=Q,_h=ht.__importDefault(Ft),om=ht.__importDefault(Vi),um=W,gR=_n,$h=de,pR={as:["x","y","z"],method:"gaussian"},cs=Te.keys(om.default);function lm(n,r){var e,t;r=Te.assign({},pR,r);var i=gR.getFields(r);if(!Te.isArray(i)||i.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings!");var a=ht.__read(r.as,3),o=a[0],f=a[1],u=a[2];if(!Te.isString(o)||!Te.isString(f)||!Te.isString(u))throw new TypeError("invalid as: must be an array of 3 strings!");var c;if(Te.isString(r.method)){if(cs.indexOf(r.method)===-1)throw new TypeError("invalid method: "+r.method+". Must be one of "+cs.join(", "));c=om.default[r.method]}var l=ht.__read(i,2),v=l[0],s=l[1],h=r.extent,g=r.bandwidth,p,d;h&&Array.isArray(h)&&Array.isArray(h[0])&&Array.isArray(h[1])?(e=ht.__read(h,2),p=e[0],d=e[1]):(p=n.range(v),d=n.range(s));var S,m;g&&Array.isArray(g)&&g.slice(0,2).every(Te.isNumber)&&g.slice(0,2).every(function(w){return w>0})?(t=ht.__read(g,2),S=t[0],m=t[1]):(S=$h.silverman(n.getColumn(v)),m=$h.silverman(n.getColumn(s)));for(var y=_h.default(p,S),E=_h.default(d,m),$=n.rows.length,T=[],k=0;k<y.length;k++)for(var P=0;P<E.length;P++){for(var R=0,C=y[k],b=E[P],L=0;L<$;L++)R+=c((C-n.rows[L][v])/S)*c((b-n.rows[L][s])/m);var z=1/($*S*m)*R,_={};_[o]=C,_[f]=b,_[u]=z,T.push(_)}n.rows=T}um.DataSet.registerTransform("kernel-smooth.density",lm);um.DataSet.registerTransform("kernel.density",lm);am.default={KERNEL_METHODS:cs};var fm={};Object.defineProperty(fm,"__esModule",{value:!0});var cu=fn.exports,jr=Q,dR=cu.__importDefault(Ft),sm=cu.__importDefault(Vi),cm=W,Yl=we,mR=_n,yR=de,wR={as:["x","y"],method:"gaussian"},vs=jr.keys(sm.default);function ER(n,r,e,t){var i=(t-e)/r;return n(i)}function Th(n){return function(r){return jr.isArray(r)?r.map(function(e){return n(e)}):n(r)}}function vm(n,r){r=jr.assign({},wR,r);var e=mR.getFields(r);if(!jr.isArray(e)||!(e.length===1||e.length===2))throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var t=cu.__read(r.as,2),i=t[0],a=t[1];if(!jr.isString(i)||!jr.isString(a))throw new TypeError("invalid as: must be an array of 2 strings!");var o,f=r.method;if(jr.isString(f)){if(vs.indexOf(f)===-1)throw new TypeError("invalid method: "+f+". Must be one of "+vs.join(", "));o=sm.default[f]}var u=cu.__read(e,2),c=u[0],l=u[1],v=n.getColumn(c),s=r.extent;(s||!jr.isArray(s))&&(s=n.range(c));var h=r.bandwidth;(!h||!jr.isNumber(h)||h<=0)&&(h=yR.silverman(v));var g=dR.default(s,h),p=v.length,d=ER.bind(null,o,h),S;if(jr.isNil(l))S=Th(function(E){var $=v.map(function(P){return d(E,P)}),T=Yl.sum($),k=p*h;return!T||!k?0:T/k});else{var m=n.getColumn(l);S=Th(function(E){var $=v.map(function(P){return d(E,P)}),T=Yl.sum($.map(function(P,R){return P*m[R]})),k=Yl.sum($);return!T||!k?0:T/k})}var y=g.map(function(E){var $={};return $[i]=E,$[a]=S(E),$});n.rows=y}cm.DataSet.registerTransform("kernel-smooth.regression",vm);cm.DataSet.registerTransform("kernel.regression",vm);fm.default={KERNEL_METHODS:vs};var SR=W,_R=SR.DataSet;function $R(n){const{data:r,loading:e,fields:t,height:i}=n,{DataView:a}=_R,o=new a().source(r);return o.transform({type:"fold",fields:t,key:"category",value:"score"}),$n(Ph,{loading:e,style:{width:"100%"},children:Xr(hs,{height:i||400,padding:0,data:o.rows,autoFit:!0,scale:{score:{min:0,max:80}},interactions:["legend-highlight"],className:"chart-wrapper",children:[$n(kh,{type:"polar",radius:.8}),$n(bh,{shared:!0,children:(f,u)=>$n(Nh,{title:f,data:u})}),$n(Rm,{position:"item*score",size:"2",color:["category",["#313CA9","#21CCFF","#249EFF"]]}),$n(km,{position:"item*score",tooltip:!1,color:["category",["rgba(49, 60, 169, 0.4)","rgba(33, 204, 255, 0.4)","rgba(36, 158, 255, 0.4)"]]}),$n(Ch,{name:"score",label:!1}),$n(Lh,{position:"right",marker:(f,u)=>({symbol:"circle",style:{r:4,lineWidth:0,fill:["#313CA9","#21CCFF","#249EFF"][u]}}),name:"category"})]})})}function TR(n){return Xr(hs,{theme:Cm(),forceUpdate:!0,autoFit:!0,data:n.data,height:n.height||400,padding:[0,0,10,0],children:[$n(Lh,{visible:!0}),$n(bm,{fields:["category"],type:"rect",showTitle:!1,eachView:(r,e)=>{const t=e.data;r.coordinate({type:"theta",cfg:{radius:.8,innerRadius:.7}}),r.interval().adjust("stack").position("value").color("type",["#249eff","#846BCE","#21CCFF"," #86DF6C","#0E42D2"]).label("value",{content:i=>`${(i.value*100).toFixed(2)} %`}),r.annotation().text({position:["50%","46%"],content:t[0].category,style:{fontSize:14,fontWeight:500,textAlign:"center"},offsetY:10}),r.interaction("element-single-selected")}})]})}const MR=["\u6D3B\u8DC3\u7528\u6237\u6570","\u5185\u5BB9\u751F\u4EA7\u91CF","\u5185\u5BB9\u70B9\u51FB\u91CF","\u5185\u5BB9\u66DD\u5149\u91CF"],Mh=[0,600,1e3,2e3,4e3],Vl=["\u7EAF\u6587\u672C","\u56FE\u6587\u7C7B","\u89C6\u9891\u7C7B"],PR=(n,r)=>{const{list:e}=Vn.mock({"list|10":[{"id|+1":1,time:function(){return Em().subtract(this.id,"days").format("MM-DD")},count:()=>Vn.Random.natural(Mh[r],Mh[r+1]),name:n}]});return e.map(t=>(delete t.id,t))},xR=n=>new Array(12).fill(0).map(()=>({y:Vn.Random.natural(1e3,1e4)})).sort((e,t)=>e.y-t.y).map((e,t)=>Wi(zt({},e),{x:t,name:n})),RR=n=>{const r=["UGC\u539F\u521B","\u56FD\u5916\u7F51\u7AD9","\u8F6C\u8F7D\u6587\u7AE0","\u884C\u4E1A\u62A5\u544A","\u5176\u4ED6"],e=[];r.forEach(i=>{e.push({type:i,value:Vn.Random.natural(100,1e4),name:n})});const t=e.reduce((i,a)=>i+a.value,0);return e.map(i=>Wi(zt({},i),{value:Number((i.value/t).toFixed(2))}))};Tm({setup:()=>{Vn.mock(new RegExp("/api/multi-dimension/overview"),()=>{const{array:n}=Vn.mock({"array|4":[function(){return Vn.Random.natural(0,1e4)}]});let r=[];return MR.forEach((e,t)=>r=r.concat(PR(e,t))),{overviewData:n,chartData:r}}),Vn.mock(new RegExp("/api/multi-dimension/activity"),()=>{const{list:n}=Vn.mock({"list|3":[{"name|+1":["\u5206\u4EAB\u91CF","\u8BC4\u8BBA\u91CF","\u70B9\u8D5E\u91CF"],count:()=>Vn.Random.natural(1e3,1e4)}]});return n}),Vn.mock(new RegExp("/api/multi-dimension/polar"),()=>{const n=["\u56FD\u9645","\u5A31\u4E50","\u4F53\u80B2","\u8D22\u7ECF","\u79D1\u6280","\u5176\u4ED6"],r=()=>{const e={};return Vl.forEach(t=>{e[t]=Vn.Random.natural(0,100)}),e};return{list:n.map(e=>zt({item:e},r())),fields:Vl}}),Vn.mock(new RegExp("/api/multi-dimension/card"),n=>{const{type:r}=wm.parseUrl(n.url).query;return Vn.mock({count:()=>Vn.Random.natural(1e3,1e4),increment:()=>Vn.Random.boolean(),diff:()=>Vn.Random.natural(100,1e3),chartType:r,chartData:()=>xR("\u7C7B\u76EE1")})}),Vn.mock(new RegExp("/api/multi-dimension/content-source"),()=>Vl.map(r=>RR(r).map(e=>Wi(zt({},e),{category:r}))).flat())}});const{Row:jl,Col:Ca}=_m,{Title:La}=$m;function UR(){const n=Mm(Lm),[r,e]=qe.exports.useState(!1),[t,i]=qe.exports.useState([]),[a,o]=qe.exports.useState(!1),[f,u]=qe.exports.useState({list:[],fields:[]}),[c,l]=qe.exports.useState(!1),[v,s]=qe.exports.useState([]),h=async()=>{e(!0);const{data:d}=await Uu.get("/api/multi-dimension/activity").finally(()=>{e(!1)});i(d)},g=async()=>{o(!0);const{data:d}=await Uu.get("/api/multi-dimension/polar").finally(()=>o(!1));u(d)},p=async()=>{l(!0);const{data:d}=await Uu.get("/api/multi-dimension/content-source").finally(()=>{l(!1)});s(d)};return qe.exports.useEffect(()=>{h(),g(),p()},[]),Xr(Sm,{size:16,direction:"vertical",style:{width:"100%"},children:[Xr(jl,{gutter:20,children:[$n(Ca,{span:16,children:Xr(Ji,{children:[$n(La,{heading:6,children:n["multiDAnalysis.card.title.dataOverview"]}),$n(Nm,{})]})}),Xr(Ca,{span:8,children:[Xr(Ji,{children:[$n(La,{heading:6,children:n["multiDAnalysis.card.title.todayActivity"]}),$n(Im,{data:t,loading:r,height:160})]}),Xr(Ji,{children:[$n(La,{heading:6,children:n["multiDAnalysis.card.title.contentTheme"]}),$n($R,{data:f.list,fields:f.fields,height:197,loading:a})]})]})]}),$n(jl,{children:$n(Ca,{span:24,children:$n(Am,{})})}),$n(jl,{children:$n(Ca,{span:24,children:Xr(Ji,{children:[$n(La,{heading:6,children:n["multiDAnalysis.card.title.contentSource"]}),$n(TR,{loading:c,data:v,height:240})]})})})]})}export{UR as default};
