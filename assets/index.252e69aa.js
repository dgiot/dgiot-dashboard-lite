var j=Object.defineProperty,M=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var D=(e,t,a)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,y=(e,t)=>{for(var a in t||(t={}))x.call(t,a)&&D(e,a,t[a]);if(h)for(var a of h(t))B.call(t,a)&&D(e,a,t[a]);return e},F=(e,t)=>M(e,L(t));var A=(e,t)=>{var a={};for(var s in e)x.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&h)for(var s of h(e))t.indexOf(s)<0&&B.call(e,s)&&(a[s]=e[s]);return a};import{aj as b,$ as Y,c6 as d,r as p,l as q,a as S,as as R,j as i,S as w,B as C,c0 as H,bP as I,aE as N,T as v}from"./vendor.fa662155.js";/* empty css              *//* empty css              */import{P as J}from"./index.11bf9989.js";import{s as K,u as O}from"./index.aba757b9.js";import{i as U,S as W}from"./form.d2df50cf.js";import{g as $,s as G}from"./constants.5f0e016e.js";/* empty css              */const{list:P}=b.mock({"list|100":[{id:/[0-9]{8}[-][0-9]{4}/,name:()=>b.Random.pick(["\u6BCF\u65E5\u63A8\u8350\u89C6\u9891\u96C6","\u6296\u97F3\u77ED\u89C6\u9891\u5019\u9009\u96C6","\u56FD\u9645\u65B0\u95FB\u96C6\u5408"]),"contentType|0-2":0,"filterType|0-1":0,"count|0-2000":0,"createdTime|1-60":0,"status|0-1":0}]}),Q=(e={})=>{const{id:t,name:a,"contentType[]":s,"filterType[]":l,"createdTime[]":o,"status[]":u}=e;if(t)return P.filter(n=>n.id===t);let r=[...P];if(a&&(r=r.filter(n=>n.name.toLowerCase().includes(a.toLowerCase()))),s&&(r=r.filter(n=>s.includes(n.contentType.toString()))),l&&(r=r.filter(n=>l.includes(n.filterType.toString()))),o&&o.length===2){const[n,m]=o;r=r.filter(T=>{const f=d().subtract(T.createdTime,"days").format("YYYY-MM-DD HH:mm:ss");return!d(f).isBefore(d(n))&&!d(f).isAfter(d(m))})}return u&&u.length&&(r=r.filter(n=>u.includes(n.status.toString()))),r};K({setup:()=>{b.mock(new RegExp("/api/list"),e=>{const r=Y.parseUrl(e.url).query,{page:t=1,pageSize:a=10}=r,s=A(r,["page","pageSize"]),l=t,o=a,u=Q(s);return{list:u.slice((l-1)*o,l*o),total:u.length}})}});const{Title:V}=v,oe=["\u56FE\u6587","\u6A2A\u7248\u77ED\u89C6\u9891","\u7AD6\u7248\u77ED\u89C6\u9891"],ie=["\u89C4\u5219\u7B5B\u9009","\u4EBA\u5DE5"],ue=["\u5DF2\u4E0A\u7EBF","\u672A\u4E0A\u7EBF"];function ce(){const e=O(U),t=async(c,g)=>{console.log(c,g)},a=p.exports.useMemo(()=>$(e,t),[e]),[s,l]=p.exports.useState([]),[o,u]=p.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[r,n]=p.exports.useState(!0),[m,T]=p.exports.useState({});p.exports.useEffect(()=>{f()},[o.current,o.pageSize,JSON.stringify(m)]);function f(){const{current:c,pageSize:g}=o;n(!0),q.get("/api/list",{params:y({page:c,pageSize:g},m)}).then(E=>{l(E.data.list),u(F(y({},o),{current:c,pageSize:g,total:E.data.total})),n(!1)})}function k(c){u(c)}function z(c){T(c)}return S(R,{children:[i(V,{heading:6,children:e["menu.list.searchTable"]}),i(W,{onSearch:z}),i(J,{requiredPermissions:[{resource:"menu.list.searchTable",actions:["write"]}],children:S("div",{className:G["button-group"],children:[S(w,{children:[i(C,{type:"primary",icon:i(H,{}),children:e["searchTable.operations.add"]}),i(C,{children:e["searchTable.operations.upload"]})]}),i(w,{children:i(C,{icon:i(I,{}),children:e["searchTable.operation.download"]})})]})}),i(N,{rowKey:"id",loading:r,onChange:k,pagination:o,columns:a,data:s})]})}export{oe as ContentType,ie as FilterType,ue as Status,ce as default};
