var t,n,e=0,o=0,i=0,r=0,l=0,c=0,a="object"==typeof performance&&performance.now?performance:Date,u="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return l||(u(s),l=a.now()+c)}function s(){l=0}function _(){this._call=this._time=this._next=null}function w(t,n,e){var o=new _;return o.restart(t,n,e),o}function m(){l=(r=a.now())+c,e=o=0;try{!function(){f(),++e;for(var n,o=t;o;)(n=l-o._time)>=0&&o._call.call(null,n),o=o._next;--e}()}finally{e=0,function(){var e,o,i=t,r=1/0;for(;i;)i._call?(r>i._time&&(r=i._time),e=i,i=i._next):(o=i._next,i._next=null,i=e?e._next=o:t=o);n=e,p(r)}(),l=0}}function h(){var t=a.now(),n=t-r;n>1e3&&(c-=n,r=t)}function p(t){e||(o&&(o=clearTimeout(o)),t-l>24?(t<1/0&&(o=setTimeout(m,t-a.now()-c)),i&&(i=clearInterval(i))):(i||(r=a.now(),i=setInterval(h,1e3)),e=1,u(m)))}_.prototype=w.prototype={constructor:_,restart:function(e,o,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?f():+i)+(null==o?0:+o),this._next||n===this||(n?n._next=this:t=this,n=this),this._call=e,this._time=i,p()},stop:function(){this._call&&(this._call=null,this._time=1/0,p())}};export{w as t};
