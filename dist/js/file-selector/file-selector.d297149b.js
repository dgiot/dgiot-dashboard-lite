import{t}from"../tslib/tslib.1f186554.js";var e=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function i(t,i){var n=function(t){var i=t.name;if(i&&-1!==i.lastIndexOf(".")&&!t.type){var n=i.split(".").pop().toLowerCase(),a=e.get(n);a&&Object.defineProperty(t,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return t}(t);if("string"!=typeof n.path){var a=t.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof i?i:"string"==typeof a&&a.length>0?a:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}var n=[".DS_Store","Thumbs.db"];function a(e){return t.exports.__awaiter(this,void 0,void 0,(function(){return t.exports.__generator(this,(function(t){return o(e)&&o(e.dataTransfer)?[2,s(e.dataTransfer,e.type)]:function(t){return o(t)&&o(t.target)}(e)?[2,r(e)]:Array.isArray(e)&&e.every((function(t){return"getFile"in t&&"function"==typeof t.getFile}))?[2,p(e)]:[2,[]]}))}))}function o(t){return"object"==typeof t&&null!==t}function r(t){return u(t.target.files).map((function(t){return i(t)}))}function p(e){return t.exports.__awaiter(this,void 0,void 0,(function(){return t.exports.__generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(t){return t.getFile()})))];case 1:return[2,t.sent().map((function(t){return i(t)}))]}}))}))}function s(e,n){return t.exports.__awaiter(this,void 0,void 0,(function(){var a;return t.exports.__generator(this,(function(t){switch(t.label){case 0:return null===e?[2,[]]:e.items?(a=u(e.items).filter((function(t){return"file"===t.kind})),"drop"!==n?[2,a]:[4,Promise.all(a.map(l))]):[3,2];case 1:return[2,c(f(t.sent()))];case 2:return[2,c(u(e.files).map((function(t){return i(t)})))]}}))}))}function c(t){return t.filter((function(t){return-1===n.indexOf(t.name)}))}function u(t){if(null===t)return[];for(var e=[],i=0;i<t.length;i++){var n=t[i];e.push(n)}return e}function l(t){if("function"!=typeof t.webkitGetAsEntry)return m(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?v(e):m(t)}function f(e){return e.reduce((function(e,i){return t.exports.__spread(e,Array.isArray(i)?f(i):[i])}),[])}function m(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=i(e);return Promise.resolve(n)}function d(e){return t.exports.__awaiter(this,void 0,void 0,(function(){return t.exports.__generator(this,(function(t){return[2,e.isDirectory?v(e):g(e)]}))}))}function v(e){var i=e.createReader();return new Promise((function(e,n){var a=[];!function o(){var r=this;i.readEntries((function(i){return t.exports.__awaiter(r,void 0,void 0,(function(){var r,p,s;return t.exports.__generator(this,(function(t){switch(t.label){case 0:if(i.length)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return r=t.sent(),e(r),[3,4];case 3:return p=t.sent(),n(p),[3,4];case 4:return[3,6];case 5:s=Promise.all(i.map(d)),a.push(s),o(),t.label=6;case 6:return[2]}}))}))}),(function(t){n(t)}))}()}))}function g(e){return t.exports.__awaiter(this,void 0,void 0,(function(){return t.exports.__generator(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var a=i(n,e.fullPath);t(a)}),(function(t){n(t)}))}))]}))}))}export{a as f};
