import{r as a,a as s,j as t}from"./vendor.ed5b4e33.js";import{B as e,T as _}from"./Transfer.238a0003.js";/* empty css               */import{H as b}from"./request.4bf7532e.js";import"./jsx-runtime_commonjs-proxy.fb97aa9c.js";const B="_productList_7zmi9_2",y="_product_top_7zmi9_5",F="_topInput_7zmi9_9",g="_topItem_7zmi9_27",C="_pdt_content_7zmi9_33";var u={productList:B,product_top:y,topInput:F,topItem:g,pdt_content:C};const w=new b;function T(){const[n,E]=a.exports.useState(0),[I,p]=a.exports.useState(1),[i,l]=a.exports.useState([]),d={columns:[{label:"ProductID",prop:"objectId",width:200,align:"center",sortable:!0,className:"tb_rows"},{label:"\u4EA7\u54C1\u540D\u79F0",prop:"name",width:200,align:"center",sortable:!0,className:"tb_rows"},{label:"\u8282\u70B9\u7C7B\u578B",prop:"nodeType",width:200,align:"center",sortable:!0,className:"tb_rows",render:r=>t("span",{children:r.nodeType==0?"\u7F51\u5173\u5B50\u8BBE\u5907":r.nodeType==1?"\u7F51\u5173\u8BBE\u5907":r.nodeType==2?"\u7F51\u5173\u5206\u7EC4\u8BBE\u5907":"\u76F4\u8FDE\u8BBE\u5907"})},{label:"\u6240\u5C5E\u54C1\u7C7B",prop:"category.name",width:200,align:"center",sortable:!0,className:"tb_rows"},{label:"\u6DFB\u52A0\u65F6\u95F4",prop:"createdAt",width:200,align:"center",sortable:!0,className:"tb_rows"},{label:"\u64CD\u4F5C",prop:"operation",fixed:"right",width:550,align:"center",className:"tb_rows",render:()=>s("span",{children:[t(e,{type:"primary",children:"\u914D\u7F6E"}),t(e,{type:"warning",children:"\u5B57\u5178"}),t(e,{children:"\u7EC4\u6001"}),t(e,{type:"success",children:"\u7F16\u8F91"}),t(e,{type:"danger",children:"\u5220\u9664"})]})}]};function m(r){var o=new Date(+new Date(r)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"");return o}const h=()=>{w.getClict({url:"/iotapi/classes/Product",params:{count:"objectId",order:"-updatedAt",limit:10,skip:n,include:"category,producttemplet",where:{name:{$ne:null}}},headers:{sessionToken:localStorage.getItem("sessionToken")}}).then(({count:r,results:o})=>{console.log(r),p(r),o.forEach((c,N)=>{c.createdAt=m(c.createdAt)}),l(o)})};return a.exports.useEffect(()=>{h()},[]),s("div",{className:u.productList,children:[s("div",{className:u.product_top,children:[t("input",{className:u.topInput,placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u540D\u79F0\u641C\u7D22"}),t(e,{className:u.topItem,type:"primary",icon:"search",children:"\u641C\u7D22"}),t(e,{className:u.topItem,type:"primary",icon:"plus",children:"\u521B\u5EFA\u4EA7\u54C1"}),t(e,{className:u.topItem,type:"primary",children:"\u5BFC\u51FA\u4EA7\u54C1"}),t(e,{className:u.topItem,type:"primary",children:"\u5BFC\u5165\u4EA7\u54C1"})]}),t("div",{className:u.pdt_content,children:t(_,{columns:d.columns,data:i,stripe:!0,border:!0,"max-height":500})})]})}export{T as default};
