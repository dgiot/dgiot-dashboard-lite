var r={exports:{}};function e(r){if(!r)return"";if(!/\r/.test(r))return r;for(r=r.replace(/\r+\n/gm,"\n");/\r[^$]/.test(r);){var e=/^(.*)\r+/m.exec(r)[1],t=/\r+(.*)$/m.exec(r)[1];t+=e.slice(t.length,e.length),r=r.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,t)}return r}function t(r){for(var e=0,t=0;t<r.length;t++)r[e].length<=r[t].length&&(e=t);return e}function n(r){if(!/\r/.test(r))return r;for(var e=r.split("\r"),n=[];e.length>0;){var a=t(e);n.push(e[a]),e=e.slice(a+1)}return n.join("\r")}r.exports=e,r.exports.escapeCarriageReturn=e,r.exports.escapeCarriageReturnSafe=function(r){if(!r)return"";if(!/\r/.test(r))return r;if(!/\n/.test(r))return n(r);var t=(r=r.replace(/\r+\n/gm,"\n")).lastIndexOf("\n");return e(r.slice(0,t))+"\n"+n(r.slice(t+1))};export{r as e};
