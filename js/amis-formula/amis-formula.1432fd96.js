import{t as e}from"../tslib/tslib.1f2a8160.js";import{r as t}from"../moment/moment.425c88b7.js";import{O as n,P as r,J as i,Q as a,R as o,b as u,S as s,r as p,M as l,u as c}from"../lodash/lodash.33fc63e8.js";var f={};Object.defineProperty(f,"__esModule",{value:!0});var m=e.exports,d=n,y=r,v=i,h=a,g=o,b=u,x=s,A=p,E=l,T=c;function S(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var O,D,N=S(t),R=S(d),M=S(y),w=S(v),I=S(h),F=S(g),L=S(b),C=S(x),P=S(A),k=S(E),z=S(T);(D=O||(O={}))[D.BooleanLiteral=1]="BooleanLiteral",D[D.RAW=2]="RAW",D[D.Variable=3]="Variable",D[D.OpenScript=4]="OpenScript",D[D.CloseScript=5]="CloseScript",D[D.EOF=6]="EOF",D[D.Identifier=7]="Identifier",D[D.Literal=8]="Literal",D[D.NumericLiteral=9]="NumericLiteral",D[D.Punctuator=10]="Punctuator",D[D.StringLiteral=11]="StringLiteral",D[D.RegularExpression=12]="RegularExpression",D[D.TemplateRaw=13]="TemplateRaw",D[D.TemplateLeftBrace=14]="TemplateLeftBrace",D[D.TemplateRightBrace=15]="TemplateRightBrace",D[D.OpenFilter=16]="OpenFilter",D[D.Char=17]="Char";var B={};B[O.BooleanLiteral]="Boolean",B[O.RAW]="Raw",B[O.Variable]="Variable",B[O.OpenScript]="OpenScript",B[O.CloseScript]="CloseScript",B[O.EOF]="EOF",B[O.Identifier]="Identifier",B[O.Literal]="Literal",B[O.NumericLiteral]="Numeric",B[O.Punctuator]="Punctuator",B[O.StringLiteral]="String",B[O.RegularExpression]="RegularExpression",B[O.TemplateRaw]="TemplateRaw",B[O.TemplateLeftBrace]="TemplateLeftBrace",B[O.TemplateRightBrace]="TemplateRightBrace",B[O.OpenFilter]="OpenFilter",B[O.Char]="Char";var _=0,Y=1,U=2,H=3,j=4,$=5,V=0,q=1,W=0,G=1,X=2,Z=3,J=4,Q=5,K=0,ee=1,te=2,ne=["===","!==",">>>","==","!=","<>","<=",">=","||","&&","++","--","<<",">>","**","+=","*=","/=","<",">","=","*","/","-","+","^","!","~","%","&","|","(",")","[","]","{","}","?",":",";",",",".","$"],re={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8};function ie(e){return e>="1"&&e<="9"}function ae(e){return e>="0"&&e<="9"}function oe(e){return"e"===e||"E"===e}function ue(e,t){return void 0===t&&(t=[]),e.replace(/\\(.)/g,(function(e,n){return"b"===n?"\b":"f"===n?"\f":"n"===n?"\n":"r"===n?"\r":"t"===n?"\t":"v"===n?"\v":~t.indexOf(n)?n:e}))}function se(e){return Number(e)}function pe(e,t){var n=1,r=1,i=0,a=_,o=[a],u=[],s=!1!==(null==t?void 0:t.allowFilter);function p(e){o.push(a=e)}function l(){o.pop(),a=o[o.length-1]}function c(e){if(e&&"string"==typeof e){var t=e.split(/[\r\n]+/);return{index:i+e.length,line:n+t.length-1,column:r+t[t.length-1].length}}return{index:i,line:n,column:r}}function f(){if(a!==Y&&a!==U&&a!==H&&a!==$)return null;var n=function(){var t=e.substring(i,i+4).toLowerCase(),n=t,r=!1;"true"===t||"null"===t?(r=!0,n="true"===t||null):"false"===(t=e.substring(i,i+5).toLowerCase())?(r=!0,n=!1):"undefined"===(t=e.substring(i,i+9).toLowerCase())&&(r=!0,n=void 0);if(r)return{type:!0===n||!1===n?B[O.BooleanLiteral]:B[O.Literal],value:n,raw:t,start:c(),end:c(t)};return null}()||function(){var n=((null==t?void 0:t.variableMode)?/^[\u4e00-\u9fa5A-Za-z0-9_$@][\u4e00-\u9fa5A-Za-z0-9_\-$@]*/:/^(?:[\u4e00-\u9fa5A-Za-z_$@]([\u4e00-\u9fa5A-Za-z0-9_\-$@]|\\(?:\.|\[|\]|\(|\)|\{|\}|\s|=|!|>|<|\||&|\+|-|\*|\/|\^|~|%|&|\?|:|;|,))*|\d+[\u4e00-\u9fa5A-Za-z_$@](?:[\u4e00-\u9fa5A-Za-z0-9_\-$@]|\\(?:\.|\[|\]|\(|\)|\{|\}|\s|=|!|>|<|\||&|\+|-|\*|\/|\^|~|%|&|\?|:|;|,))*)/).exec(e.substring(i,i+256));if(n)return{type:B[O.Identifier],value:n[0].replace(/\\(\.|\[|\]|\(|\)|\{|\}|\s|=|!|>|<|\||&|\+|-|\*|\/|\^|~|%|&|\?|:|;|,)/g,(function(e,t){return t})),start:c(),end:c(n[0])};return null}()||function(){var t=i,n=t,r=W;e:for(;t<e.length;){var a=e.charAt(t);switch(r){case W:if("0"===a)n=t+1,r=G;else{if(!ie(a))return null;n=t+1,r=X}break;case G:if("."===a)r=Z;else{if(!oe(a))break e;r=Q}break;case X:if(ae(a))n=t+1;else if("."===a)r=Z;else{if(!oe(a))break e;r=Q}break;case Z:if(!ae(a))break e;n=t+1,r=J;break;case J:if(ae(a))n=t+1;else{if(!oe(a))break e;r=Q}}t++}if(n>0){var o=e.slice(i,n);return{type:B[O.NumericLiteral],value:se(o),raw:o,start:c(),end:c(o)}}return null}()||function(){var t='"',n=K,r=i;for(;r<e.length;){var a=e[r];if(n===K){if('"'!==a&&"'"!==a)break;t=a,r++,n=ee}else if(n===te){if(!re.hasOwnProperty(a)&&a!==t){var o=c(e.substring(i,r+1));throw new SyntaxError("Unexpected token ".concat(a," in ").concat(o.line,":").concat(o.column))}r++,n=ee}else if("\\"===a)r++,n=te;else{if(a===t){r++;break}r++}}if(r>i){var u=e.substring(i,r);return{type:B[O.StringLiteral],value:ue(u.substring(1,u.length-1),[t]),raw:u,start:c(),end:c(u)}}return null}()||function(){var t=ne.find((function(t){return e.substring(i,i+t.length)===t}));if(t)return{type:B[O.Punctuator],value:t,start:c(),end:c(t)};return null}()||function(){if(a!==$)return null;var t=i,n=e[t];if("\\"===n){var r=e[t+1];if("$"!==r&&!~ne.indexOf(r)&&!re.hasOwnProperty(r)){var o=c(e.substring(i,i+2));throw new SyntaxError("Unexpected token ".concat(r," in ").concat(o.line,":").concat(o.column))}t++,n="b"===r?"\b":"f"===r?"\f":"n"===r?"\n":"r"===r?"\r":"t"===r?"\t":"v"===r?"\v":r}return{type:B[O.Char],value:n,start:c(),end:c(e.substring(i,t+1))}}();if("{"===(null==n?void 0:n.value))p(H);else if("}"===(null==n?void 0:n.value)){a===$&&l();var r=a;if(l(),r===Y||r===U)return{type:B[r===U?O.TemplateRightBrace:O.CloseScript],value:n.value,start:c(),end:c(n.value)}}return a===Y&&"|"===(null==n?void 0:n.value)&&s?(p($),{type:B[O.OpenFilter],value:"|",start:c(),end:c("|")}):a===$&&"|"===(null==n?void 0:n.value)?{type:B[O.OpenFilter],value:"|",start:c(),end:c("|")}:n||"`"!==e[i]?n:(p(j),{type:B[O.Punctuator],value:"`",start:c(),end:c("`")})}function m(){return u.length?u.shift():(a!==Y&&a!==U&&a!==H||function(){for(;i<e.length;){var t=e[i];if("\r"===t)i++,n++,r=1,"\n"===e.charAt(i)&&i++;else if("\n"===t)i++,n++,r=1;else{if("\t"!==t&&" "!==t)break;i++,r++}}}(),function(){if(i>=e.length)return{type:B[O.EOF],value:void 0,start:c(),end:c()}}()||function(){if(a!==_)return null;for(var t="",n=V,r=i;r<e.length;){var o=e[r];if(n===q){if(!re.hasOwnProperty(o)&&"$"!==o){var s=c(t+o);throw new SyntaxError("Unexpected token ".concat(o," in ").concat(s.line,":").concat(s.column))}t+=o,r++,n=V}else{if("\\"===o){t+=o,r++,n=q;continue}if("$"===o){var p=e[r+1];if("{"===p)break;if("$"===p){u.push({type:B[O.Variable],value:"&",raw:"$$",start:c(e.substring(i,r)),end:c(e.substring(i,r+2))});break}var l=/^[a-zA-Z0-9_]+(?:\.[a-zA-Z0-9_]+)*/.exec(e.substring(r+1));if(l){u.push({type:B[O.Variable],value:l[0],raw:l[0],start:c(e.substring(i,r)),end:c(e.substring(i,r+1+l[0].length))});break}}r++,t+=o}}return r>i?{type:B[O.RAW],value:ue(t,["`","$"]),raw:t,start:c(),end:c(t)}:u.length?u.shift():null}()||function(){if(a===j)return null;if("$"===e[i]&&"{"===e[i+1]){p(Y);var t=e.substring(i,i+2);return{type:B[O.OpenScript],value:t,start:c(),end:c(t)}}return null}()||f()||function(){if(a!==j)return null;for(var t=K,n=i;n<e.length;){var r=e[n];if(t===te){if(!re.hasOwnProperty(r)&&"`"!==r&&"$"!==r){var o=c(e.substring(i,n+1));throw new SyntaxError("Unexpected token ".concat(r," in ").concat(o.line,":").concat(o.column))}n++,t=ee}else if("\\"===r)n++,t=te;else{if("`"===r){l(),u.push({type:B[O.Punctuator],value:"`",start:c(e.substring(i,n)),end:c(e.substring(i,n+1))});break}if("$"===r){if("{"===e[n+1]){p(U),u.push({type:B[O.TemplateLeftBrace],value:"${",start:c(e.substring(i,n)),end:c(e.substring(i,n+2))});break}n++}else n++}}if(n>i){var s=e.substring(i,n);return{type:B[O.TemplateRaw],value:ue(s,["`","$"]),raw:s,start:c(),end:c(s)}}return u.length?u.shift():null}())}return((null==t?void 0:t.evalMode)||(null==t?void 0:t.variableMode))&&p(U),{next:function(){var t=m();if(t)return i=t.end.index,n=t.end.line,r=t.end.column,t;var a=c();throw new SyntaxError('unexpected character "'.concat(e[i],'" at ').concat(a.line,":").concat(a.column))}}}var le=0,ce=1,fe=0,me=1,de=0,ye=1,ve=2,he=3,ge=4;function be(e,t){var n,r,i,a=pe(e,t),o=[],u=[],s=null!==(n=null==t?void 0:t.variableNamespaces)&&void 0!==n?n:["window","cookie","ls","ss"];function p(){if(!(i=u.length?u.shift():a.next()))throw new TypeError("next token is undefined");o.push(i)}function l(e){return i.type===B[O.Punctuator]&&(Array.isArray(e)?~e.indexOf(i.value):i.value===e)}function c(){throw TypeError("Unexpected token ".concat(i.value," in ").concat(i.start.line,":").concat(i.start.column))}function f(e){return e||c(),e}function m(){return H()}function d(){for(;i.type===B[O.Char]&&/^\s+$/m.test(i.value);)p()}function y(){for(var e=[];!l(":")&&i.type!==B[O.OpenFilter]&&i.type!==B[O.CloseScript];){var t=z()||C()||L()||P()||_()||$()||U();t?e.push(t):(f(~[B[O.Identifier],B[O.Punctuator],B[O.Char]].indexOf(i.type)),e.length&&"string"==typeof e[e.length-1]?e[e.length-1]+=i.raw||i.value:e.push(i.raw||i.value),p())}return e.length&&"string"==typeof e[e.length-1]&&(e[e.length-1]=e[e.length-1].replace(/\s+$/,""),e[e.length-1]||e.pop()),e}function v(){var e=h("or","||",g);if(!e)return null;if(l("?")){p();var t=H();f(t),f(l(":")),p();var n=H();return f(n),{type:"conditional",test:e,consequent:t,alternate:n}}return e}function h(e,t,n,r,i,a){var o;void 0===r&&(r=n),void 0===i&&(i="left"),void 0===a&&(a="right");var u=n();if(!u)return null;if(l(t))for(;l(t);){p();var s=f(r());(o={type:e,op:t})[i]=u,o[a]=s,u=o}return u}function g(){return h("and","&&",b)}function b(){return h("binary","|",x)}function x(){return h("binary","^",A)}function A(){return h("binary","&",E)}function E(){return h("eq","==",(function(){return h("ne","!=",(function(){return h("streq","===",(function(){return h("strneq","!==",T)}))}))}))}function T(){return h("lt","<",(function(){return h("gt",">",(function(){return h("le","<=",(function(){return h("ge",">=",S)}))}))}))}function S(){return h("shift","<<",(function(){return h("shift",">>",(function(){return h("shift",">>>",D)}))}))}function D(){return h("add","+",(function(){return h("minus","-",N)}))}function N(){return h("multiply","*",(function(){return h("divide","/",(function(){return h("remainder","%",R)}))}))}function R(){return h("power","**",M)}function M(){for(var e=["+","-","~","!"],t=[];l(e);)t.push(i),p();var n=w();for(f(!t.length||n);t.length;){n={type:"unary",op:t.pop().value,value:n}}return n}function w(e){void 0===e&&(e=I);var t=e();if(!t)return null;for(;l("[")||l(".");){var n=l(".");p();var r=f(n?k()||C()||$():m());n||(f(l("]")),p()),t={type:"getter",host:t,key:r}}return t}function I(){return function(){if(i.type===B[O.Identifier]){var e=i;if(p(),l("(")){var t=Y();return{type:"func_call",identifier:e.value,args:null==t?void 0:t.body}}u.unshift(o.pop()),i=o[o.length-1]}return null}()||V()||z()||C()||L()||P()||_()||U()||(1===(null==(e=Y())?void 0:e.body.length)?e.body[0]:e)||$();var e}function F(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),(e?V():k())||L()||C()||(t?function(){if(l("[")){p();var e=f(P());return f(l("]")),p(),e}return null}():P())}function L(){if(i.type===B[O.StringLiteral]){var e=i;return p(),{type:"string",value:e.value}}return null}function C(){if(i.type===B[O.NumericLiteral]){var e=i.value;return p(),{type:"literal",value:e}}return null}function P(){if(l("`")){p();for(var e=fe,t={type:"template",body:[]};;)if(e===me){var n=f(m());t.body.push(n),f(i.type===B[O.TemplateRightBrace]),p(),e=fe}else{if(l("`")){p();break}i.type===B[O.TemplateLeftBrace]?(p(),e=me):i.type===B[O.TemplateRaw]?(t.body.push({type:"template_raw",value:i.value}),p()):c()}return t}return null}function k(){if(i.type===B[O.Identifier]){var e=i;return p(),{type:"identifier",name:e.value}}return null}function z(){if(i.type===B[O.Literal]||i.type===B[O.BooleanLiteral]){var e=i.value;return p(),{type:"literal",value:e}}return null}function _(){if(l("[")){var e=Y("[","]");return{type:"array",members:null==e?void 0:e.body}}return null}function Y(e,t){if(void 0===e&&(e="("),void 0===t&&(t=")"),l(e)){p();for(var n=[],r=le;;)if(r!==ce&&l(t)){if(l(t)){p();break}}else{var i=f(m());n.push(i),r=le,l(",")&&(p(),r=ce)}return{type:"expression-list",body:n}}return null}function U(){if(l("{")){p();for(var e={type:"object",members:[]},t=de,n=void 0,r=void 0;;)if(t===ye)f(l(":")),p(),t=ve;else if(t===ve)r=f(m()),e.members.push({key:n,value:r}),t=he;else if(t===he)if(l(","))p(),t=ge;else{if(l("}")){p();break}c()}else{if(t!=ge&&l("}")){p();break}n=f(F(!1,!0)),t=ye}return e}return null}function H(){return v()}function j(){if(i.type!==B[O.RAW])return null;var e=i;return p(),{type:"raw",value:e.value}}function $(){if(i.type!==B[O.OpenScript])return null;p();var e=f(function(){for(var e=m(),t=[];i.type===B[O.OpenFilter];){p(),d();var n=f(k()).name,r=[];for(d();l(":");){p(),d();var a=y();1===a.length?a=a[0]:a.length||(a=""),r.push(Array.isArray(a)?{type:"mixed",body:a}:a)}t.push({name:n,args:r})}return t.length&&(e={type:"filter",input:e,filters:t}),e}());return f(i.type===B[O.CloseScript]),p(),{type:"script",body:e}}function V(){if(i.type===B[O.Identifier]){var e=i;if(p(),l(":")&&~s.indexOf(e.value)){p();var t=f(w());return{type:"ns-variable",namespace:e.value,body:t}}return{type:"variable",name:e.value}}return l("&")?(p(),{type:"variable",name:"&"}):null}function q(){if(i.type!==B[O.Variable])return null;var e=i;return p(),{type:"script",body:e.value.split(".").reduce((function(e,t){return e?{type:"getter",host:e,key:t}:{type:"variable",name:t}}),null)}}Array.isArray(s)||(s=[]),p();var W=(null==t?void 0:t.variableMode)?w(V):(null==t?void 0:t.evalMode)?m():function(){for(var e={type:"document",body:[]};i.type!==B[O.EOF];){var t=j()||$()||q();if(!t)break;e.body.push(t)}return e}();return f((null===(r=i)||void 0===r?void 0:r.type)===B[O.EOF]),W}function xe(e,t,n){e&&Object.isFrozen(e)&&(e=Ae(e));var r=e?Object.create(e,m.__assign(m.__assign({},n),{__super:{value:e,writable:!1,enumerable:!1}})):Object.create(Object.prototype,n);return t&&Ee(t)&&Object.keys(t).forEach((function(e){return r[e]=t[e]})),r}function Ae(e,t){void 0===t&&(t=!0);var n=e&&e.__super?Object.create(e.__super,{__super:{value:e.__super,writable:!1,enumerable:!1}}):Object.create(Object.prototype);return t&&e&&Object.keys(e).forEach((function(t){return n[t]=e[t]})),n}function Ee(e){var t=typeof e;return e&&"string"!==t&&"number"!==t&&"boolean"!==t&&"function"!==t&&!Array.isArray(e)}function Te(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new TypeError("Expected a string");return new RegExp(e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),t?"":"i")}function Se(e,t,n){if(void 0===n&&(n=!0),e&&t)return(n?t in e:e.hasOwnProperty(t))?e[t]:De(t).reduce((function(e,t){return e&&"object"==typeof e&&(n?t in e:e.hasOwnProperty(t))?e[t]:void 0}),e)}function Oe(e,t,n,r){if(t in(e=e||{}))e[t]=n;else{for(var i=!1!==r?De(t):[t],a=i.pop();i.length;){var o=i.shift();L.default(e[o])?e=e[o]=m.__assign({},e[o]):Array.isArray(e[o])?(e[o]=e[o].concat(),e=e[o]):(e[o],e[o]={},e=e[o])}e[a]=n}}var De=function(e){var t=[];return e.charCodeAt(0)===".".charCodeAt(0)&&t.push(""),e.replace(new RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),(function(e,n,r,i){var a=e;return r?a=i.replace(/\\(\\)?/g,"$1"):n&&(a=n.trim()),t.push(a),""})),t},Ne=function(e,t,n){if(void 0===n&&(n="| html"),!e||"string"!=typeof e)return e;try{var r=be(e,{evalMode:!1,allowFilter:!0}),i=new _e(t,{defaultFilter:n}).evalute(r);return"".concat(null==i?"":i)}catch(a){return e}},Re=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],Me=function(e){if(!Number.isFinite(e))throw new TypeError("Expected a finite number, got ".concat(typeof e,": ").concat(e));var t=e<0;if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var n=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),Re.length-1);return(t?"-":"")+Number((e/Math.pow(1e3,n)).toPrecision(3))+" "+Re[n]},we={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Ie=function(e){return String(e).replace(/[&<>"'\/]/g,(function(e){return we[e]}))};function Fe(e){for(var t=["秒","分","时","天","月","季","年"],n=[1,60,3600,86400,2592e3,7776e3,31104e3],r=n.length,i=[];r--;)n[r]&&e>=n[r]?(i.push(Math.floor(e/n[r])+t[r]),e%=n[r]):0===r&&e&&i.push((e.toFixed?e.toFixed(2):"0")+t[0]);return i.join("")}var Le={year:"Y",month:"M",week:"w",weekday:"W",day:"d",hour:"h",minute:"m",min:"m",second:"s",millisecond:"ms"},Ce=/^(.+)?(\+|-)(\d+)(minute|min|hour|day|week|month|year|weekday|second|millisecond)s?$/i,Pe=function(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n="X"),void 0===r&&(r=!1);var i,a=r?N.default.utc:N.default;"string"==typeof e&&(e=e.trim());var o=new Date;if((e=Ne(e,xe(t,{now:a().toDate(),today:a([o.getFullYear(),o.getMonth(),o.getDate()])}),"| raw"))&&"string"==typeof e&&(i=Ce.exec(e))){var u=new Date,s=parseInt(i[3],10),p=i[1]?Pe(i[1],t,n,r):a(/(minute|min|hour|second)s?/.test(i[4])?[u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds()]:[u.getFullYear(),u.getMonth(),u.getDate()]);return"-"===i[2]?p.subtract(s,Le[i[4]]):p.add(s,Le[i[4]])}if("now"===e)return a();if("today"===e){var l=new Date;return a([l.getFullYear(),l.getMonth(),l.getDate()])}var c=a(e);return c.isValid()?c:a(e,n)};function ke(e){return"number"==typeof e?parseFloat(e.toPrecision(12)):e}function ze(e,t){var n,r;if(!e||(r=e.split(","))&&r.length<2){var i=e.indexOf("~");if(~i){var a=e.substring(0,i),o=e.substring(i+1);return(n={})[a]=Be(o,t),n}return Be(e,t)}var u={};return r.forEach((function(e){var n=e.indexOf("~"),r=e;~n&&(r=e.substring(n+1),e=e.substring(0,n)),Oe(u,e,Be(r,t))})),u}function Be(e,t){if(void 0===t&&(t={}),"&"===e||"$$"==e)return t;if(e&&"string"==typeof e){if(!~e.indexOf(":"))return Se(t,"$"===e[0]?e.substring(1):e);try{return new _e(t).evalute(be(e,{variableMode:!0,allowFilter:!1}))}catch(n){return}}}var _e=function(){function e(t,n){void 0===n&&(n={defaultFilter:"html"}),this.options=n,this.functions={},this.contextStack=[],this.context=t,this.contextStack.push((function(e){return"&"===e?t:null==t?void 0:t[e]})),this.filters=m.__assign(m.__assign(m.__assign({},e.defaultFilters),this.filters),null==n?void 0:n.filters),this.functions=m.__assign(m.__assign({},this.functions),null==n?void 0:n.functions)}return e.setDefaultFilters=function(t){e.defaultFilters=m.__assign(m.__assign({},e.defaultFilters),t)},e.prototype.evalute=function(e){if(e&&e.type){var t=e.type.replace(/(?:_|\-)(\w)/g,(function(e,t){return t.toUpperCase()})),n=this.functions[t]||this[t];if(!n)throw new Error("".concat(e.type," unkown."));return n.call(this,e)}return e},e.prototype.document=function(e){var t=this;if(e.body.length){var n=e.body.length>1,r=e.body.map((function(e){var r=t.evalute(e);return n&&null==r?"":r}));return 1===r.length?r[0]:r.join("")}},e.prototype.filter=function(e){for(var t=this,n=this.evalute(e.input),r=e.filters.concat(),i={filter:void 0,data:this.context,restFilters:r};r.length;){var a=r.shift(),o=this.filters[a.name];if(!o)throw new Error("filter `".concat(a.name,"` not exits"));i.filter=a,n=o.apply(i,[n].concat(a.args.map((function(e){return"mixed"===(null==e?void 0:e.type)?e.body.map((function(e){return"string"==typeof e?e:t.evalute(e)})).join(""):e.type?t.evalute(e):e}))))}return n},e.prototype.raw=function(e){return e.value},e.prototype.script=function(e){var t,n=this.options.defaultFilter;return n&&~["getter","variable"].indexOf(null===(t=e.body)||void 0===t?void 0:t.type)&&(e.body={type:"filter",input:e.body,filters:[{name:n.replace(/^\s*\|\s*/,""),args:[]}]}),this.evalute(e.body)},e.prototype.expressionList=function(e){var t=this;return e.body.reduce((function(e,n){return t.evalute(n)}))},e.prototype.template=function(e){var t=this;return e.body.map((function(e){return t.evalute(e)})).join("")},e.prototype.templateRaw=function(e){return e.value},e.prototype.getter=function(e){var t,n=this.evalute(e.host),r=this.evalute(e.key);return void 0===r&&"variable"===(null===(t=e.key)||void 0===t?void 0:t.type)&&(r=e.key.name),null==n?void 0:n[r]},e.prototype.unary=function(e){var t=this.evalute(e.value);switch(e.op){case"+":return+t;case"-":return-t;case"~":return~t;case"!":return!t}},e.prototype.formatNumber=function(e,t){void 0===t&&(t=!1);var n=typeof e;return"string"===n?(t?parseInt(e,10):parseFloat(e))||0:"number"===n&&t?Math.round(e):null!=e?e:0},e.prototype.power=function(e){var t=this.evalute(e.left),n=this.evalute(e.right);return Math.pow(this.formatNumber(t),this.formatNumber(n))},e.prototype.multiply=function(e){var t=this.evalute(e.left),n=this.evalute(e.right);return ke(this.formatNumber(t)*this.formatNumber(n))},e.prototype.divide=function(e){var t=this.evalute(e.left),n=this.evalute(e.right);return ke(this.formatNumber(t)/this.formatNumber(n))},e.prototype.remainder=function(e){var t=this.evalute(e.left),n=this.evalute(e.right);return this.formatNumber(t)%this.formatNumber(n)},e.prototype.add=function(e){var t=this.evalute(e.left),n=this.evalute(e.right);return ke(this.formatNumber(t)+this.formatNumber(n))},e.prototype.minus=function(e){var t=this.evalute(e.left),n=this.evalute(e.right);return ke(this.formatNumber(t)-this.formatNumber(n))},e.prototype.shift=function(e){var t=this.evalute(e.left),n=this.formatNumber(this.evalute(e.right),!0);return"<<"===e.op?t<<n:">>"==e.op?t>>n:t>>>n},e.prototype.lt=function(e){return this.evalute(e.left)<this.evalute(e.right)},e.prototype.gt=function(e){return this.evalute(e.left)>this.evalute(e.right)},e.prototype.le=function(e){return this.evalute(e.left)<=this.evalute(e.right)},e.prototype.ge=function(e){return this.evalute(e.left)>=this.evalute(e.right)},e.prototype.eq=function(e){return this.evalute(e.left)==this.evalute(e.right)},e.prototype.ne=function(e){return this.evalute(e.left)!=this.evalute(e.right)},e.prototype.streq=function(e){return this.evalute(e.left)===this.evalute(e.right)},e.prototype.strneq=function(e){return this.evalute(e.left)!==this.evalute(e.right)},e.prototype.binary=function(e){var t=this.evalute(e.left),n=this.evalute(e.right);return"&"===e.op?t&n:"^"===e.op?t^n:t|n},e.prototype.and=function(e){return this.evalute(e.left)&&this.evalute(e.right)},e.prototype.or=function(e){return this.evalute(e.left)||this.evalute(e.right)},e.prototype.number=function(e){return e.value},e.prototype.nsVariable=function(e){if("window"===e.namespace)this.contextStack.push((function(e){return"&"===e?window:window[e]}));else if("cookie"===e.namespace)this.contextStack.push((function(e){return function(e){var t="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===t.length)return t.pop().split(";").shift();return}(e)}));else{if("ls"!==e.namespace&&"ss"!==e.namespace)throw new Error("Unsupported namespace: "+e.namespace);var t=e.namespace;this.contextStack.push((function(e){var n="ss"===t?sessionStorage.getItem(e):localStorage.getItem(e);if("string"==typeof n)return function(e,t){try{return JSON.parse(e)}catch(n){return t}}(n,n)}))}var n=this.evalute(e.body);return this.contextStack.pop(),n},e.prototype.variable=function(e){return(0,this.contextStack[this.contextStack.length-1])(e.name)},e.prototype.identifier=function(e){return e.name},e.prototype.array=function(e){var t=this;return e.members.map((function(e){return t.evalute(e)}))},e.prototype.literal=function(e){return e.value},e.prototype.string=function(e){return e.value},e.prototype.object=function(e){var t=this,n={};return e.members.forEach((function(e){var r=e.key,i=e.value;n[t.evalute(r)]=t.evalute(i)})),n},e.prototype.conditional=function(e){return this.evalute(e.test)?this.evalute(e.consequent):this.evalute(e.alternate)},e.prototype.funcCall=function(e){var t=this,n="fn".concat(e.identifier),r=this.functions[n]||this[n]||this.filters[e.identifier];if(!r)throw new Error("".concat(e.identifier,"函数没有定义"));var i=e.args;return i=~["IF","AND","OR","XOR","IFS"].indexOf(e.identifier)?i.map((function(e){return function(){return t.evalute(e)}})):i.map((function(e){return t.evalute(e)})),r.apply(this,i)},e.prototype.fnIF=function(e,t,n){return e()?t():n()},e.prototype.fnAND=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return e()}))},e.prototype.fnOR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.some((function(e){return e()}))},e.prototype.fnXOR=function(e,t){return!!e()==!!t()},e.prototype.fnIFS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(e.length%2&&e.splice(e.length-1,0,(function(){return!0}));e.length;){var n=e.shift(),r=e.shift();if(n())return r()}},e.prototype.fnABS=function(e){return e=this.formatNumber(e),Math.abs(e)},e.prototype.fnMAX=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Math.max.apply(Math,t.map((function(t){return e.formatNumber(t)})))},e.prototype.fnMIN=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Math.min.apply(Math,t.map((function(t){return e.formatNumber(t)})))},e.prototype.fnSUM=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reduce((function(t,n){return t+e.formatNumber(n)||0}),0)},e.prototype.fnINT=function(e){return Math.floor(this.formatNumber(e))},e.prototype.fnMOD=function(e,t){return this.formatNumber(e)%this.formatNumber(t)},e.prototype.fnPI=function(){return Math.PI},e.prototype.fnROUND=function(e,t){e=this.formatNumber(e),t=this.formatNumber(t);var n=Math.round(t);if(n){var r=Math.pow(10,n);return Math.round(e*r)/r}return Math.round(e)},e.prototype.fnFLOOR=function(e,t){e=this.formatNumber(e),t=this.formatNumber(t);var n=Math.round(t);if(n){var r=Math.pow(10,n);return Math.floor(e*r)/r}return Math.floor(e)},e.prototype.fnCEIL=function(e,t){e=this.formatNumber(e),t=this.formatNumber(t);var n=Math.round(t);if(n){var r=Math.pow(10,n);return Math.ceil(e*r)/r}return Math.ceil(e)},e.prototype.fnSQRT=function(e){return Math.sqrt(this.formatNumber(e))},e.prototype.fnAVG=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.fnSUM.apply(this,t.map((function(t){return e.formatNumber(t)})))/t.length},e.prototype.fnDEVSQ=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return null;for(var r=t.map((function(t){return e.formatNumber(t)})),i=r.reduce((function(e,t){return e+t||0}),0),a=i/r.length,o=0,u=0,s=r;u<s.length;u++){var p=s[u];o+=Math.pow(p-a,2)}return o},e.prototype.fnAVEDEV=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return null;for(var r=t.map((function(t){return e.formatNumber(t)})),i=r.reduce((function(e,t){return e+t||0}),0),a=i/r.length,o=0,u=0,s=r;u<s.length;u++){var p=s[u];o+=Math.abs(p-a)}return o/r.length},e.prototype.fnHARMEAN=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return null;for(var r=t.map((function(t){return e.formatNumber(t)})),i=0,a=0,o=r;a<o.length;a++){var u=o[a];i+=1/u}return r.length/i},e.prototype.fnLARGE=function(e,t){var n=this;if(0===e.length)return null;var r=e.map((function(e){return n.formatNumber(e)}));return t<0||r.length<t?null:r.sort((function(e,t){return t-e}))[t-1]},e.prototype.fnUPPERMONEY=function(e){var t=["角","分"],n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],r=[["元","万","亿"],["","拾","佰","仟"]],i=(e=this.formatNumber(e))<0?"欠":"";e=Math.abs(e);for(var a="",o=0;o<t.length;o++)a+=(n[Math.floor(10*e*Math.pow(10,o))%10]+t[o]).replace(/零./,"");a=a||"整",e=Math.floor(e);for(o=0;o<r[0].length&&e>0;o++){for(var u="",s=0;s<r[1].length&&e>0;s++)u=n[e%10]+r[1][s]+u,e=Math.floor(e/10);a=u.replace(/(零.)*零$/,"").replace(/^$/,"零")+r[0][o]+a}return i+a.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")},e.prototype.fnRAND=function(){return Math.random()},e.prototype.fnLAST=function(e){return e.length?e[e.length-1]:null},e.prototype.normalizeText=function(e){return e instanceof Date?N.default(e).format():"".concat(e)},e.prototype.fnLEFT=function(e,t){return(e=this.normalizeText(e)).substring(0,t)},e.prototype.fnRIGHT=function(e,t){return(e=this.normalizeText(e)).substring(e.length-t,e.length)},e.prototype.fnLEN=function(e){return null==(e=this.normalizeText(e))?void 0:e.length},e.prototype.fnLENGTH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.fnLEN.call(this,e)},e.prototype.fnISEMPTY=function(e){return!e||!String(e).trim()},e.prototype.fnCONCATENATE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("")},e.prototype.fnCHAR=function(e){return String.fromCharCode(e)},e.prototype.fnLOWER=function(e){return(e=this.normalizeText(e)).toLowerCase()},e.prototype.fnUPPER=function(e){return(e=this.normalizeText(e)).toUpperCase()},e.prototype.fnUPPERFIRST=function(e){return e=this.normalizeText(e),R.default(e)},e.prototype.fnPADSTART=function(e,t,n){return e=this.normalizeText(e),M.default(e,t,n)},e.prototype.fnCAPITALIZE=function(e){return e=this.normalizeText(e),w.default(e)},e.prototype.fnESCAPE=function(e){return e=this.normalizeText(e),I.default(e)},e.prototype.fnTRUNCATE=function(e,t){return e=this.normalizeText(e),F.default(e,{length:t})},e.prototype.fnBEFORELAST=function(e,t){return void 0===t&&(t="."),(e=this.normalizeText(e)).split(t).slice(0,-1).join(t)||e+""},e.prototype.fnSPLIT=function(e,t){return void 0===t&&(t=","),(e=this.normalizeText(e)).split(t)},e.prototype.fnTRIM=function(e){return(e=this.normalizeText(e)).trim()},e.prototype.fnSTRIPTAG=function(e){return(e=this.normalizeText(e)).replace(/<\/?[^>]+(>|$)/g,"")},e.prototype.fnLINEBREAK=function(e){return(e=this.normalizeText(e)).replace(/(?:\r\n|\r|\n)/g,"<br/>")},e.prototype.fnSTARTSWITH=function(e,t){return!!t&&0===(e=this.normalizeText(e)).indexOf(t)},e.prototype.fnENDSWITH=function(e,t){return!!t&&-1!==(e=this.normalizeText(e)).indexOf(t,e.length-t.length)},e.prototype.fnCONTAINS=function(e,t){return!!t&&!!~(e=this.normalizeText(e)).indexOf(t)},e.prototype.fnREPLACE=function(e,t,n){for(var r=e=this.normalizeText(e);;){var i=r.indexOf(t);if(!~i)break;r=r.substring(0,i)+n+r.substring(i+t.length)}return r},e.prototype.fnSEARCH=function(e,t,n){void 0===n&&(n=0),e=this.normalizeText(e),n=this.formatNumber(n);var r=e.indexOf(t,n);return~r?r:-1},e.prototype.fnMID=function(e,t,n){return(e=this.normalizeText(e)).substring(t,t+n)},e.prototype.fnBASENAME=function(e){return(e=this.normalizeText(e)).split(/[\\/]/).pop()},e.prototype.fnDATE=function(e,t,n,r,i,a){return void 0===t?new Date(e):new Date(e,t,n,r,i,a)},e.prototype.fnTIMESTAMP=function(e,t){return parseInt(N.default(e).format("x"===t?"x":"X"),10)},e.prototype.fnTODAY=function(){return new Date},e.prototype.fnNOW=function(){return new Date},e.prototype.fnDATETOSTR=function(e,t){return void 0===t&&(t="YYYY-MM-DD HH:mm:ss"),N.default(e).format(t)},e.prototype.fnSTARTOF=function(e,t){return N.default(e).startOf(t||"day").toDate()},e.prototype.fnENDOF=function(e,t){return N.default(e).endOf(t||"day").toDate()},e.prototype.normalizeDate=function(e){if("string"==typeof e)for(var t=["","YYYY-MM-DD HH:mm:ss"];t.length;){var n=t.shift(),r=N.default(e,n);if(r.isValid())return r.toDate()}else if("number"==typeof e)return new Date(e);return e},e.prototype.fnYEAR=function(e){return(e=this.normalizeDate(e)).getFullYear()},e.prototype.fnMONTH=function(e){return(e=this.normalizeDate(e)).getMonth()+1},e.prototype.fnDAY=function(e){return(e=this.normalizeDate(e)).getDate()},e.prototype.fnHOUR=function(e){return(e=this.normalizeDate(e)).getHours()},e.prototype.fnMINUTE=function(e){return(e=this.normalizeDate(e)).getMinutes()},e.prototype.fnSECOND=function(e){return(e=this.normalizeDate(e)).getSeconds()},e.prototype.fnYEARS=function(e,t){return e=this.normalizeDate(e),t=this.normalizeDate(t),N.default(e).diff(N.default(t),"year")},e.prototype.fnMINUTES=function(e,t){return e=this.normalizeDate(e),t=this.normalizeDate(t),N.default(e).diff(N.default(t),"minutes")},e.prototype.fnDAYS=function(e,t){return e=this.normalizeDate(e),t=this.normalizeDate(t),N.default(e).diff(N.default(t),"days")},e.prototype.fnHOURS=function(e,t){return e=this.normalizeDate(e),t=this.normalizeDate(t),N.default(e).diff(N.default(t),"hour")},e.prototype.fnDATEMODIFY=function(e,t,n){return e=this.normalizeDate(e),N.default(e).add(t,n).toDate()},e.prototype.fnSTRTODATE=function(e,t){return void 0===t&&(t=""),N.default(e,t).toDate()},e.prototype.fnISBEFORE=function(e,t,n){return void 0===n&&(n="day"),e=this.normalizeDate(e),t=this.normalizeDate(t),N.default(e).isBefore(N.default(t),n)},e.prototype.fnISAFTER=function(e,t,n){return void 0===n&&(n="day"),e=this.normalizeDate(e),t=this.normalizeDate(t),N.default(e).isAfter(N.default(t),n)},e.prototype.fnISSAMEORBEFORE=function(e,t,n){return void 0===n&&(n="day"),e=this.normalizeDate(e),t=this.normalizeDate(t),N.default(e).isSameOrBefore(N.default(t),n)},e.prototype.fnISSAMEORAFTER=function(e,t,n){return void 0===n&&(n="day"),e=this.normalizeDate(e),t=this.normalizeDate(t),N.default(e).isSameOrAfter(N.default(t),n)},e.prototype.fnCOUNT=function(e){return Array.isArray(e)?e.length:e?1:0},e.defaultFilters={},e}();var Ye={map:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Array.isArray(e)&&Ye[t]?e.map((function(e){var r;return(r=Ye[t]).call.apply(r,m.__spreadArray([undefined,e],n,!1))})):e},html:function(e){return null==e?e:Ie(e)},json:function(e,t){return void 0===t&&(t=2),t?JSON.stringify(e,null,parseInt(t,10)):JSON.stringify(e)},toJson:function(e){var t;try{t=JSON.parse(e)}catch(n){t=null}return t},toInt:function(e){return"string"==typeof e?parseInt(e,10):e},toFloat:function(e){return"string"==typeof e?parseFloat(e):e},raw:function(e){return e},now:function(){return new Date},toDate:function(e,t){void 0===t&&(t="");var n=N.default(e,t);return n.isValid()?n.toDate():void 0},fromNow:function(e,t){return void 0===t&&(t=""),N.default(e,t).fromNow()},dateModify:function(e,t,n,r){return void 0===t&&(t="add"),void 0===n&&(n=0),void 0===r&&(r="days"),e instanceof Date||(e=new Date),"endOf"===t||"startOf"===t?N.default(e)["endOf"===t?"endOf":"startOf"](n||"day").toDate():N.default(e)["add"===t?"add":"subtract"](parseInt(n,10)||0,r).toDate()},date:function(e,t,n){return void 0===t&&(t="LLL"),void 0===n&&(n="X"),N.default(e,n).format(t)},number:function(e){var t=String(e).split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},trim:function(e){return"string"==typeof e?e.trim():e},percent:function(e,t){void 0===t&&(t=0),e=parseFloat(e)||0,t=parseInt(t,10)||0;var n=100*e,r=Math.pow(10,t);return(Math.round(n*r)/r).toFixed(t)+"%"},duration:function(e){return e?Fe(e):e},bytes:function(e){return e?Me(parseFloat(e)):e},round:function(e,t){var n;if(void 0===t&&(t=2),isNaN(e))return 0;t=null!==(n=parseInt(t,10))&&void 0!==n?n:2;var r=Math.pow(10,t);return(Math.round(e*r)/r).toFixed(t)},truncate:function(e,t,n){return"string"!=typeof e?e:(n=n||"...",null==t?e:(t=parseInt(t,10)||200,e.substring(0,t)+(e.length>t?n:"")))},url_encode:function(e){return null==e?"":encodeURIComponent(e)},url_decode:function(e){return decodeURIComponent(e)},default:function(e,t,n){var r;return void 0===n&&(n=!1),null!==(r=n?e:e||void 0)&&void 0!==r?r:function(){try{if("undefined"===t)return;return JSON.parse(t)}catch(e){return t}}()},join:function(e,t){return e&&e.join?e.join(t):e},split:function(e,t){return void 0===t&&(t=","),"string"==typeof e?e.split(t):e},sortBy:function(e,t,n,r){return void 0===t&&(t="&"),void 0===n&&(n="alpha"),Array.isArray(e)?e.sort(function(e,t,n){return function(r,i){if(!r||!i)return 0;var a=Be(e,r),o=Be(e,i);return("numerical"===t?(parseFloat(a)||0)-(parseFloat(o)||0):String(a).localeCompare(String(o)))*("desc"===n?-1:1)}}(t,n,r)):e},objectToArray:function(e,t,n){return void 0===t&&(t="label"),void 0===n&&(n="value"),C.default(e,(function(e,r,i){var a;(e||(e=[])).push(((a={})[t]=r,a[n]=i,a))}),[])},unique:function(e,t){return Array.isArray(e)?t?k.default(e,t):z.default(e):e},topAndOther:function(e,t,n,r){if(void 0===t&&(t=10),void 0===n&&(n="name"),void 0===r&&(r="其他"),Array.isArray(e)&&t){var i=P.default(e,(function(n){var r=e.indexOf(n)+1;return r>=t?t:r}));return Object.keys(i).map((function(e,a){var o=i[e].reduce((function(e,t){return Object.keys(t).forEach((function(n){e.hasOwnProperty(n)&&"labelField"!==n?"number"==typeof t[n]&&"number"==typeof e[n]?e[n]+=t[n]:"string"==typeof t[n]&&/^(?:\-|\.)\d/.test(t[n])&&"number"==typeof e[n]?e[n]+=parseFloat(t[n])||0:"string"==typeof t[n]&&"string"==typeof e[n]?e[n]+=", ".concat(t[n]):e[n]=t[n]:e[n]=t[n]})),e}),{});return a===t-1&&(o[n]=r||"其他"),o}))}return e},first:function(e){return e&&e[0]},nth:function(e,t){return void 0===t&&(t=0),e&&e[t]},last:function(e){return e&&(e.length?e[e.length-1]:null)},minus:function(e,t){var n;return void 0===t&&(t=1),ke((Number(e)||0)-Number(He(t,this.data,null===(n=this.filter)||void 0===n?void 0:n.args[0])))},plus:function(e,t){var n;return void 0===t&&(t=1),ke((Number(e)||0)+Number(He(t,this.data,null===(n=this.filter)||void 0===n?void 0:n.args[0])))},times:function(e,t){var n;return void 0===t&&(t=1),ke((Number(e)||0)*Number(He(t,this.data,null===(n=this.filter)||void 0===n?void 0:n.args[0])))},division:function(e,t){var n;return void 0===t&&(t=1),ke((Number(e)||0)/Number(He(t,this.data,null===(n=this.filter)||void 0===n?void 0:n.args[0])))},count:function(e){return Array.isArray(e)||"string"==typeof e?e.length:0},sum:function(e,t){return Array.isArray(e)?ke(e.reduce((function(e,n){return e+(parseFloat(t?ze(t,n):n)||0)}),0)):e},abs:function(e){return"number"==typeof e?Math.abs(e):e},pick:function(e,t){return void 0===t&&(t="&"),Array.isArray(e)&&!/^\d+$/.test(t)?e.map((function(e,n){return ze(t,xe({index:n},e))})):ze(t,e)},pick_if_exist:function(e,t){return void 0===t&&(t="&"),Array.isArray(e)?e.map((function(e){return Be(t,e)||e})):Be(t,e)||e},str2date:function(e,t,n){return void 0===t&&(t="X"),void 0===n&&(n="X"),e?Pe(e,this.data,t).format(n):""},asArray:function(e){return Array.isArray(e)?e:e?[e]:e},concat:function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return Array.isArray(e)?e.concat.apply(e,n.map((function(e,n){var r;return He(e,t.data,null===(r=t.filter)||void 0===r?void 0:r.args[n])}))):e},filter:function(e,t,n,r){var i,a,o,u;if(!Array.isArray(e)||!t||!n)return e;var s=n,p=function(){return!0};if("isTrue"===s)p=function(e){return!!e};else if("isFalse"===s)p=function(e){return!e};else if("isExists"===s)p=function(e){return void 0!==e};else if("equals"===s||"equal"===s)r=r?He(r,this.data,null===(i=this.filter)||void 0===i?void 0:i.args[2]):"",p=function(e){return r==e};else if("isIn"===s){var l=r?He(r,this.data,null===(a=this.filter)||void 0===a?void 0:a.args[2]):[];l=je(l),l=Array.isArray(l)?l:l?[l]:[],p=function(e){return!l.length||!!~l.indexOf(e)}}else if("notIn"===s){var c=r?He(r,this.data,null===(o=this.filter)||void 0===o?void 0:o.args[2]):[];c=je(c),c=Array.isArray(c)?c:c?[c]:[],p=function(e){return!~c.indexOf(e)}}else{if("match"!==s&&(s="match",r=n),!(r=r?He(r,this.data,null===(u=this.filter)||void 0===u?void 0:u.args[2]):""))return e;var f=Te("".concat(r),!1);p=function(e){return f.test(String(e))}}var m=/\s*\*\s*/.test(t);return t=t.split(/\s*,\s*/),e.filter((function(e){return(m?Object.keys(e):t).some((function(t){return p(Be(t,e),t,e)}))}))},base64Encode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))},base64Decode:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},substring:function(e,t,n){return e&&"string"==typeof e?e.substring(t,n):e},lowerCase:function(e){return e&&"string"==typeof e?e.toLowerCase():e},upperCase:function(e){return e&&"string"==typeof e?e.toUpperCase():e},isTrue:function(e,t,n){var r=arguments.length>2;return Ue(e,r,this,!!e,t,n)},isFalse:function(e,t,n){var r=arguments.length>2;return Ue(e,r,this,!e,t,n)},isMatch:function(e,t,n,r){var i,a,o=arguments.length>3;return Ue(e,o,this,(t=null!==(a=He(t,this.data,null===(i=this.filter)||void 0===i?void 0:i.args[0]))&&void 0!==a?a:t)&&Te("".concat(t),!1).test(String(e)),n,r)},notMatch:function(e,t,n,r){var i,a,o=arguments.length>3;return Ue(e,o,this,(t=null!==(a=He(t,this.data,null===(i=this.filter)||void 0===i?void 0:i.args[0]))&&void 0!==a?a:t)&&!Te("".concat(t),!1).test(String(e)),n,r)},isEquals:function(e,t,n,r){var i,a;t=null!==(a=He(t,this.data,null===(i=this.filter)||void 0===i?void 0:i.args[0]))&&void 0!==a?a:t;var o=arguments.length>3;return Ue(e,o,this,e===t,n,r)},notEquals:function(e,t,n,r){var i,a;t=null!==(a=He(t,this.data,null===(i=this.filter)||void 0===i?void 0:i.args[0]))&&void 0!==a?a:t;var o=arguments.length>3;return Ue(e,o,this,e!==t,n,r)}};function Ue(e,t,n,r,i,a){var o,u,s;(t||r)&&function(e){var t;for(;~["isTrue","isFalse","isMatch","isEquals","notMatch","notEquals"].indexOf(null===(t=e[0])||void 0===t?void 0:t.name);)e.shift()}(n.restFilters);var p=r?i:a,l=r?null===(o=n.filter)||void 0===o?void 0:o.args[1]:null===(u=n.filter)||void 0===u?void 0:u.args[2];return r||t?null!==(s=He(p,n.data,l))&&void 0!==s?s:p:e}function He(e,t,n){return(null==n?void 0:n.type)&&"literal"!==n.type?e:"string"==typeof e&&/,/.test(e)?e.split(/\s*,\s*/).filter((function(e){return e})):"string"==typeof e?Be(e,t):e}function je(e){return e&&"string"==typeof e?/^\[.*\]$/.test(e)?e.substring(1,e.length-1).split(/\s*,\s*/).filter((function(e){return e})):e.split(/\s*,\s*/).filter((function(e){return e})):e}function $e(){return Ye}_e.setDefaultFilters($e()),f.Evaluator=_e,f.cloneObject=Ae,f.createObject=xe,f.deleteVariable=function(e,t){if(e)if(e.hasOwnProperty(t))delete e[t];else{for(var n=De(t),r=n.pop();n.length;){var i=n.shift();if(!L.default(e[i])){if(e[i])throw new Error("目标路径不是纯对象，不能修改");break}e=e[i]=m.__assign({},e[i])}e&&e.hasOwnProperty&&e.hasOwnProperty(r)&&delete e[r]}},f.escapeHtml=Ie,f.evaluate=function(e,t,n){return"string"==typeof e&&(e=be(e,n)),new _e(t,n).evalute(e)},f.filterDate=Pe,f.filters=Ye,f.formatDuration=Fe,f.getFilters=$e,f.getVariable=Se,f.isObject=Ee,f.isPureVariable=function(e){return"string"==typeof e&&/^\$(?:((?:\w+\:)?[a-z0-9_.][a-z0-9_.\[\]]*)|{[^}{]+})$/i.test(e)},f.keyToPath=De,f.lexer=pe,f.parse=be,f.parseDuration=function(e){var t=/^((?:\-|\+)?(?:\d*\.)?\d+)(minute|min|hour|day|week|month|quarter|year|weekday|second|millisecond)s?$/.exec(e);if(t){var n=N.default.duration(parseFloat(t[1]),t[2]);if(N.default.isDuration(n))return n}},f.pickValues=ze,f.prettyBytes=Me,f.registerFilter=function(e,t){Ye[e]=t,_e.setDefaultFilters(Ye)},f.relativeValueRe=Ce,f.resolveVariable=Be,f.resolveVariableAndFilter=function(e,t,n,r){if(void 0===t&&(t={}),void 0===n&&(n="| html"),void 0===r&&(r=function(e){return e}),e&&"string"==typeof e)try{var i=be(e,{evalMode:!1,allowFilter:!0}),a=new _e(t,{defaultFilter:n}).evalute(i);return null!=a||~e.indexOf("default")||~e.indexOf("now")?a:r(a)}catch(o){return}},f.setVariable=Oe,f.string2regExp=Te,f.stripNumber=ke,f.tokenize=Ne;var Ve={doc:[{name:"IF",description:"示例：IF(A, B, C)\n\n如果满足条件A，则返回B，否则返回C，支持多层嵌套IF函数。\n\n也可以用表达式如：A ? B : C",example:"IF(condition, consequent, alternate)",params:[{type:"expression",name:"condition",description:"条件表达式."},{type:"any",name:"consequent",description:"条件判断通过的返回结果"},{type:"any",name:"alternate",description:"条件判断不通过的返回结果"}],returns:{type:"any",description:"根据条件返回不同的结果"},namespace:"逻辑函数"},{name:"AND",description:"条件全部符合，返回 true，否则返回 false\n\n示例：AND(语文成绩>80, 数学成绩>80)\n\n语文成绩和数学成绩都大于 80，则返回 true，否则返回 false\n\n也可以直接用表达式如：语文成绩>80 && 数学成绩>80",example:"AND(expression1, expression2, ...expressionN)",params:[{type:"...expression",name:"conditions",description:"条件表达式."}],returns:{type:"boolean",description:null},namespace:"逻辑函数"},{name:"OR",description:"条件任意一个满足条件，返回 true，否则返回 false\n\n示例：OR(语文成绩>80, 数学成绩>80)\n\n语文成绩和数学成绩任意一个大于 80，则返回 true，否则返回 false\n\n也可以直接用表达式如：语文成绩>80 || 数学成绩>80",example:"OR(expression1, expression2, ...expressionN)",params:[{type:"...expression",name:"conditions",description:"条件表达式."}],returns:{type:"boolean",description:null},namespace:"逻辑函数"},{name:"XOR",description:"异或处理，两个表达式同时为「真」，或者同时为「假」，则结果返回为「真」",example:"XOR(condition1, condition2)",params:[{type:"expression",name:"condition1",description:"条件表达式1"},{type:"expression",name:"condition2",description:"条件表达式2"}],returns:{type:"boolean",description:null},namespace:"逻辑函数"},{name:"IFS",description:'判断函数集合，相当于多个 else if 合并成一个。\n\n示例：IFS(语文成绩 > 80, "优秀", 语文成绩 > 60, "良", "继续努力")\n\n如果语文成绩大于 80，则返回优秀，否则判断大于 60 分，则返回良，否则返回继续努力。',example:"IFS(condition1, result1, condition2, result2,...conditionN, resultN)",params:[{type:"...any",name:"args",description:"条件，返回值集合"}],returns:{type:"any",description:"第一个满足条件的结果，没有命中的返回 false。"},namespace:"逻辑函数"},{name:"ABS",description:"返回传入数字的绝对值",example:"ABS(num)",params:[{type:"number",name:"num",description:"数值"}],returns:{type:"number",description:"传入数值的绝对值"},namespace:"数学函数"},{name:"MAX",description:"获取最大值",example:"MAX(num1, num2, ...numN)",params:[{type:"...number",name:"num",description:"数值"}],returns:{type:"number",description:"所有传入值中最大的那个"},namespace:"数学函数"},{name:"MIN",description:"获取最小值",example:"MIN(num1, num2, ...numN)",params:[{type:"...number",name:"num",description:"数值"}],returns:{type:"number",description:"所有传入值中最小的那个"},namespace:"数学函数"},{name:"SUM",description:"求和",example:"SUM(num1, num2, ...numN)",params:[{type:"...number",name:"num",description:"数值"}],returns:{type:"number",description:"所有传入数值的总和"},namespace:"数学函数"},{name:"INT",description:"将数值向下取整为最接近的整数",example:"INT(num)",params:[{type:"number",name:"num",description:"数值"}],returns:{type:"number",description:"数值对应的整形"},namespace:"数学函数"},{name:"MOD",description:"返回两数相除的余数，参数 number 是被除数，divisor 是除数",example:"MOD(num, divisor)",params:[{type:"number",name:"num",description:"被除数"},{type:"number",name:"divisor",description:"除数"}],returns:{type:"number",description:"两数相除的余数"},namespace:"数学函数"},{name:"PI",description:"圆周率 3.1415...",example:"PI()",params:[],returns:{type:"number",description:"圆周率数值"},namespace:"数学函数"},{name:"ROUND",description:"将数字四舍五入到指定的位数，可以设置小数位。",example:"ROUND(num[, numDigits = 2])",params:[{type:"number",name:"num",description:"要处理的数字"},{type:"number",name:"numDigits",description:"小数位数"}],returns:{type:"number",description:"传入数值四舍五入后的结果"},namespace:"数学函数"},{name:"FLOOR",description:"将数字向下取整到指定的位数，可以设置小数位。",example:"FLOOR(num[, numDigits=2])",params:[{type:"number",name:"num",description:"要处理的数字"},{type:"number",name:"numDigits",description:"小数位数"}],returns:{type:"number",description:"传入数值向下取整后的结果"},namespace:"数学函数"},{name:"CEIL",description:"将数字向上取整到指定的位数，可以设置小数位。",example:"CEIL(num[, numDigits=2])",params:[{type:"number",name:"num",description:"要处理的数字"},{type:"number",name:"numDigits",description:"小数位数"}],returns:{type:"number",description:"传入数值向上取整后的结果"},namespace:"数学函数"},{name:"SQRT",description:"开平方，参数 number 为非负数",example:"SQRT(num)",params:[{type:"number",name:"num",description:"要处理的数字"}],returns:{type:"number",description:"开平方的结果"},namespace:"数学函数"},{name:"AVG",description:"返回所有参数的平均值",example:"AVG(num1, num2, ...numN)",params:[{type:"...number",name:"num",description:"要处理的数字"}],returns:{type:"number",description:"所有数值的平均值"},namespace:"数学函数"},{name:"DEVSQ",description:"返回数据点与数据均值点之差（数据偏差）的平方和",example:"DEVSQ(num1, num2, ...numN)",params:[{type:"...number",name:"num",description:"要处理的数字"}],returns:{type:"number",description:"所有数值的平均值"},namespace:"数学函数"},{name:"AVEDEV",description:"数据点到其算术平均值的绝对偏差的平均值",example:"AVEDEV(num1, num2, ...numN)",params:[{type:"...number",name:"num",description:"要处理的数字"}],returns:{type:"number",description:"所有数值的平均值"},namespace:"数学函数"},{name:"HARMEAN",description:"数据点的调和平均值",example:"HARMEAN(num1, num2, ...numN)",params:[{type:"...number",name:"num",description:"要处理的数字"}],returns:{type:"number",description:"所有数值的平均值"},namespace:"数学函数"},{name:"LARGE",description:"数据集中第 k 个最大值",example:"LARGE(array, k)",params:[{type:"array",name:"nums",description:"要处理的数字"},{type:"number",name:"k",description:"第几大"}],returns:{type:"number",description:"所有数值的平均值"},namespace:"数学函数"},{name:"UPPERMONEY",description:"将数值转为中文大写金额",example:"UPPERMONEY(num)",params:[{type:"number",name:"num",description:"要处理的数字"}],returns:{type:"string",description:"数值中文大写字符"},namespace:"数学函数"},{name:"RAND",description:"返回大于等于 0 且小于 1 的均匀分布随机实数。每一次触发计算都会变化。\n\n示例：`RAND()*100`\n\n返回 0-100 之间的随机数",example:"RAND()",params:[],returns:{type:"number",description:"随机数"},namespace:"数学函数"},{name:"LAST",description:"取数据最后一个",example:"LAST(array)",params:[{type:"...number",name:"arr",description:"要处理的数组"}],returns:{type:"any",description:"最后一个值"},namespace:"数学函数"},{name:"LEFT",description:"返回传入文本左侧的指定长度字符串。",example:"LEFT(text, len)",params:[{type:"string",name:"text",description:"要处理的文本"},{type:"number",name:"len",description:"要处理的长度"}],returns:{type:"string",description:"对应字符串"},namespace:"文本函数"},{name:"RIGHT",description:"返回传入文本右侧的指定长度字符串。",example:"RIGHT(text, len)",params:[{type:"string",name:"text",description:"要处理的文本"},{type:"number",name:"len",description:"要处理的长度"}],returns:{type:"string",description:"对应字符串"},namespace:"文本函数"},{name:"LEN",description:"计算文本的长度",example:"LEN(text)",params:[{type:"string",name:"text",description:"要处理的文本"}],returns:{type:"number",description:"长度"},namespace:"文本函数"},{name:"LENGTH",description:"计算文本集合中所有文本的长度",example:"LENGTH(textArr)",params:[{type:"Array<string>",name:"textArr",description:"要处理的文本集合"}],returns:{type:"Array<number>",description:"长度集合"},namespace:"文本函数"},{name:"ISEMPTY",description:"判断文本是否为空",example:"ISEMPTY(text)",params:[{type:"string",name:"text",description:"要处理的文本"}],returns:{type:"boolean",description:"判断结果"},namespace:"文本函数"},{name:"CONCATENATE",description:"将多个传入值连接成文本",example:"CONCATENATE(text1, text2, ...textN)",params:[{type:"...string",name:"text",description:"文本集合"}],returns:{type:"string",description:"连接后的文本"},namespace:"文本函数"},{name:"CHAR",description:'返回计算机字符集的数字代码所对应的字符。\n\n`CHAR(97)` 等价于 "a"',example:"CHAR(code)",params:[{type:"number",name:"code",description:"编码值"}],returns:{type:"string",description:"指定位置的字符"},namespace:"文本函数"},{name:"LOWER",description:"将传入文本转成小写",example:"LOWER(text)",params:[{type:"string",name:"text",description:"文本"}],returns:{type:"string",description:"结果文本"},namespace:"文本函数"},{name:"UPPER",description:"将传入文本转成大写",example:"UPPER(text)",params:[{type:"string",name:"text",description:"文本"}],returns:{type:"string",description:"结果文本"},namespace:"文本函数"},{name:"UPPERFIRST",description:"将传入文本首字母转成大写",example:"UPPERFIRST(text)",params:[{type:"string",name:"text",description:"文本"}],returns:{type:"string",description:"结果文本"},namespace:"文本函数"},{name:"PADSTART",description:'向前补齐文本长度\n\n示例 `PADSTART("6", 2, "0")`\n\n返回 `06`',example:"PADSTART(text)",params:[{type:"string",name:"text",description:"文本"},{type:"number",name:"num",description:"目标长度"},{type:"string",name:"pad",description:"用于补齐的文本"}],returns:{type:"string",description:"结果文本"},namespace:"文本函数"},{name:"CAPITALIZE",description:'将文本转成标题\n\n示例 `CAPITALIZE("star")`\n\n返回 `Star`',example:"CAPITALIZE(text)",params:[{type:"string",name:"text",description:"文本"}],returns:{type:"string",description:"结果文本"},namespace:"文本函数"},{name:"ESCAPE",description:'对文本进行 HTML 转义\n\n示例 `ESCAPE("star")`\n\n返回 `Star`',example:"ESCAPE(text)",params:[{type:"string",name:"text",description:"文本"}],returns:{type:"string",description:"结果文本"},namespace:"文本函数"},{name:"TRUNCATE",description:'对文本长度进行截断\n\n示例 `TRUNCATE("amis.baidu.com", 6)`\n\n返回 `amis...`',example:"TRUNCATE(text, 6)",params:[{type:"string",name:"text",description:"文本"},{type:"number",name:"text",description:"最长长度"}],returns:{type:"string",description:"结果文本"},namespace:"文本函数"},{name:"BEFORELAST",description:"取在某个分隔符之前的所有字符串",example:"BEFORELAST(text, '.')",params:[{type:"string",name:"text",description:"文本"},{type:"string",name:"delimiter",description:"结束文本"}],returns:{type:"string",description:"判断结果"},namespace:"文本函数"},{name:"SPLIT",description:'将文本根据指定片段分割成数组\n\n示例：`SPLIT("a,b,c", ",")`\n\n返回 `["a", "b", "c"]`',example:"SPLIT(text, ',')",params:[{type:"string",name:"text",description:"文本"},{type:"string",name:"delimiter",description:"文本片段"}],returns:{type:"Array<string>",description:"文本集"},namespace:"文本函数"},{name:"TRIM",description:"将文本去除前后空格",example:"TRIM(text)",params:[{type:"string",name:"text",description:"文本"}],returns:{type:"string",description:"处理后的文本"},namespace:"文本函数"},{name:"STRIPTAG",description:'去除文本中的 HTML 标签\n\n示例：`STRIPTAG("<b>amis</b>")`\n\n返回：`amis`',example:"STRIPTAG(text)",params:[{type:"string",name:"text",description:"文本"}],returns:{type:"string",description:"处理后的文本"},namespace:"文本函数"},{name:"LINEBREAK",description:'将字符串中的换行转成 HTML `<br>`，用于简单换行的场景\n\n示例：`LINEBREAK("\\n")`\n\n返回：`<br/>`',example:"LINEBREAK(text)",params:[{type:"string",name:"text",description:"文本"}],returns:{type:"string",description:"处理后的文本"},namespace:"文本函数"},{name:"STARTSWITH",description:"判断字符串(text)是否以特定字符串(startString)开始，是则返回 True，否则返回 False",example:"STARTSWITH(text, '片段')",params:[{type:"string",name:"text",description:"文本"},{type:"string",name:"startString",description:"起始文本"}],returns:{type:"string",description:"判断结果"},namespace:"文本函数"},{name:"ENDSWITH",description:"判断字符串(text)是否以特定字符串(endString)结束，是则返回 True，否则返回 False",example:"ENDSWITH(text, '片段')",params:[{type:"string",name:"text",description:"文本"},{type:"string",name:"endString",description:"结束文本"}],returns:{type:"string",description:"判断结果"},namespace:"文本函数"},{name:"CONTAINS",description:"判断参数 1 中的文本是否包含参数 2 中的文本。",example:"CONTAINS(text, searchText)",params:[{type:"string",name:"text",description:"文本"},{type:"string",name:"searchText",description:"搜索文本"}],returns:{type:"string",description:"判断结果"},namespace:"文本函数"},{name:"REPLACE",description:"对文本进行全量替换。",example:"REPLACE(text, search, replace)",params:[{type:"string",name:"text",description:"要处理的文本"},{type:"string",name:"search",description:"要被替换的文本"},{type:"string",name:"replace",description:"要替换的文本"}],returns:{type:"string",description:"处理结果"},namespace:"文本函数"},{name:"SEARCH",description:"对文本进行搜索，返回命中的位置",example:"SEARCH(text, search, 0)",params:[{type:"string",name:"text",description:"要处理的文本"},{type:"string",name:"search",description:"用来搜索的文本"},{type:"number",name:"start",description:"起始位置"}],returns:{type:"number",description:"命中的位置"},namespace:"文本函数"},{name:"MID",description:"返回文本字符串中从指定位置开始的特定数目的字符",example:"MID(text, from, len)",params:[{type:"string",name:"text",description:"要处理的文本"},{type:"number",name:"from",description:"起始位置"},{type:"number",name:"len",description:"处理长度"}],returns:{type:"number",description:"命中的位置"},namespace:"文本函数"},{name:"BASENAME",description:"返回路径中的文件名\n\n示例：`/home/amis/a.json`\n\n返回：a.json`",example:"BASENAME(text)",params:[{type:"string",name:"text",description:"要处理的文本"}],returns:{type:"string",description:"文件名"},namespace:"文本函数"},{name:"DATE",description:"创建日期对象，可以通过特定格式的字符串，或者数值。\n\n需要注意的是，其中月份的数值是从0开始的，也就是说，\n如果是12月份，你应该传入数值11。",example:"DATE('2021-12-06 08:20:00')",params:[],returns:{type:"Date",description:"日期对象"},namespace:"日期函数"},{name:"TIMESTAMP",description:"返回时间的时间戳",example:'TIMESTAMP(date[, format = "X"])',params:[{type:"date",name:"date",description:"日期对象"},{type:"string",name:"format",description:"时间戳格式，带毫秒传入 'x'。默认为 'X' 不带毫秒的。"}],returns:{type:"number",description:"时间戳"},namespace:"日期函数"},{name:"TODAY",description:"返回今天的日期",example:"TODAY()",params:[],returns:{type:"number",description:"日期"},namespace:"日期函数"},{name:"NOW",description:"返回现在的日期",example:"NOW()",params:[],returns:{type:"number",description:"日期"},namespace:"日期函数"},{name:"DATETOSTR",description:"将日期转成日期字符串",example:'DATETOSTR(date[, format="YYYY-MM-DD HH:mm:ss"])',params:[{type:"date",name:"date",description:"日期对象"},{type:"string",name:"format",description:'日期格式，默认为 "YYYY-MM-DD HH:mm:ss"'}],returns:{type:"number",description:"日期字符串"},namespace:"日期函数"},{name:"STARTOF",description:"返回日期的指定范围的开端",example:'STARTOF(date[unit = "day"])',params:[{type:"date",name:"date",description:"日期对象"},{type:"string",name:"unit",description:"比如可以传入 'day'、'month'、'year' 或者 `week` 等等"}],returns:{type:"date",description:"新的日期对象"},namespace:"日期函数"},{name:"ENDOF",description:"返回日期的指定范围的末尾",example:'ENDOF(date[unit = "day"])',params:[{type:"date",name:"date",description:"日期对象"},{type:"string",name:"unit",description:"比如可以传入 'day'、'month'、'year' 或者 `week` 等等"}],returns:{type:"date",description:"新的日期对象"},namespace:"日期函数"},{name:"YEAR",description:"返回日期的年份",example:"YEAR(date)",params:[{type:"date",name:"date",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"MONTH",description:"返回日期的月份，这里就是自然月份。",example:"MONTH(date)",params:[{type:"date",name:"date",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"DAY",description:"返回日期的天",example:"DAY(date)",params:[{type:"date",name:"date",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"HOUR",description:"返回日期的小时",example:"HOUR(date)",params:[{type:"date",name:"date",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"MINUTE",description:"返回日期的分",example:"MINUTE(date)",params:[{type:"date",name:"date",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"SECOND",description:"返回日期的秒",example:"SECOND(date)",params:[{type:"date",name:"date",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"YEARS",description:"返回两个日期相差多少年",example:"YEARS(endDate, startDate)",params:[{type:"date",name:"endDate",description:"日期对象"},{type:"date",name:"startDate",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"MINUTES",description:"返回两个日期相差多少分钟",example:"MINUTES(endDate, startDate)",params:[{type:"date",name:"endDate",description:"日期对象"},{type:"date",name:"startDate",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"DAYS",description:"返回两个日期相差多少天",example:"DAYS(endDate, startDate)",params:[{type:"date",name:"endDate",description:"日期对象"},{type:"date",name:"startDate",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"HOURS",description:"返回两个日期相差多少小时",example:"HOURS(endDate, startDate)",params:[{type:"date",name:"endDate",description:"日期对象"},{type:"date",name:"startDate",description:"日期对象"}],returns:{type:"number",description:"数值"},namespace:"日期函数"},{name:"DATEMODIFY",description:"修改日期，对日期进行加减天、月份、年等操作\n\n示例：\n\nDATEMODIFY(A, -2, 'month')\n\n对日期 A 进行往前减2月的操作。",example:"DATEMODIFY(date, 2, 'days')",params:[{type:"date",name:"date",description:"日期对象"},{type:"number",name:"num",description:"数值"},{type:"string",name:"unit",description:"单位：支持年、月、天等等"}],returns:{type:"date",description:"日期对象"},namespace:"日期函数"},{name:"STRTODATE",description:"将字符日期转成日期对象，可以指定日期格式。\n\n示例：STRTODATE('2021/12/6', 'YYYY/MM/DD')",example:'STRTODATE(value[, format=""])',params:[{type:"string",name:"value",description:"日期字符"},{type:"string",name:"format",description:"日期格式"}],returns:{type:"date",description:"日期对象"},namespace:"日期函数"},{name:"ISBEFORE",description:"判断两个日期，是否第一个日期在第二个日期的前面",example:"ISBEFORE(a, b)",params:[{type:"date",name:"a",description:"第一个日期"},{type:"date",name:"b",description:"第二个日期"},{type:"string",name:"unit",description:"单位，默认是 'day'， 即之比较到天"}],returns:{type:"boolean",description:"判断结果"},namespace:"日期函数"},{name:"ISAFTER",description:"判断两个日期，是否第一个日期在第二个日期的后面",example:"ISAFTER(a, b)",params:[{type:"date",name:"a",description:"第一个日期"},{type:"date",name:"b",description:"第二个日期"},{type:"string",name:"unit",description:"单位，默认是 'day'， 即之比较到天"}],returns:{type:"boolean",description:"判断结果"},namespace:"日期函数"},{name:"ISSAMEORBEFORE",description:"判断两个日期，是否第一个日期在第二个日期的前面或者相等",example:"ISSAMEORBEFORE(a, b)",params:[{type:"date",name:"a",description:"第一个日期"},{type:"date",name:"b",description:"第二个日期"},{type:"string",name:"unit",description:"单位，默认是 'day'， 即之比较到天"}],returns:{type:"boolean",description:"判断结果"},namespace:"日期函数"},{name:"ISSAMEORAFTER",description:"判断两个日期，是否第一个日期在第二个日期的后面或者相等",example:"ISSAMEORAFTER(a, b)",params:[{type:"date",name:"a",description:"第一个日期"},{type:"date",name:"b",description:"第二个日期"},{type:"string",name:"unit",description:"单位，默认是 'day'， 即之比较到天"}],returns:{type:"boolean",description:"判断结果"},namespace:"日期函数"},{name:"COUNT",description:"返回数组的长度",example:"COUNT(arr)",params:[{type:"Array<any>",name:"arr",description:"数组"}],returns:{type:"boolean",description:"结果"},namespace:"其他"}]};export{Ve as a,f as d};
