var n,t,i={exports:{}},r={exports:{}};t=(n=r).exports,n.exports.isNumber=function(n){return"number"==typeof n},n.exports.findMin=function(n){if(0===n.length)return 1/0;for(var t=n[0],i=1;i<n.length;i++)t=Math.min(t,n[i]);return t},n.exports.findMax=function(n){if(0===n.length)return-1/0;for(var t=n[0],i=1;i<n.length;i++)t=Math.max(t,n[i]);return t},n.exports.findMinMulti=function(n){for(var i=t.findMin(n[0]),r=1;r<n.length;r++)i=Math.min(i,t.findMin(n[r]));return i},n.exports.findMaxMulti=function(n){for(var i=t.findMax(n[0]),r=1;r<n.length;r++)i=Math.max(i,t.findMax(n[r]));return i},n.exports.inside=function(n,t,i){return n<=i&&i<=t},function(n){var t=Math.log(2),i=n.exports,e=r.exports;function a(n){return 1-Math.abs(n)}n.exports.getUnifiedMinMax=function(n,t){return i.getUnifiedMinMaxMulti([n],t)},n.exports.getUnifiedMinMaxMulti=function(n,t){t=t||{};var i=!1,r=!1,a=e.isNumber(t.width)?t.width:2,f=e.isNumber(t.size)?t.size:50,o=e.isNumber(t.min)?t.min:(i=!0,e.findMinMulti(n)),u=e.isNumber(t.max)?t.max:(r=!0,e.findMaxMulti(n)),x=(u-o)/(f-1);return i&&(o-=2*a*x),r&&(u+=2*a*x),{min:o,max:u}},n.exports.create=function(n,t){if(t=t||{},!n||0===n.length)return[];var r=e.isNumber(t.size)?t.size:50,f=e.isNumber(t.width)?t.width:2,o=i.getUnifiedMinMax(n,{size:r,width:f,min:t.min,max:t.max}),u=o.min,x=o.max-u,h=x/(r-1);if(0===x)return[{x:u,y:1}];for(var s=[],M=0;M<r;M++)s.push({x:u+M*h,y:0});var c=function(n,t){for(var i={},r=0,e=-t;e<=t;e++)r+=n(e/t),i[e]=r;return i}(a,f),l=c[f],m=c[f-1]-c[f-2],d=0;n.forEach((function(n){var t=function(n){return Math.floor((n-u)/h)}(n);if(!(t+f<0||t-f>=s.length)){var i=Math.max(t-f,0),r=t,a=Math.min(t+f,s.length-1),o=i-(t-f),x=t+f-a,M=c[-f-1+o]||0,g=c[-f-1+x]||0,p=l/(l-M-g);o>0&&(d+=p*(o-1)*m);var v=Math.max(0,t-f+1);e.inside(0,s.length-1,v)&&(s[v].y+=1*p*m),e.inside(0,s.length-1,r+1)&&(s[r+1].y-=2*p*m),e.inside(0,s.length-1,a+1)&&(s[a+1].y+=1*p*m)}}));var g=d,p=0,v=0;return s.forEach((function(n){p+=n.y,g+=p,n.y=g,v+=g})),v>0&&s.forEach((function(n){n.y/=v})),s},n.exports.getExpectedValueFromPdf=function(n){if(n&&0!==n.length){var t=0;return n.forEach((function(n){t+=n.x*n.y})),t}},n.exports.getXWithLeftTailArea=function(n,t){if(n&&0!==n.length){for(var i=0,r=0,e=0;e<n.length&&(r=e,!((i+=n[e].y)>=t));e++);return n[r].x}},n.exports.getPerplexity=function(n){if(n&&0!==n.length){var i=0;return n.forEach((function(n){var t=Math.log(n.y);isFinite(t)&&(i+=n.y*t)})),i=-i/t,Math.pow(2,i)}}}(i);var e=i.exports;export{e as p};
