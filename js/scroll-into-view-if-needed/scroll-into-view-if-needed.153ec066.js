function t(t){return null!=t&&"object"==typeof t&&1===t.nodeType}function e(t,e){return(!e||"hidden"!==t)&&("visible"!==t&&"clip"!==t)}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)}return!1}function r(t,e,n,r,o,i,l,a){return i<t&&l>e||i>t&&l<e?0:i<=t&&a<=n||l>=e&&a>=n?i-t-r:l>e&&a<n||i<t&&a>n?l-e+o:0}var o=function(e,o){var i=o.scrollMode,l=o.block,a=o.inline,c=o.boundary,d=o.skipOverflowHiddenElements,s="function"==typeof c?c:function(t){return t!==c};if(!t(e))throw new TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,h=[],u=e;t(u)&&s(u);){if((u=u.parentNode)===f){h.push(u);break}u===document.body&&n(u)&&!n(document.documentElement)||n(u,d)&&h.push(u)}for(var p=window.visualViewport?visualViewport.width:innerWidth,v=window.visualViewport?visualViewport.height:innerHeight,g=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),w=b.height,y=b.width,W=b.top,H=b.right,E=b.bottom,M=b.left,k="start"===l||"nearest"===l?W:"end"===l?E:W+w/2,x="center"===a?M+y/2:"end"===a?H:M,I=[],O=0;O<h.length;O++){var T=h[O],B=T.getBoundingClientRect(),C=B.height,V=B.width,j=B.top,L=B.right,R=B.bottom,X=B.left;if("if-needed"===i&&W>=0&&M>=0&&E<=v&&H<=p&&W>=j&&E<=R&&M>=X&&H<=L)return I;var Y=getComputedStyle(T),S=parseInt(Y.borderLeftWidth,10),D=parseInt(Y.borderTopWidth,10),N=parseInt(Y.borderRightWidth,10),q=parseInt(Y.borderBottomWidth,10),z=0,A=0,F="offsetWidth"in T?T.offsetWidth-T.clientWidth-S-N:0,G="offsetHeight"in T?T.offsetHeight-T.clientHeight-D-q:0;if(f===T)z="start"===l?k:"end"===l?k-v:"nearest"===l?r(m,m+v,v,D,q,m+k,m+k+w,w):k-v/2,A="start"===a?x:"center"===a?x-p/2:"end"===a?x-p:r(g,g+p,p,S,N,g+x,g+x+y,y),z=Math.max(0,z+m),A=Math.max(0,A+g);else{z="start"===l?k-j-D:"end"===l?k-R+q+G:"nearest"===l?r(j,R,C,D,q+G,k,k+w,w):k-(j+C/2)+G/2,A="start"===a?x-X-S:"center"===a?x-(X+V/2)+F/2:"end"===a?x-L+N+F:r(X,L,V,S,N+F,x,x+y,y);var J=T.scrollLeft,K=T.scrollTop;k+=K-(z=Math.max(0,Math.min(K+z,T.scrollHeight-C+G))),x+=J-(A=Math.max(0,Math.min(J+A,T.scrollWidth-V+F)))}I.push({el:T,top:z,left:A})}return I};function i(t){return t===Object(t)&&0!==Object.keys(t).length}function l(t,e){var n=!t.ownerDocument.documentElement.contains(t);if(i(e)&&"function"==typeof e.behavior)return e.behavior(n?[]:o(t,e));if(!n){var r=function(t){return!1===t?{block:"end",inline:"nearest"}:i(t)?t:{block:"start",inline:"nearest"}}(e);return function(t,e){void 0===e&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach((function(t){var r=t.el,o=t.top,i=t.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:e}):(r.scrollTop=o,r.scrollLeft=i)}))}(o(t,r),r.behavior)}}export{l as s};
