function t(t){return"/"===t.charAt(0)}function n(t,n){for(var r=n,e=r+1,i=t.length;e<i;r+=1,e+=1)t[r]=t[e];t.pop()}function r(r,e){void 0===e&&(e="");var i,o=r&&r.split("/")||[],f=e&&e.split("/")||[],a=r&&t(r),h=e&&t(e),l=a||h;if(r&&t(r)?f=o:o.length&&(f.pop(),f=f.concat(o)),!f.length)return"/";if(f.length){var u=f[f.length-1];i="."===u||".."===u||""===u}else i=!1;for(var s=0,p=f.length;p>=0;p--){var v=f[p];"."===v?n(f,p):".."===v?(n(f,p),s++):s&&(n(f,p),s--)}if(!l)for(;s--;s)f.unshift("..");!l||""===f[0]||f[0]&&t(f[0])||f.unshift("");var c=f.join("/");return i&&"/"!==c.substr(-1)&&(c+="/"),c}export{r};
